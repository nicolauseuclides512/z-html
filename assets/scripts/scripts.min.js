function executeFunctionByName(e,t){for(var n=[].slice.call(arguments).splice(2),i=e.split("."),o=i.pop(),r=0;r<i.length;r++)t=t[i[r]];return t[o].apply(this,n)}function resizeitems(){if($.isArray(resizefunc))for(i=0;i<resizefunc.length;i++)window[resizefunc[i]]()}function initscrolls(){jQuery.browser.mobile!==!0&&($(".slimscroller").slimscroll({height:"auto",size:"5px"}),$(".slimscrollleft").slimScroll({height:"auto",position:"right",size:"5px",color:"#7A868F",wheelStep:5}))}function toggle_slimscroll(e){$("#wrapper").hasClass("enlarged")?($(e).css("overflow","inherit").parent().css("overflow","inherit"),$(e).siblings(".slimScrollBar").css("visibility","hidden")):($(e).css("overflow","hidden").parent().css("overflow","hidden"),$(e).siblings(".slimScrollBar").css("visibility","visible"))}if(function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||ne;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function i(e){var t=!!e&&"length"in e&&e.length,n=me.type(e);return"function"!==n&&!me.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function r(e,t,n){return me.isFunction(t)?me.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?me.grep(e,function(e){return e===t!==n}):"string"!=typeof t?me.grep(e,function(e){return ae.call(t,e)>-1!==n}):Te.test(t)?me.filter(t,e,n):(t=me.filter(t,e),me.grep(e,function(e){return ae.call(t,e)>-1!==n&&1===e.nodeType}))}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return me.each(e.match(Me)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function c(e){throw e}function u(e,t,n,i){var o;try{e&&me.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&me.isFunction(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function d(){ne.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),me.ready()}function h(){this.expando=me.expando+h.uid++}function f(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Pe.test(e)?JSON.parse(e):e)}function p(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ue,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n=f(n)}catch(o){}Re.set(e,t,n)}else n=void 0;return n}function m(e,t,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return me.css(e,t,"")},l=a(),c=n&&n[3]||(me.cssNumber[t]?"":"px"),u=(me.cssNumber[t]||"px"!==c&&+l)&&ze.exec(me.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do r=r||".5",u/=r,me.style(e,t,u+c);while(r!==(r=a()/l)&&1!==r&&--s)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function g(e){var t,n=e.ownerDocument,i=e.nodeName,o=qe[i];return o?o:(t=n.body.appendChild(n.createElement(i)),o=me.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),qe[i]=o,o)}function v(e,t){for(var n,i,o=[],r=0,s=e.length;r<s;r++)i=e[r],i.style&&(n=i.style.display,t?("none"===n&&(o[r]=Le.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&je(i)&&(o[r]=g(i))):"none"!==n&&(o[r]="none",Le.set(i,"display",n)));for(r=0;r<s;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}function b(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?me.merge([e],n):n}function y(e,t){for(var n=0,i=e.length;n<i;n++)Le.set(e[n],"globalEval",!t||Le.get(t[n],"globalEval"))}function w(e,t,n,i,o){for(var r,s,a,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if(r=e[f],r||0===r)if("object"===me.type(r))me.merge(h,r.nodeType?[r]:r);else if(Ge.test(r)){for(s=s||d.appendChild(t.createElement("div")),a=(Ve.exec(r)||["",""])[1].toLowerCase(),l=Ke[a]||Ke._default,s.innerHTML=l[1]+me.htmlPrefilter(r)+l[2],u=l[0];u--;)s=s.lastChild;me.merge(h,s.childNodes),s=d.firstChild,s.textContent=""}else h.push(t.createTextNode(r));for(d.textContent="",f=0;r=h[f++];)if(i&&me.inArray(r,i)>-1)o&&o.push(r);else if(c=me.contains(r.ownerDocument,r),s=b(d.appendChild(r),"script"),c&&y(s),n)for(u=0;r=s[u++];)Xe.test(r.type||"")&&n.push(r);return d}function x(){return!0}function C(){return!1}function S(){try{return ne.activeElement}catch(e){}}function E(e,t,n,i,o,r){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)E(e,a,n,i,t[a],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=C;else if(!o)return e;return 1===r&&(s=o,o=function(e){return me().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=me.guid++)),e.each(function(){me.event.add(this,t,o,i,n)})}function T(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?me(">tbody",e)[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){var t=ot.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function A(e,t){var n,i,o,r,s,a,l,c;if(1===t.nodeType){if(Le.hasData(e)&&(r=Le.access(e),s=Le.set(t,r),c=r.events)){delete s.handle,s.events={};for(o in c)for(n=0,i=c[o].length;n<i;n++)me.event.add(t,o,c[o][n])}Re.hasData(e)&&(a=Re.access(e),l=me.extend({},a),Re.set(t,l))}}function N(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function _(e,t,i,o){t=re.apply([],t);var r,s,a,l,c,u,d=0,h=e.length,f=h-1,p=t[0],m=me.isFunction(p);if(m||h>1&&"string"==typeof p&&!fe.checkClone&&it.test(p))return e.each(function(n){var r=e.eq(n);m&&(t[0]=p.call(this,n,r.html())),_(r,t,i,o)});if(h&&(r=w(t,e[0].ownerDocument,!1,e,o),s=r.firstChild,1===r.childNodes.length&&(r=s),s||o)){for(a=me.map(b(r,"script"),k),l=a.length;d<h;d++)c=r,d!==f&&(c=me.clone(c,!0,!0),l&&me.merge(a,b(c,"script"))),i.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,me.map(a,D),d=0;d<l;d++)c=a[d],Xe.test(c.type||"")&&!Le.access(c,"globalEval")&&me.contains(u,c)&&(c.src?me._evalUrl&&me._evalUrl(c.src):n(c.textContent.replace(rt,""),u))}return e}function M(e,t,n){for(var i,o=t?me.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||me.cleanData(b(i)),i.parentNode&&(n&&me.contains(i.ownerDocument,i)&&y(b(i,"script")),i.parentNode.removeChild(i));return e}function F(e,t,n){var i,o,r,s,a=e.style;return n=n||lt(e),n&&(s=n.getPropertyValue(t)||n[t],""!==s||me.contains(e.ownerDocument,e)||(s=me.style(e,t)),!fe.pixelMarginRight()&&at.test(s)&&st.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function $(e){if(e in pt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if(e=ft[n]+t,e in pt)return e}function I(e){var t=me.cssProps[e];return t||(t=me.cssProps[e]=$(e)||e),t}function L(e,t,n){var i=ze.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function R(e,t,n,i,o){var r,s=0;for(r=n===(i?"border":"content")?4:"width"===t?1:0;r<4;r+=2)"margin"===n&&(s+=me.css(e,n+He[r],!0,o)),i?("content"===n&&(s-=me.css(e,"padding"+He[r],!0,o)),"margin"!==n&&(s-=me.css(e,"border"+He[r]+"Width",!0,o))):(s+=me.css(e,"padding"+He[r],!0,o),"padding"!==n&&(s+=me.css(e,"border"+He[r]+"Width",!0,o)));return s}function P(e,t,n){var i,o=lt(e),r=F(e,t,o),s="border-box"===me.css(e,"boxSizing",!1,o);return at.test(r)?r:(i=s&&(fe.boxSizingReliable()||r===e.style[t]),"auto"===r&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)]),r=parseFloat(r)||0,r+R(e,t,n||(s?"border":"content"),i,o)+"px")}function U(e,t,n,i,o){return new U.prototype.init(e,t,n,i,o)}function B(){gt&&(ne.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(B):e.setTimeout(B,me.fx.interval),me.fx.tick())}function z(){return e.setTimeout(function(){mt=void 0}),mt=me.now()}function H(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)n=He[i],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function j(e,t,n){for(var i,o=(Y.tweeners[t]||[]).concat(Y.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function W(e,t,n){var i,o,r,s,a,l,c,u,d="width"in t||"height"in t,h=this,f={},p=e.style,m=e.nodeType&&je(e),g=Le.get(e,"fxshow");n.queue||(s=me._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,me.queue(e,"fx").length||s.empty.fire()})}));for(i in t)if(o=t[i],vt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||me.style(e,i)}if(l=!me.isEmptyObject(t),l||!me.isEmptyObject(f)){d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=g&&g.display,null==c&&(c=Le.get(e,"display")),u=me.css(e,"display"),"none"===u&&(c?u=c:(v([e],!0),c=e.style.display||c,u=me.css(e,"display"),v([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===me.css(e,"float")&&(l||(h.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(i in f)l||(g?"hidden"in g&&(m=g.hidden):g=Le.access(e,"fxshow",{display:c}),r&&(g.hidden=!m),m&&v([e],!0),h.done(function(){m||v([e]),Le.remove(e,"fxshow");for(i in f)me.style(e,i,f[i])})),l=j(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}}function q(e,t){var n,i,o,r,s;for(n in e)if(i=me.camelCase(n),o=t[i],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=me.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function Y(e,t,n){var i,o,r=0,s=Y.prefilters.length,a=me.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=mt||z(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(r);return a.notifyWith(e,[c,r,n]),r<1&&l?n:(l||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:me.extend({},t),opts:me.extend(!0,{specialEasing:{},easing:me.easing._default},n),originalProperties:t,originalOptions:n,startTime:mt||z(),duration:n.duration,tweens:[],createTween:function(t,n){var i=me.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(q(u,c.opts.specialEasing);r<s;r++)if(i=Y.prefilters[r].call(c,e,u,c.opts))return me.isFunction(i.stop)&&(me._queueHooks(c.elem,c.opts.queue).stop=me.proxy(i.stop,i)),i;return me.map(u,j,c),me.isFunction(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),me.fx.timer(me.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function V(e){var t=e.match(Me)||[];return t.join(" ")}function X(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e,t,n,i){var o;if(Array.isArray(t))me.each(t,function(t,o){n||At.test(e)?i(e,o):K(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==me.type(t))i(e,t);else for(o in t)K(e+"["+o+"]",t[o],n,i)}function G(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(Me)||[];if(me.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Q(e,t,n,i){function o(a){var l;return r[a]=!0,me.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=e===Bt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function Z(e,t){var n,i,o=me.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&me.extend(!0,e,i),e}function J(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}function ee(e,t,n,i){var o,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}var te=[],ne=e.document,ie=Object.getPrototypeOf,oe=te.slice,re=te.concat,se=te.push,ae=te.indexOf,le={},ce=le.toString,ue=le.hasOwnProperty,de=ue.toString,he=de.call(Object),fe={},pe="3.2.1",me=function(e,t){return new me.fn.init(e,t)},ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ve=/^-ms-/,be=/-([a-z])/g,ye=function(e,t){return t.toUpperCase()};me.fn=me.prototype={jquery:pe,constructor:me,length:0,toArray:function(){return oe.call(this)},get:function(e){return null==e?oe.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=me.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return me.each(this,e)},map:function(e){return this.pushStack(me.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:te.sort,splice:te.splice},me.extend=me.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||me.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],i=e[t],s!==i&&(c&&i&&(me.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,r=n&&Array.isArray(n)?n:[]):r=n&&me.isPlainObject(n)?n:{},s[t]=me.extend(c,r,i)):void 0!==i&&(s[t]=i));return s},me.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===me.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=me.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ce.call(e))&&(!(t=ie(e))||(n=ue.call(t,"constructor")&&t.constructor,"function"==typeof n&&de.call(n)===he))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ve,"ms-").replace(be,ye)},each:function(e,t){var n,o=0;if(i(e))for(n=e.length;o<n&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ge,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?me.merge(n,"string"==typeof e?[e]:e):se.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],r=0,s=e.length,a=!n;r<s;r++)i=!t(e[r],r),i!==a&&o.push(e[r]);return o},map:function(e,t,n){var o,r,s=0,a=[];if(i(e))for(o=e.length;s<o;s++)r=t(e[s],s,n),null!=r&&a.push(r);else for(s in e)r=t(e[s],s,n),null!=r&&a.push(r);return re.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),me.isFunction(e))return i=oe.call(arguments,2),o=function(){return e.apply(t||this,i.concat(oe.call(arguments)))},o.guid=e.guid=e.guid||me.guid++,o},now:Date.now,support:fe}),"function"==typeof Symbol&&(me.fn[Symbol.iterator]=te[Symbol.iterator]),me.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var we=function(e){function t(e,t,n,i){var o,r,s,a,l,c,u,h=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:z)!==O&&F(t),t=t||O,I)){if(11!==p&&(l=ve.exec(e)))if(o=l[1]){if(9===p){if(!(s=t.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(h&&(s=h.getElementById(o))&&U(t,s)&&s.id===o)return n.push(s),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&C.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(C.qsa&&!Y[e+" "]&&(!L||!L.test(e))){if(1!==p)h=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(xe,Ce):t.setAttribute("id",a=B),c=k(e),r=c.length;r--;)c[r]="#"+a+" "+f(c[r]);u=c.join(","),h=be.test(e)&&d(t.parentNode)||t}if(u)try{return Z.apply(n,h.querySelectorAll(u)),n}catch(m){}finally{a===B&&t.removeAttribute("id")}}}return A(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function o(e){var t=O.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=n.length;i--;)S.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function f(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,o=t.next,r=o||i,s=n&&"parentNode"===r,a=j++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,h=[H,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(d=t[B]||(t[B]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[r])&&c[0]===H&&c[1]===a)return h[2]=c[2];if(u[r]=h,h[2]=e(t,n,l))return!0}return!1}}function m(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var o=0,r=n.length;o<r;o++)t(e,n[o],i);return i}function v(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),c&&t.push(a)));return s}function b(e,t,n,o,r,s){return o&&!o[B]&&(o=b(o)),r&&!r[B]&&(r=b(r,s)),i(function(i,s,a,l){var c,u,d,h=[],f=[],p=s.length,m=i||g(t||"*",a.nodeType?[a]:a,[]),b=!e||!i&&t?m:v(m,h,e,a,l),y=n?r||(i?e:p||o)?[]:s:b;if(n&&n(b,y,a,l),o)for(c=v(y,f),o(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[f[u]]=!(b[f[u]]=d));if(i){if(r||e){if(r){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);r(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=r?ee(i,d):h[u])>-1&&(i[c]=!(s[c]=d))}}else y=v(y===s?y.splice(p,y.length):y),r?r(null,s,y,l):Z.apply(s,y)})}function y(e){for(var t,n,i,o=e.length,r=S.relative[e[0].type],s=r||S.relative[" "],a=r?1:0,l=p(function(e){return e===t},s,!0),c=p(function(e){return ee(t,e)>-1},s,!0),u=[function(e,n,i){var o=!r&&(i||n!==N)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,o}];a<o;a++)if(n=S.relative[e[a].type])u=[p(m(u),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[B]){for(i=++a;i<o&&!S.relative[e[i].type];i++);return b(a>1&&m(u),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&y(e.slice(a,i)),i<o&&y(e=e.slice(i)),i<o&&f(e))}u.push(n)}return m(u)}function w(e,n){var o=n.length>0,r=e.length>0,s=function(i,s,a,l,c){var u,d,h,f=0,p="0",m=i&&[],g=[],b=N,y=i||r&&S.find.TAG("*",c),w=H+=null==b?1:Math.random()||.1,x=y.length;for(c&&(N=s===O||s||c);p!==x&&null!=(u=y[p]);p++){if(r&&u){for(d=0,s||u.ownerDocument===O||(F(u),a=!I);h=e[d++];)if(h(u,s||O,a)){l.push(u);break}c&&(H=w)}o&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,o&&p!==f){for(d=0;h=n[d++];)h(m,g,s,a);if(i){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=G.call(l));g=v(g)}Z.apply(l,g),c&&!i&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(H=w,N=b),m};return o?i(s):s}var x,C,S,E,T,k,D,A,N,_,M,F,O,$,I,L,R,P,U,B="sizzle"+1*new Date,z=e.document,H=0,j=0,W=n(),q=n(),Y=n(),V=function(e,t){return e===t&&(M=!0),0},X={}.hasOwnProperty,K=[],G=K.pop,Q=K.push,Z=K.push,J=K.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",re=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(re),he=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ce=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){F()},Ee=p(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Z.apply(K=J.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(Te){Z={apply:K.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}C=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},F=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,$=O.documentElement,I=!T(O),z!==O&&(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),C.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=o(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=ge.test(O.getElementsByClassName),C.getById=o(function(e){return $.appendChild(e).id=B,!O.getElementsByName||!O.getElementsByName(B).length}),C.getById?(S.filter.ID=function(e){var t=e.replace(ye,we);return function(e){return e.getAttribute("id")===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(S.filter.ID=function(e){var t=e.replace(ye,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n,i,o,r=t.getElementById(e);if(r){if(n=r.getAttributeNode("id"),n&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if(n=r.getAttributeNode("id"),n&&n.value===e)return[r]}return[]}}),S.find.TAG=C.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},S.find.CLASS=C.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&I)return t.getElementsByClassName(e)},R=[],L=[],(C.qsa=ge.test(O.querySelectorAll))&&(o(function(e){$.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),$.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=ge.test(P=$.matches||$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&o(function(e){C.disconnectedMatch=P.call(e,"*"),P.call(e,"[s!='']:x"),R.push("!=",re)}),L=L.length&&new RegExp(L.join("|")),R=R.length&&new RegExp(R.join("|")),t=ge.test($.compareDocumentPosition),U=t||ge.test($.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===O||e.ownerDocument===z&&U(z,e)?-1:t===O||t.ownerDocument===z&&U(z,t)?1:_?ee(_,e)-ee(_,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],l=[t];if(!o||!r)return e===O?-1:t===O?1:o?-1:r?1:_?ee(_,e)-ee(_,t):0;if(o===r)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===z?-1:l[i]===z?1:0},O):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&F(e),n=n.replace(ue,"='$1']"),C.matchesSelector&&I&&!Y[n+" "]&&(!R||!R.test(n))&&(!L||!L.test(n)))try{var i=P.call(e,n);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&F(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&F(e);var n=S.attrHandle[t.toLowerCase()],i=n&&X.call(S.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:C.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(xe,Ce)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(M=!C.detectDuplicates,_=!C.sortStable&&e.slice(0),e.sort(V),M){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return _=null,e},E=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=E(t);return n},S=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,we),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&b){for(h=g,d=h[B]||(h[B]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],f=c[0]===H&&c[1],y=f&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(y=f=0)||p.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[H,f,y];break}}else if(b&&(h=t,d=h[B]||(h[B]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],f=c[0]===H&&c[1],y=f),y===!1)for(;(h=++f&&h&&h[m]||(y=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&(d=h[B]||(h[B]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[e]=[H,y]),h!==t)););return y-=o,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(e,n){var o,r=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[B]?r(n):r.length>1?(o=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),s=o.length;s--;)i=ee(e,o[s]),
e[i]=!(t[i]=o[s])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=D(e.replace(ae,"$1"));return o[B]?i(function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,we),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,we).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===$},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=l(x);return h.prototype=S.filters=S.pseudos,S.setFilters=new h,k=t.tokenize=function(e,n){var i,o,r,s,a,l,c,u=q[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=S.preFilter;a;){i&&!(o=le.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ce.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ae," ")}),a=a.slice(i.length));for(s in S.filter)!(o=fe[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):q(e,l).slice(0)},D=t.compile=function(e,t){var n,i=[],o=[],r=Y[e+" "];if(!r){for(t||(t=k(e)),n=t.length;n--;)r=y(t[n]),r[B]?i.push(r):o.push(r);r=Y(e,w(o,i)),r.selector=e}return r},A=t.select=function(e,t,n,i){var o,r,s,a,l,c="function"==typeof e&&e,u=!i&&k(e=c.selector||e);if(n=n||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&9===t.nodeType&&I&&S.relative[r[1].type]){if(t=(S.find.ID(s.matches[0].replace(ye,we),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(s=r[o],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(ye,we),be.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&f(r),!e)return Z.apply(n,i),n;break}}return(c||D(e,u))(i,t,!I,n,!t||be.test(e)&&d(t.parentNode)||t),n},C.sortStable=B.split("").sort(V).join("")===B,C.detectDuplicates=!!M,F(),C.sortDetached=o(function(e){return 1&e.compareDocumentPosition(O.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);me.find=we,me.expr=we.selectors,me.expr[":"]=me.expr.pseudos,me.uniqueSort=me.unique=we.uniqueSort,me.text=we.getText,me.isXMLDoc=we.isXML,me.contains=we.contains,me.escapeSelector=we.escape;var xe=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&me(e).is(n))break;i.push(e)}return i},Ce=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Se=me.expr.match.needsContext,Ee=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Te=/^.[^:#\[\.,]*$/;me.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?me.find.matchesSelector(i,e)?[i]:[]:me.find.matches(e,me.grep(t,function(e){return 1===e.nodeType}))},me.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(me(e).filter(function(){for(t=0;t<i;t++)if(me.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)me.find(e,o[t],n);return i>1?me.uniqueSort(n):n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&Se.test(e)?me(e):e||[],!1).length}});var ke,De=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ae=me.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||ke,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:De.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof me?t[0]:t,me.merge(this,me.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),Ee.test(i[1])&&me.isPlainObject(t))for(i in t)me.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return o=ne.getElementById(i[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):me.isFunction(e)?void 0!==n.ready?n.ready(e):e(me):me.makeArray(e,this)};Ae.prototype=me.fn,ke=me(ne);var Ne=/^(?:parents|prev(?:Until|All))/,_e={children:!0,contents:!0,next:!0,prev:!0};me.fn.extend({has:function(e){var t=me(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(me.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],s="string"!=typeof e&&me(e);if(!Se.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&me.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?me.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?ae.call(me(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(me.uniqueSort(me.merge(this.get(),me(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),me.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,n){return xe(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,n){return xe(e,"nextSibling",n)},prevUntil:function(e,t,n){return xe(e,"previousSibling",n)},siblings:function(e){return Ce((e.parentNode||{}).firstChild,e)},children:function(e){return Ce(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),me.merge([],e.childNodes))}},function(e,t){me.fn[e]=function(n,i){var o=me.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=me.filter(i,o)),this.length>1&&(_e[e]||me.uniqueSort(o),Ne.test(e)&&o.reverse()),this.pushStack(o)}});var Me=/[^\x20\t\r\n\f]+/g;me.Callbacks=function(e){e="string"==typeof e?a(e):me.extend({},e);var t,n,i,o,r=[],s=[],l=-1,c=function(){for(o=o||e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<r.length;)r[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!t&&(l=r.length-1,s.push(n)),function i(t){me.each(t,function(t,n){me.isFunction(n)?e.unique&&u.has(n)||r.push(n):n&&n.length&&"string"!==me.type(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return me.each(arguments,function(e,t){for(var n;(n=me.inArray(t,r,n))>-1;)r.splice(n,1),n<=l&&l--}),this},has:function(e){return e?me.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=s=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},me.extend({Deferred:function(t){var n=[["notify","progress",me.Callbacks("memory"),me.Callbacks("memory"),2],["resolve","done",me.Callbacks("once memory"),me.Callbacks("once memory"),0,"resolved"],["reject","fail",me.Callbacks("once memory"),me.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(e){return o.then(null,e)},pipe:function(){var e=arguments;return me.Deferred(function(t){me.each(n,function(n,i){var o=me.isFunction(e[i[4]])&&e[i[4]];r[i[1]](function(){var e=o&&o.apply(this,arguments);e&&me.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,i,o){function r(t,n,i,o){return function(){var a=this,u=arguments,d=function(){var e,d;if(!(t<s)){if(e=i.apply(a,u),e===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,me.isFunction(d)?o?d.call(e,r(s,n,l,o),r(s,n,c,o)):(s++,d.call(e,r(s,n,l,o),r(s,n,c,o),r(s,n,l,n.notifyWith))):(i!==l&&(a=void 0,u=[e]),(o||n.resolveWith)(a,u))}},h=o?d:function(){try{d()}catch(e){me.Deferred.exceptionHook&&me.Deferred.exceptionHook(e,h.stackTrace),t+1>=s&&(i!==c&&(a=void 0,u=[e]),n.rejectWith(a,u))}};t?h():(me.Deferred.getStackHook&&(h.stackTrace=me.Deferred.getStackHook()),e.setTimeout(h))}}var s=0;return me.Deferred(function(e){n[0][3].add(r(0,e,me.isFunction(o)?o:l,e.notifyWith)),n[1][3].add(r(0,e,me.isFunction(t)?t:l)),n[2][3].add(r(0,e,me.isFunction(i)?i:c))}).promise()},promise:function(e){return null!=e?me.extend(e,o):o}},r={};return me.each(n,function(e,t){var s=t[2],a=t[5];o[t[1]]=s.add,a&&s.add(function(){i=a},n[3-e][2].disable,n[0][2].lock),s.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=s.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=oe.call(arguments),r=me.Deferred(),s=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?oe.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(u(e,r.done(s(n)).resolve,r.reject,!t),"pending"===r.state()||me.isFunction(o[n]&&o[n].then)))return r.then();for(;n--;)u(o[n],s(n),r.reject);return r.promise()}});var Fe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;me.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Fe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},me.readyException=function(t){e.setTimeout(function(){throw t})};var Oe=me.Deferred();me.fn.ready=function(e){return Oe.then(e)["catch"](function(e){me.readyException(e)}),this},me.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--me.readyWait:me.isReady)||(me.isReady=!0,e!==!0&&--me.readyWait>0||Oe.resolveWith(ne,[me]))}}),me.ready.then=Oe.then,"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll?e.setTimeout(me.ready):(ne.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var $e=function(e,t,n,i,o,r,s){var a=0,l=e.length,c=null==n;if("object"===me.type(n)){o=!0;for(a in n)$e(e,t,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,me.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(me(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):l?t(e[0],n):r},Ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[me.camelCase(t)]=n;else for(i in t)o[me.camelCase(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][me.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){Array.isArray(t)?t=t.map(me.camelCase):(t=me.camelCase(t),t=t in i?[t]:t.match(Me)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||me.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!me.isEmptyObject(t)}};var Le=new h,Re=new h,Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ue=/[A-Z]/g;me.extend({hasData:function(e){return Re.hasData(e)||Le.hasData(e)},data:function(e,t,n){return Re.access(e,t,n)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,n){return Le.access(e,t,n)},_removeData:function(e,t){Le.remove(e,t)}}),me.fn.extend({data:function(e,t){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=Re.get(r),1===r.nodeType&&!Le.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=me.camelCase(i.slice(5)),p(r,i,o[i])));Le.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Re.set(this,e)}):$e(this,function(t){var n;if(r&&void 0===t){if(n=Re.get(r,e),void 0!==n)return n;if(n=p(r,e),void 0!==n)return n}else this.each(function(){Re.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),me.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Le.get(e,t),n&&(!i||Array.isArray(n)?i=Le.access(e,t,me.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=me.queue(e,t),i=n.length,o=n.shift(),r=me._queueHooks(e,t),s=function(){me.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Le.get(e,n)||Le.access(e,n,{empty:me.Callbacks("once memory").add(function(){Le.remove(e,[t+"queue",n])})})}}),me.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?me.queue(this[0],e):void 0===t?this:this.each(function(){var n=me.queue(this,e,t);me._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&me.dequeue(this,e)})},dequeue:function(e){return this.each(function(){me.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=me.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=Le.get(r[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var Be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Be+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],je=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&me.contains(e.ownerDocument,e)&&"none"===me.css(e,"display")},We=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return o},qe={};me.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?me(this).show():me(this).hide()})}});var Ye=/^(?:checkbox|radio)$/i,Ve=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xe=/^$|\/(?:java|ecma)script/i,Ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var Ge=/<|&#?\w+;/;!function(){var e=ne.createDocumentFragment(),t=e.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),fe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",fe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Qe=ne.documentElement,Ze=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^([^.]*)(?:\.(.+)|)/;me.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,c,u,d,h,f,p,m,g=Le.get(e);if(g)for(n.handler&&(r=n,n=r.handler,o=r.selector),o&&me.find.matchesSelector(Qe,o),n.guid||(n.guid=me.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return"undefined"!=typeof me&&me.event.triggered!==t.type?me.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Me)||[""],c=t.length;c--;)a=et.exec(t[c])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f&&(d=me.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=me.event.special[f]||{},u=me.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&me.expr.match.needsContext.test(o),namespace:p.join(".")},r),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,p,s)!==!1||e.addEventListener&&e.addEventListener(f,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),me.event.global[f]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,c,u,d,h,f,p,m,g=Le.hasData(e)&&Le.get(e);if(g&&(l=g.events)){for(t=(t||"").match(Me)||[""],c=t.length;c--;)if(a=et.exec(t[c])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(d=me.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)u=h[r],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||me.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)me.event.remove(e,f+t[c],n,i,!0);me.isEmptyObject(l)&&Le.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,s,a=me.event.fix(e),l=new Array(arguments.length),c=(Le.get(this,"events")||{})[a.type]||[],u=me.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,a)!==!1){for(s=me.event.handlers.call(this,a,c),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,i=((me.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),void 0!==i&&(a.result=i)===!1&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||c.disabled!==!0)){for(r=[],s={},n=0;n<l;n++)i=t[n],o=i.selector+" ",void 0===s[o]&&(s[o]=i.needsContext?me(o,this).index(c)>-1:me.find(o,this,null,[c]).length),s[o]&&r.push(i);r.length&&a.push({elem:c,handlers:r})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(me.Event.prototype,e,{enumerable:!0,configurable:!0,get:me.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[me.expando]?e:new me.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},me.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},me.Event=function(e,t){return this instanceof me.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?x:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&me.extend(this,t),this.timeStamp=e&&e.timeStamp||me.now(),void(this[me.expando]=!0)):new me.Event(e,t)},me.Event.prototype={constructor:me.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},me.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ze.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},me.event.addProp),me.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){me.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||me.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),me.fn.extend({on:function(e,t,n,i){return E(this,e,t,n,i)},one:function(e,t,n,i){return E(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,me(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=C),this.each(function(){me.event.remove(this,e,n,t)})}});var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nt=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,ot=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;me.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){var i,o,r,s,a=e.cloneNode(!0),l=me.contains(e.ownerDocument,e);if(!(fe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||me.isXMLDoc(e)))for(s=b(a),r=b(e),i=0,o=r.length;i<o;i++)N(r[i],s[i]);if(t)if(n)for(r=r||b(e),s=s||b(a),i=0,o=r.length;i<o;i++)A(r[i],s[i]);else A(e,a);return s=b(a,"script"),s.length>0&&y(s,!l&&b(e,"script")),a},cleanData:function(e){for(var t,n,i,o=me.event.special,r=0;void 0!==(n=e[r]);r++)if(Ie(n)){if(t=n[Le.expando]){if(t.events)for(i in t.events)o[i]?me.event.remove(n,i):me.removeEvent(n,i,t.handle);n[Le.expando]=void 0}n[Re.expando]&&(n[Re.expando]=void 0)}}}),me.fn.extend({detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return $e(this,function(e){return void 0===e?me.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.appendChild(e)}})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(me.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return me.clone(this,e,t)})},html:function(e){return $e(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!nt.test(e)&&!Ke[(Ve.exec(e)||["",""])[1].toLowerCase()]){e=me.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(me.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var n=this.parentNode;me.inArray(this,e)<0&&(me.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),me.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){me.fn[e]=function(e){for(var n,i=[],o=me(e),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),me(o[s])[t](n),se.apply(i,n.get());return this.pushStack(i)}});var st=/^margin/,at=new RegExp("^("+Be+")(?!px)[a-z%]+$","i"),lt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Qe.appendChild(s);var t=e.getComputedStyle(a);n="1%"!==t.top,r="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",o="4px"===t.marginRight,Qe.removeChild(s),a=null}}var n,i,o,r,s=ne.createElement("div"),a=ne.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",fe.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),me.extend(fe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),r}}))}();var ct=/^(none|table(?!-c[ea]).+)/,ut=/^--/,dt={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","Moz","ms"],pt=ne.createElement("div").style;me.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=F(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=me.camelCase(t),l=ut.test(t),c=e.style;return l||(t=I(a)),s=me.cssHooks[t]||me.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:c[t]:(r=typeof n,"string"===r&&(o=ze.exec(n))&&o[1]&&(n=m(e,t,o),r="number"),null!=n&&n===n&&("number"===r&&(n+=o&&o[3]||(me.cssNumber[a]?"":"px")),fe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n)),void 0)}},css:function(e,t,n,i){var o,r,s,a=me.camelCase(t),l=ut.test(t);return l||(t=I(a)),s=me.cssHooks[t]||me.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=F(e,t,i)),"normal"===o&&t in ht&&(o=ht[t]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o}}),me.each(["height","width"],function(e,t){me.cssHooks[t]={get:function(e,n,i){if(n)return!ct.test(me.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?P(e,t,i):We(e,dt,function(){return P(e,t,i)})},set:function(e,n,i){var o,r=i&&lt(e),s=i&&R(e,t,i,"border-box"===me.css(e,"boxSizing",!1,r),r);return s&&(o=ze.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=me.css(e,t)),L(e,n,s)}}}),me.cssHooks.marginLeft=O(fe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(F(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),me.each({margin:"",padding:"",border:"Width"},function(e,t){me.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+He[i]+t]=r[i]||r[i-2]||r[0];return o}},st.test(e)||(me.cssHooks[e+t].set=L)}),me.fn.extend({css:function(e,t){return $e(this,function(e,t,n){var i,o,r={},s=0;if(Array.isArray(t)){for(i=lt(e),o=t.length;s<o;s++)r[t[s]]=me.css(e,t[s],!1,i);return r}return void 0!==n?me.style(e,t,n):me.css(e,t)},e,t,arguments.length>1)}}),me.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||me.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(me.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=me.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=me.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){me.fx.step[e.prop]?me.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[me.cssProps[e.prop]]&&!me.cssHooks[e.prop]?e.elem[e.prop]=e.now:me.style(e.elem,e.prop,e.now+e.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},me.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},me.fx=U.prototype.init,me.fx.step={};var mt,gt,vt=/^(?:toggle|show|hide)$/,bt=/queueHooks$/;me.Animation=me.extend(Y,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,ze.exec(t),n),n}]},tweener:function(e,t){me.isFunction(e)?(t=e,e=["*"]):e=e.match(Me);for(var n,i=0,o=e.length;i<o;i++)n=e[i],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),me.speed=function(e,t,n){var i=e&&"object"==typeof e?me.extend({},e):{complete:n||!n&&t||me.isFunction(e)&&e,duration:e,easing:n&&t||t&&!me.isFunction(t)&&t};return me.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in me.fx.speeds?i.duration=me.fx.speeds[i.duration]:i.duration=me.fx.speeds._default),
null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){me.isFunction(i.old)&&i.old.call(this),i.queue&&me.dequeue(this,i.queue)},i},me.fn.extend({fadeTo:function(e,t,n,i){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=me.isEmptyObject(e),r=me.speed(t,n,i),s=function(){var t=Y(this,me.extend({},e),r);(o||Le.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=me.timers,s=Le.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&bt.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||me.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Le.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=me.timers,s=i?i.length:0;for(n.finish=!0,me.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),me.each(["toggle","show","hide"],function(e,t){var n=me.fn[t];me.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,i,o)}}),me.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){me.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),me.timers=[],me.fx.tick=function(){var e,t=0,n=me.timers;for(mt=me.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||me.fx.stop(),mt=void 0},me.fx.timer=function(e){me.timers.push(e),me.fx.start()},me.fx.interval=13,me.fx.start=function(){gt||(gt=!0,B())},me.fx.stop=function(){gt=null},me.fx.speeds={slow:600,fast:200,_default:400},me.fn.delay=function(t,n){return t=me.fx?me.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}})},function(){var e=ne.createElement("input"),t=ne.createElement("select"),n=t.appendChild(ne.createElement("option"));e.type="checkbox",fe.checkOn=""!==e.value,fe.optSelected=n.selected,e=ne.createElement("input"),e.value="t",e.type="radio",fe.radioValue="t"===e.value}();var yt,wt=me.expr.attrHandle;me.fn.extend({attr:function(e,t){return $e(this,me.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){me.removeAttr(this,e)})}}),me.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?me.prop(e,t,n):(1===r&&me.isXMLDoc(e)||(o=me.attrHooks[t.toLowerCase()]||(me.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void me.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=me.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!fe.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(Me);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return t===!1?me.removeAttr(e,n):e.setAttribute(n,n),n}},me.each(me.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||me.find.attr;wt[t]=function(e,t,i){var o,r,s=t.toLowerCase();return i||(r=wt[s],wt[s]=o,o=null!=n(e,t,i)?s:null,wt[s]=r),o}});var xt=/^(?:input|select|textarea|button)$/i,Ct=/^(?:a|area)$/i;me.fn.extend({prop:function(e,t){return $e(this,me.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[me.propFix[e]||e]})}}),me.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&me.isXMLDoc(e)||(t=me.propFix[t]||t,o=me.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=me.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),fe.optSelected||(me.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),me.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){me.propFix[this.toLowerCase()]=this}),me.fn.extend({addClass:function(e){var t,n,i,o,r,s,a,l=0;if(me.isFunction(e))return this.each(function(t){me(this).addClass(e.call(this,t,X(this)))});if("string"==typeof e&&e)for(t=e.match(Me)||[];n=this[l++];)if(o=X(n),i=1===n.nodeType&&" "+V(o)+" "){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=V(i),o!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,r,s,a,l=0;if(me.isFunction(e))return this.each(function(t){me(this).removeClass(e.call(this,t,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Me)||[];n=this[l++];)if(o=X(n),i=1===n.nodeType&&" "+V(o)+" "){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");a=V(i),o!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):me.isFunction(e)?this.each(function(n){me(this).toggleClass(e.call(this,n,X(this),t),t)}):this.each(function(){var t,i,o,r;if("string"===n)for(i=0,o=me(this),r=e.match(Me)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=X(this),t&&Le.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Le.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+V(X(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;me.fn.extend({val:function(e){var t,n,i,o=this[0];{if(arguments.length)return i=me.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,me(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=me.map(o,function(e){return null==e?"":e+""})),t=me.valHooks[this.type]||me.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=me.valHooks[o.type]||me.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(St,""):null==n?"":n)}}}),me.extend({valHooks:{option:{get:function(e){var t=me.find.attr(e,"value");return null!=t?t:V(me.text(e))}},select:{get:function(e){var t,n,i,r=e.options,s=e.selectedIndex,a="select-one"===e.type,l=a?null:[],c=a?s+1:r.length;for(i=s<0?c:a?s:0;i<c;i++)if(n=r[i],(n.selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=me(n).val(),a)return t;l.push(t)}return l},set:function(e,t){for(var n,i,o=e.options,r=me.makeArray(t),s=o.length;s--;)i=o[s],(i.selected=me.inArray(me.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),me.each(["radio","checkbox"],function(){me.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=me.inArray(me(e).val(),t)>-1}},fe.checkOn||(me.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=/^(?:focusinfocus|focusoutblur)$/;me.extend(me.event,{trigger:function(t,n,i,o){var r,s,a,l,c,u,d,h=[i||ne],f=ue.call(t,"type")?t.type:t,p=ue.call(t,"namespace")?t.namespace.split("."):[];if(s=a=i=i||ne,3!==i.nodeType&&8!==i.nodeType&&!Et.test(f+me.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[me.expando]?t:new me.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:me.makeArray(n,[t]),d=me.event.special[f]||{},o||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!o&&!d.noBubble&&!me.isWindow(i)){for(l=d.delegateType||f,Et.test(l+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||ne)&&h.push(a.defaultView||a.parentWindow||e)}for(r=0;(s=h[r++])&&!t.isPropagationStopped();)t.type=r>1?l:d.bindType||f,u=(Le.get(s,"events")||{})[t.type]&&Le.get(s,"handle"),u&&u.apply(s,n),u=c&&s[c],u&&u.apply&&Ie(s)&&(t.result=u.apply(s,n),t.result===!1&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Ie(i)||c&&me.isFunction(i[f])&&!me.isWindow(i)&&(a=i[c],a&&(i[c]=null),me.event.triggered=f,i[f](),me.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=me.extend(new me.Event,n,{type:e,isSimulated:!0});me.event.trigger(i,null,t)}}),me.fn.extend({trigger:function(e,t){return this.each(function(){me.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return me.event.trigger(e,t,n,!0)}}),me.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){me.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),me.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),fe.focusin="onfocusin"in e,fe.focusin||me.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){me.event.simulate(t,e.target,me.event.fix(e))};me.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=Le.access(i,t);o||i.addEventListener(e,n,!0),Le.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Le.access(i,t)-1;o?Le.access(i,t,o):(i.removeEventListener(e,n,!0),Le.remove(i,t))}}});var Tt=e.location,kt=me.now(),Dt=/\?/;me.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||me.error("Invalid XML: "+t),n};var At=/\[\]$/,Nt=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;me.param=function(e,t){var n,i=[],o=function(e,t){var n=me.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!me.isPlainObject(e))me.each(e,function(){o(this.name,this.value)});else for(n in e)K(n,e[n],t,o);return i.join("&")},me.fn.extend({serialize:function(){return me.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=me.prop(this,"elements");return e?me.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!me(this).is(":disabled")&&Mt.test(this.nodeName)&&!_t.test(e)&&(this.checked||!Ye.test(e))}).map(function(e,t){var n=me(this).val();return null==n?null:Array.isArray(n)?me.map(n,function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}}):{name:t.name,value:n.replace(Nt,"\r\n")}}).get()}});var Ft=/%20/g,Ot=/#.*$/,$t=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rt=/^(?:GET|HEAD)$/,Pt=/^\/\//,Ut={},Bt={},zt="*/".concat("*"),Ht=ne.createElement("a");Ht.href=Tt.href,me.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:Lt.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":me.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Z(Z(e,me.ajaxSettings),t):Z(me.ajaxSettings,e)},ajaxPrefilter:G(Ut),ajaxTransport:G(Bt),ajax:function(t,n){function i(t,n,i,a){var c,h,f,w,x,C=n;u||(u=!0,l&&e.clearTimeout(l),o=void 0,s=a||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(w=J(p,S,i)),w=ee(p,w,S,c),c?(p.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(me.lastModified[r]=x),x=S.getResponseHeader("etag"),x&&(me.etag[r]=x)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,h=w.data,f=w.error,c=!f)):(f=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(n||C)+"",c?v.resolveWith(m,[h,C,S]):v.rejectWith(m,[S,C,f]),S.statusCode(y),y=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?h:f]),b.fireWith(m,[S,C]),d&&(g.trigger("ajaxComplete",[S,p]),--me.active||me.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,r,s,a,l,c,u,d,h,f,p=me.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?me(m):me.event,v=me.Deferred(),b=me.Callbacks("once memory"),y=p.statusCode||{},w={},x={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=It.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return o&&o.abort(t),i(0,t),this}};if(v.promise(S),p.url=((t||p.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Me)||[""],null==p.crossDomain){c=ne.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ht.protocol+"//"+Ht.host!=c.protocol+"//"+c.host}catch(E){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=me.param(p.data,p.traditional)),Q(Ut,p,n,S),u)return S;d=me.event&&p.global,d&&0===me.active++&&me.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Rt.test(p.type),r=p.url.replace(Ot,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ft,"+")):(f=p.url.slice(r.length),p.data&&(r+=(Dt.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(r=r.replace($t,"$1"),f=(Dt.test(r)?"&":"?")+"_="+kt++ +f),p.url=r+f),p.ifModified&&(me.lastModified[r]&&S.setRequestHeader("If-Modified-Since",me.lastModified[r]),me.etag[r]&&S.setRequestHeader("If-None-Match",me.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(m,S,p)===!1||u))return S.abort();if(C="abort",b.add(p.complete),S.done(p.success),S.fail(p.error),o=Q(Bt,p,n,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,p]),u)return S;p.async&&p.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},p.timeout));try{u=!1,o.send(w,i)}catch(E){if(u)throw E;i(-1,E)}}else i(-1,"No Transport");return S},getJSON:function(e,t,n){return me.get(e,t,n,"json")},getScript:function(e,t){return me.get(e,void 0,t,"script")}}),me.each(["get","post"],function(e,t){me[t]=function(e,n,i,o){return me.isFunction(n)&&(o=o||i,i=n,n=void 0),me.ajax(me.extend({url:e,type:t,dataType:o,data:n,success:i},me.isPlainObject(e)&&e))}}),me._evalUrl=function(e){return me.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},me.fn.extend({wrapAll:function(e){var t;return this[0]&&(me.isFunction(e)&&(e=e.call(this[0])),t=me(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return me.isFunction(e)?this.each(function(t){me(this).wrapInner(e.call(this,t))}):this.each(function(){var t=me(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=me.isFunction(e);return this.each(function(n){me(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){me(this).replaceWith(this.childNodes)}),this}}),me.expr.pseudos.hidden=function(e){return!me.expr.pseudos.visible(e)},me.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},me.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var jt={0:200,1223:204},Wt=me.ajaxSettings.xhr();fe.cors=!!Wt&&"withCredentials"in Wt,fe.ajax=Wt=!!Wt,me.ajaxTransport(function(t){var n,i;if(fe.cors||Wt&&!t.crossDomain)return{send:function(o,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(jt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),me.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),me.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return me.globalEval(e),e}}}),me.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),me.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=me("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),ne.head.appendChild(t[0])},abort:function(){n&&n()}}}});var qt=[],Yt=/(=)\?(?=&|$)|\?\?/;me.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||me.expando+"_"+kt++;return this[e]=!0,e}}),me.ajaxPrefilter("json jsonp",function(t,n,i){var o,r,s,a=t.jsonp!==!1&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=me.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Yt,"$1"+o):t.jsonp!==!1&&(t.url+=(Dt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||me.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},i.always(function(){void 0===r?me(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,qt.push(o)),s&&me.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),fe.createHTMLDocument=function(){var e=ne.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),me.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,r;return t||(fe.createHTMLDocument?(t=ne.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=ne.location.href,t.head.appendChild(i)):t=ne),o=Ee.exec(e),r=!n&&[],o?[t.createElement(o[1])]:(o=w([e],t,r),r&&r.length&&me(r).remove(),me.merge([],o.childNodes))},me.fn.load=function(e,t,n){var i,o,r,s=this,a=e.indexOf(" ");return a>-1&&(i=V(e.slice(a)),e=e.slice(0,a)),me.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&me.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?me("<div>").append(me.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},me.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){me.fn[t]=function(e){return this.on(t,e)}}),me.expr.pseudos.animated=function(e){return me.grep(me.timers,function(t){return e===t.elem}).length},me.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,c,u=me.css(e,"position"),d=me(e),h={};"static"===u&&(e.style.position="relative"),a=d.offset(),r=me.css(e,"top"),l=me.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(i=d.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),me.isFunction(t)&&(t=t.call(e,n,me.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):d.css(h)}},me.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){me.offset.setOffset(this,e,t)});var t,n,i,o,r=this[0];if(r)return r.getClientRects().length?(i=r.getBoundingClientRect(),t=r.ownerDocument,n=t.documentElement,o=t.defaultView,{top:i.top+o.pageYOffset-n.clientTop,left:i.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===me.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),o(e[0],"html")||(i=e.offset()),i={top:i.top+me.css(e[0],"borderTopWidth",!0),left:i.left+me.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-me.css(n,"marginTop",!0),left:t.left-i.left-me.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===me.css(e,"position");)e=e.offsetParent;return e||Qe})}}),me.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;me.fn[e]=function(i){return $e(this,function(e,i,o){var r;return me.isWindow(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o?r?r[t]:e[i]:void(r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o)},e,i,arguments.length)}}),me.each(["top","left"],function(e,t){me.cssHooks[t]=O(fe.pixelPosition,function(e,n){if(n)return n=F(e,t),at.test(n)?me(e).position()[t]+"px":n})}),me.each({Height:"height",Width:"width"},function(e,t){me.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){me.fn[i]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||r===!0?"margin":"border");return $e(this,function(t,n,o){var r;return me.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?me.css(t,n,a):me.style(t,n,o,a)},t,s?o:void 0,s)}})}),me.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),me.holdReady=function(e){e?me.readyWait++:me.ready(!0)},me.isArray=Array.isArray,me.parseJSON=JSON.parse,me.nodeName=o,"function"==typeof define&&define.amd&&define("jquery",[],function(){return me});var Vt=e.jQuery,Xt=e.$;return me.noConflict=function(t){return e.$===me&&(e.$=Xt),t&&e.jQuery===me&&(e.jQuery=Vt),me},t||(e.jQuery=e.$=me),me}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=e("#"===r?[]:r);t&&t.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.button"),r="object"==typeof t&&t;o||i.data("bs.button",o=new n(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();t+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(e.proxy(function(){i[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target).closest(".btn");t.call(i,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.carousel"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),s="string"==typeof t?t:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof t?o.to(t):s?o[s]():r.interval&&o.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var o="prev"==e?-1:1,r=(n+o)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(t,o),s=this.interval,a="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([t,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var o=function(n){var i,o=e(this),r=e(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=e.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),t.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){
return this.each(function(){var n=e(this),o=n.data("bs.collapse"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!o&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),t||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var o=e(i);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=e(this);o.attr("data-target")||i.preventDefault();var r=t(o),s=r.data("bs.collapse"),a=s?"toggle":o.data();n.call(r,a)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(o).remove(),e(r).each(function(){var i=e(this),o=t(i),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(o[0],n.target)||(o.trigger(n=e.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(e.Event("hidden.bs.dropdown",r)))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof t&&i[t].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var r=t(o),s=r.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var a={relatedTarget:this};if(r.trigger(i=e.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(e.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=t(i),s=o.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&o.find(r).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+a);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var o=e(this),r=o.data("bs.modal"),s=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new n(this,s)),"string"==typeof t?r[t](i):s.show&&r.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),o=i.attr("href"),r=e(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(r,s,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tooltip"),r="object"==typeof t&&t;!o&&/destroy|hide/.test(t)||(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=r[0].offsetWidth,h=r[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+h>p.bottom?"top":"top"==a&&u.top-h<p.top?"bottom":"right"==a&&u.right+d>p.width?"left":"left"==a&&u.left-d<p.left?"right":a,r.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,u,d,h);this.applyPlacement(m,a);var g=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top+=s,t.left+=a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(t.top=t.top+r-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-o+l:2*u.top-r+c,f=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=o.hoverState&&r.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,r=e(this.$tip),s=e.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&n instanceof window.SVGElement,s=i?{top:0,left:0}:r?null:t.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,a,l,s)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-r-s.scroll,l=t.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=t.left-r,u=t.left+r+n;c<s.left?o.left=s.left-c:u>s.right&&(o.left=s.left+s.width-u)}return o},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.popover"),r="object"==typeof t&&t;!o&&/destroy|hide/.test(t)||(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new t(this,r)),"string"==typeof n&&o[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return s!=(e=r[r.length-1])&&this.activate(e);if(s&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)s!=r[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof t&&o[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=e(i);this.activate(t.closest("li"),n),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(t,i,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=i.find("> .active"),a=o&&e.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),s.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var o=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.affix"),r="object"==typeof t&&t;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+s<=e-i)&&"bottom";var a=null==this.affixed,l=a?o:r.top,c=a?s:t;return null!=n&&o<=n?"top":null!=i&&l+c>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,s=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var a=this.getState(s,t,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-r})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.Chartist=t()}):"object"==typeof exports?module.exports=t():e.Chartist=t()}(this,function(){var e={version:"0.9.8"};return function(e,t,n){"use strict";n.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},n.noop=function(e){return e},n.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},n.extend=function(e){e=e||{};var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){for(var i in t)"object"!=typeof t[i]||null===t[i]||t[i]instanceof Array?e[i]=t[i]:e[i]=n.extend({},e[i],t[i])}),e},n.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},n.ensureUnit=function(e,t){return"number"==typeof e&&(e+=t),e},n.quantity=function(e){if("string"==typeof e){var t=/^(\d+)\s*(.*)$/g.exec(e);return{value:+t[1],unit:t[2]||void 0}}return{value:e}},n.querySelector=function(e){return e instanceof Node?e:t.querySelector(e)},n.times=function(e){return Array.apply(null,new Array(e))},n.sum=function(e,t){return e+(t?t:0)},n.mapMultiply=function(e){return function(t){return t*e}},n.mapAdd=function(e){return function(t){return t+e}},n.serialMap=function(e,t){var i=[],o=Math.max.apply(null,e.map(function(e){return e.length}));return n.times(o).forEach(function(n,o){var r=e.map(function(e){return e[o]});i[o]=t.apply(null,r)}),i},n.roundWithPrecision=function(e,t){var i=Math.pow(10,t||n.precision);return Math.round(e*i)/i},n.precision=8,n.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n.serialize=function(e){return null===e||void 0===e?e:("number"==typeof e?e=""+e:"object"==typeof e&&(e=JSON.stringify({data:e})),Object.keys(n.escapingMap).reduce(function(e,t){return n.replaceAll(e,t,n.escapingMap[t])},e))},n.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(n.escapingMap).reduce(function(e,t){return n.replaceAll(e,n.escapingMap[t],t)},e);try{e=JSON.parse(e),e=void 0!==e.data?e.data:e}catch(t){}return e},n.createSvg=function(e,t,i,o){var r;return t=t||"100%",i=i||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(e){return e.getAttributeNS(n.namespaces.xmlns,"ct")}).forEach(function(t){e.removeChild(t)}),r=new n.Svg("svg").attr({width:t,height:i}).addClass(o).attr({style:"width: "+t+"; height: "+i+";"}),e.appendChild(r._node),r},n.normalizeData=function(e){if(e=e||{series:[],labels:[]},e.series=e.series||[],e.labels=e.labels||[],e.series.length>0&&0===e.labels.length){var t,i=n.getDataArray(e);t=i.every(function(e){return e instanceof Array})?Math.max.apply(null,i.map(function(e){return e.length})):i.length,e.labels=n.times(t).map(function(){return""})}return e},n.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"==typeof e.series[t]&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},n.getDataArray=function(e,t,i){function o(e){if(!n.isFalseyButZero(e)){if((e.data||e)instanceof Array)return(e.data||e).map(o);if(e.hasOwnProperty("value"))return o(e.value);if(i){
var t={};return"string"==typeof i?t[i]=n.getNumberOrUndefined(e):t.y=n.getNumberOrUndefined(e),t.x=e.hasOwnProperty("x")?n.getNumberOrUndefined(e.x):t.x,t.y=e.hasOwnProperty("y")?n.getNumberOrUndefined(e.y):t.y,t}return n.getNumberOrUndefined(e)}}return(t&&!e.reversed||!t&&e.reversed)&&(n.reverseData(e),e.reversed=!e.reversed),e.series.map(o)},n.normalizePadding=function(e,t){return t=t||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:t,right:"number"==typeof e.right?e.right:t,bottom:"number"==typeof e.bottom?e.bottom:t,left:"number"==typeof e.left?e.left:t}},n.getMetaData=function(e,t){var i=e.data?e.data[t]:e[t];return i?n.serialize(i.meta):void 0},n.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},n.projectLength=function(e,t,n){return t/n.range*e},n.getAvailableHeight=function(e,t){return Math.max((n.quantity(t.height).value||e.height())-(t.chartPadding.top+t.chartPadding.bottom)-t.axisX.offset,0)},n.getHighLow=function(e,t,i){function o(e){if(void 0!==e)if(e instanceof Array)for(var t=0;t<e.length;t++)o(e[t]);else{var n=i?+e[i]:+e;s&&n>r.high&&(r.high=n),a&&n<r.low&&(r.low=n)}}t=n.extend({},t,i?t["axis"+i.toUpperCase()]:{});var r={high:void 0===t.high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},s=void 0===t.high,a=void 0===t.low;return(s||a)&&o(e),(t.referenceValue||0===t.referenceValue)&&(r.high=Math.max(t.referenceValue,r.high),r.low=Math.min(t.referenceValue,r.low)),r.high<=r.low&&(0===r.low?r.high=1:r.low<0?r.high=0:r.high>0?r.low=0:(r.high=1,r.low=0)),r},n.isNum=function(e){return!isNaN(e)&&isFinite(e)},n.isFalseyButZero=function(e){return!e&&0!==e},n.getNumberOrUndefined=function(e){return isNaN(+e)?void 0:+e},n.getMultiValue=function(e,t){return n.isNum(e)?+e:e?e[t||"y"]||0:0},n.rho=function(e){function t(e,n){return e%n===0?n:t(n,e%n)}function n(e){return e*e+1}if(1===e)return e;var i,o=2,r=2;if(e%2===0)return 2;do o=n(o)%e,r=n(n(r))%e,i=t(Math.abs(o-r),e);while(1===i);return i},n.getBounds=function(e,t,i,o){var r,s,a,l=0,c={high:t.high,low:t.low};c.valueRange=c.high-c.low,c.oom=n.orderOfMagnitude(c.valueRange),c.step=Math.pow(10,c.oom),c.min=Math.floor(c.low/c.step)*c.step,c.max=Math.ceil(c.high/c.step)*c.step,c.range=c.max-c.min,c.numberOfSteps=Math.round(c.range/c.step);var u=n.projectLength(e,c.step,c),d=u<i,h=o?n.rho(c.range):0;if(o&&n.projectLength(e,1,c)>=i)c.step=1;else if(o&&h<c.step&&n.projectLength(e,h,c)>=i)c.step=h;else for(;;){if(d&&n.projectLength(e,c.step,c)<=i)c.step*=2;else{if(d||!(n.projectLength(e,c.step/2,c)>=i))break;if(c.step/=2,o&&c.step%1!==0){c.step*=2;break}}if(l++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var f=2.221e-16;for(c.step=Math.max(c.step,f),s=c.min,a=c.max;s+c.step<=c.low;)s+=c.step;for(;a-c.step>=c.high;)a-=c.step;c.min=s,c.max=a,c.range=c.max-c.min;var p=[];for(r=c.min;r<=c.max;r+=c.step){var m=n.roundWithPrecision(r);m!==p[p.length-1]&&p.push(r)}return c.values=p,c},n.polarToCartesian=function(e,t,n,i){var o=(i-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}},n.createChartRect=function(e,t,i){var o=!(!t.axisX&&!t.axisY),r=o?t.axisY.offset:0,s=o?t.axisX.offset:0,a=e.width()||n.quantity(t.width).value||0,l=e.height()||n.quantity(t.height).value||0,c=n.normalizePadding(t.chartPadding,i);a=Math.max(a,r+c.left+c.right),l=Math.max(l,s+c.top+c.bottom);var u={padding:c,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return o?("start"===t.axisX.position?(u.y2=c.top+s,u.y1=Math.max(l-c.bottom,u.y2+1)):(u.y2=c.top,u.y1=Math.max(l-c.bottom-s,u.y2+1)),"start"===t.axisY.position?(u.x1=c.left+r,u.x2=Math.max(a-c.right,u.x1+1)):(u.x1=c.left,u.x2=Math.max(a-c.right-r,u.x1+1))):(u.x1=c.left,u.x2=Math.max(a-c.right,u.x1+1),u.y2=c.top,u.y1=Math.max(l-c.bottom,u.y2+1)),u},n.createGrid=function(e,t,i,o,r,s,a,l){var c={};c[i.units.pos+"1"]=e,c[i.units.pos+"2"]=e,c[i.counterUnits.pos+"1"]=o,c[i.counterUnits.pos+"2"]=o+r;var u=s.elem("line",c,a.join(" "));l.emit("draw",n.extend({type:"grid",axis:i,index:t,group:s,element:u},c))},n.createLabel=function(e,t,i,o,r,s,a,l,c,u,d){var h,f={};if(f[r.units.pos]=e+a[r.units.pos],f[r.counterUnits.pos]=a[r.counterUnits.pos],f[r.units.len]=t,f[r.counterUnits.len]=Math.max(0,s-10),u){var p='<span class="'+c.join(" ")+'" style="'+r.units.len+": "+Math.round(f[r.units.len])+"px; "+r.counterUnits.len+": "+Math.round(f[r.counterUnits.len])+'px">'+o[i]+"</span>";h=l.foreignObject(p,n.extend({style:"overflow: visible;"},f))}else h=l.elem("text",f,c.join(" ")).text(o[i]);d.emit("draw",n.extend({type:"label",axis:r,index:i,group:l,element:h,text:o[i]},f))},n.getSeriesOption=function(e,t,n){if(e.name&&t.series&&t.series[e.name]){var i=t.series[e.name];return i.hasOwnProperty(n)?i[n]:t[n]}return t[n]},n.optionsProvider=function(t,i,o){function r(t){var r=a;if(a=n.extend({},c),i)for(l=0;l<i.length;l++){var s=e.matchMedia(i[l][0]);s.matches&&(a=n.extend(a,i[l][1]))}o&&t&&o.emit("optionsChanged",{previousOptions:r,currentOptions:a})}function s(){u.forEach(function(e){e.removeListener(r)})}var a,l,c=n.extend({},t),u=[];if(!e.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(l=0;l<i.length;l++){var d=e.matchMedia(i[l][0]);d.addListener(r),u.push(d)}return r(),{removeMediaQueryListeners:s,getCurrentOptions:function(){return n.extend({},a)}}},n.splitIntoSegments=function(e,t,i){var o={increasingX:!1,fillHoles:!1};i=n.extend({},o,i);for(var r=[],s=!0,a=0;a<e.length;a+=2)void 0===t[a/2].value?i.fillHoles||(s=!0):(i.increasingX&&a>=2&&e[a]<=e[a-2]&&(s=!0),s&&(r.push({pathCoordinates:[],valueData:[]}),s=!1),r[r.length-1].pathCoordinates.push(e[a],e[a+1]),r[r.length-1].valueData.push(t[a/2]));return r}}(window,document,e),function(e,t,n){"use strict";n.Interpolation={},n.Interpolation.none=function(e){var t={fillHoles:!1};return e=n.extend({},t,e),function(t,i){for(var o=new n.Svg.Path,r=!0,s=0;s<t.length;s+=2){var a=t[s],l=t[s+1],c=i[s/2];void 0!==c.value?(r?o.move(a,l,!1,c):o.line(a,l,!1,c),r=!1):e.fillHoles||(r=!0)}return o}},n.Interpolation.simple=function(e){var t={divisor:2,fillHoles:!1};e=n.extend({},t,e);var i=1/Math.max(1,e.divisor);return function(t,o){for(var r,s,a,l=new n.Svg.Path,c=0;c<t.length;c+=2){var u=t[c],d=t[c+1],h=(u-r)*i,f=o[c/2];void 0!==f.value?(void 0===a?l.move(u,d,!1,f):l.curve(r+h,s,u-h,d,u,d,!1,f),r=u,s=d,a=f):e.fillHoles||(r=u=a=void 0)}return l}},n.Interpolation.cardinal=function(e){var t={tension:1,fillHoles:!1};e=n.extend({},t,e);var i=Math.min(1,Math.max(0,e.tension)),o=1-i;return function r(t,s){var a=n.splitIntoSegments(t,s,{fillHoles:e.fillHoles});if(a.length){if(a.length>1){var l=[];return a.forEach(function(e){l.push(r(e.pathCoordinates,e.valueData))}),n.Svg.Path.join(l)}if(t=a[0].pathCoordinates,s=a[0].valueData,t.length<=4)return n.Interpolation.none()(t,s);for(var c,u=(new n.Svg.Path).move(t[0],t[1],!1,s[0]),d=0,h=t.length;h-2*!c>d;d+=2){var f=[{x:+t[d-2],y:+t[d-1]},{x:+t[d],y:+t[d+1]},{x:+t[d+2],y:+t[d+3]},{x:+t[d+4],y:+t[d+5]}];c?d?h-4===d?f[3]={x:+t[0],y:+t[1]}:h-2===d&&(f[2]={x:+t[0],y:+t[1]},f[3]={x:+t[2],y:+t[3]}):f[0]={x:+t[h-2],y:+t[h-1]}:h-4===d?f[3]=f[2]:d||(f[0]={x:+t[d],y:+t[d+1]}),u.curve(i*(-f[0].x+6*f[1].x+f[2].x)/6+o*f[2].x,i*(-f[0].y+6*f[1].y+f[2].y)/6+o*f[2].y,i*(f[1].x+6*f[2].x-f[3].x)/6+o*f[2].x,i*(f[1].y+6*f[2].y-f[3].y)/6+o*f[2].y,f[2].x,f[2].y,!1,s[(d+2)/2])}return u}return n.Interpolation.none()([])}},n.Interpolation.monotoneCubic=function(e){var t={fillHoles:!1};return e=n.extend({},t,e),function i(t,o){var r=n.splitIntoSegments(t,o,{fillHoles:e.fillHoles,increasingX:!0});if(r.length){if(r.length>1){var s=[];return r.forEach(function(e){s.push(i(e.pathCoordinates,e.valueData))}),n.Svg.Path.join(s)}if(t=r[0].pathCoordinates,o=r[0].valueData,t.length<=4)return n.Interpolation.none()(t,o);var a,l,c=[],u=[],d=t.length/2,h=[],f=[],p=[],m=[];for(a=0;a<d;a++)c[a]=t[2*a],u[a]=t[2*a+1];for(a=0;a<d-1;a++)p[a]=u[a+1]-u[a],m[a]=c[a+1]-c[a],f[a]=p[a]/m[a];for(h[0]=f[0],h[d-1]=f[d-2],a=1;a<d-1;a++)0===f[a]||0===f[a-1]||f[a-1]>0!=f[a]>0?h[a]=0:(h[a]=3*(m[a-1]+m[a])/((2*m[a]+m[a-1])/f[a-1]+(m[a]+2*m[a-1])/f[a]),isFinite(h[a])||(h[a]=0));for(l=(new n.Svg.Path).move(c[0],u[0],!1,o[0]),a=0;a<d-1;a++)l.curve(c[a]+m[a]/3,u[a]+h[a]*m[a]/3,c[a+1]-m[a]/3,u[a+1]-h[a+1]*m[a]/3,c[a+1],u[a+1],!1,o[a+1]);return l}return n.Interpolation.none()([])}},n.Interpolation.step=function(e){var t={postpone:!0,fillHoles:!1};return e=n.extend({},t,e),function(t,i){for(var o,r,s,a=new n.Svg.Path,l=0;l<t.length;l+=2){var c=t[l],u=t[l+1],d=i[l/2];void 0!==d.value?(void 0===s?a.move(c,u,!1,d):(e.postpone?a.line(c,r,!1,s):a.line(o,u,!1,d),a.line(c,u,!1,d)),o=c,r=u,s=d):e.fillHoles||(o=r=s=void 0)}return a}}}(window,document,e),function(e,t,n){"use strict";n.EventEmitter=function(){function e(e,t){i[e]=i[e]||[],i[e].push(t)}function t(e,t){i[e]&&(t?(i[e].splice(i[e].indexOf(t),1),0===i[e].length&&delete i[e]):delete i[e])}function n(e,t){i[e]&&i[e].forEach(function(e){e(t)}),i["*"]&&i["*"].forEach(function(n){n(e,t)})}var i=[];return{addEventHandler:e,removeEventHandler:t,emit:n}}}(window,document,e),function(e,t,n){"use strict";function i(e){var t=[];if(e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}function o(e,t){var i=t||this.prototype||n.Class,o=Object.create(i);n.Class.cloneDefinitions(o,e);var r=function(){var e,t=o.constructor||function(){};return e=this===n?Object.create(o):this,t.apply(e,Array.prototype.slice.call(arguments,0)),e};return r.prototype=o,r["super"]=i,r.extend=this.extend,r}function r(){var e=i(arguments),t=e[0];return e.splice(1,e.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(n){delete t[n],Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}),t}n.Class={extend:o,cloneDefinitions:r}}(window,document,e),function(e,t,n){"use strict";function i(e,t,i){return e&&(this.data=e,this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=n.extend({},i?this.options:this.defaultOptions,t),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function o(){return this.initializeTimeoutId?e.clearTimeout(this.initializeTimeoutId):(e.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function r(e,t){return this.eventEmitter.addEventHandler(e,t),this}function s(e,t){return this.eventEmitter.removeEventHandler(e,t),this}function a(){e.addEventListener("resize",this.resizeListener),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(e){e instanceof Array?e[0](this,e[1]):e(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(e,t,i,o,r){this.container=n.querySelector(e),this.data=t,this.defaultOptions=i,this.options=o,this.responsiveOptions=r,this.eventEmitter=n.EventEmitter(),this.supportsForeignObject=n.Svg.isSupported("Extensibility"),this.supportsAnimations=n.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(a.bind(this),0)}n.Base=n.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:i,detach:o,on:r,off:s,version:n.version,supportsForeignObject:!1})}(window,document,e),function(e,t,n){"use strict";function i(e,i,o,r,s){e instanceof Element?this._node=e:(this._node=t.createElementNS(n.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":n.namespaces.ct})),i&&this.attr(i),o&&this.addClass(o),r&&(s&&r._node.firstChild?r._node.insertBefore(this._node,r._node.firstChild):r._node.appendChild(this._node))}function o(e,t){return"string"==typeof e?t?this._node.getAttributeNS(t,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(t){if(void 0!==e[t])if(t.indexOf(":")!==-1){var i=t.split(":");this._node.setAttributeNS(n.namespaces[i[0]],t,e[t])}else this._node.setAttribute(t,e[t])}.bind(this)),this)}function r(e,t,i,o){return new n.Svg(e,t,i,this,o)}function s(){return this._node.parentNode instanceof SVGElement?new n.Svg(this._node.parentNode):null}function a(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new n.Svg(e)}function l(e){var t=this._node.querySelector(e);return t?new n.Svg(t):null}function c(e){var t=this._node.querySelectorAll(e);return t.length?new n.Svg.List(t):null}function u(e,i,o,r){if("string"==typeof e){var s=t.createElement("div");s.innerHTML=e,e=s.firstChild}e.setAttribute("xmlns",n.namespaces.xmlns);var a=this.elem("foreignObject",i,o,r);return a._node.appendChild(e),a}function d(e){return this._node.appendChild(t.createTextNode(e)),this}function h(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function f(){return this._node.parentNode.removeChild(this._node),this.parent()}function p(e){return this._node.parentNode.replaceChild(e._node,this._node),e}function m(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}function g(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function v(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter(function(e,t,n){return n.indexOf(e)===t}).join(" ")),this}function b(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(e){return t.indexOf(e)===-1}).join(" ")),this}function y(){return this._node.setAttribute("class",""),this}function w(){return this._node.getBoundingClientRect().height}function x(){return this._node.getBoundingClientRect().width}function C(e,t,i){return void 0===t&&(t=!0),Object.keys(e).forEach(function(o){function r(e,t){var r,s,a,l={};e.easing&&(a=e.easing instanceof Array?e.easing:n.Svg.Easing[e.easing],delete e.easing),e.begin=n.ensureUnit(e.begin,"ms"),e.dur=n.ensureUnit(e.dur,"ms"),a&&(e.calcMode="spline",e.keySplines=a.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",l[o]=e.from,this.attr(l),s=n.quantity(e.begin||0).value,e.begin="indefinite"),r=this.elem("animate",n.extend({attributeName:o},e)),t&&setTimeout(function(){try{r._node.beginElement()}catch(t){l[o]=e.to,this.attr(l),r.remove()}}.bind(this),s),i&&r._node.addEventListener("beginEvent",function(){i.emit("animationBegin",{element:this,animate:r._node,params:e})}.bind(this)),r._node.addEventListener("endEvent",function(){i&&i.emit("animationEnd",{element:this,animate:r._node,params:e}),t&&(l[o]=e.to,this.attr(l),r.remove())}.bind(this))}e[o]instanceof Array?e[o].forEach(function(e){r.bind(this)(e,!1)}.bind(this)):r.bind(this)(e[o],t)}.bind(this)),this}function S(e){var t=this;this.svgElements=[];for(var i=0;i<e.length;i++)this.svgElements.push(new n.Svg(e[i]));Object.keys(n.Svg.prototype).filter(function(e){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)===-1}).forEach(function(e){t[e]=function(){var i=Array.prototype.slice.call(arguments,0);return t.svgElements.forEach(function(t){n.Svg.prototype[e].apply(t,i)}),t}})}n.Svg=n.Class.extend({constructor:i,attr:o,elem:r,parent:s,root:a,querySelector:l,querySelectorAll:c,foreignObject:u,text:d,empty:h,remove:f,replace:p,append:m,classes:g,addClass:v,removeClass:b,removeAllClasses:y,height:w,width:x,animate:C}),n.Svg.isSupported=function(e){return t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")};var E={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};n.Svg.Easing=E,n.Svg.List=n.Class.extend({constructor:S})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,o,r,s){var a=n.extend({command:r?e.toLowerCase():e.toUpperCase()},t,s?{data:s}:{});i.splice(o,0,a)}function o(e,t){e.forEach(function(n,i){w[n.command.toLowerCase()].forEach(function(o,r){t(n,o,i,r,e)})})}function r(e,t){this.pathElements=[],this.pos=0,this.close=e,this.options=n.extend({},x,t)}function s(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}function a(e){return this.pathElements.splice(this.pos,e),this}function l(e,t,n,o){return i("M",{x:+e,y:+t},this.pathElements,this.pos++,n,o),this}function c(e,t,n,o){return i("L",{x:+e,y:+t},this.pathElements,this.pos++,n,o),this}function u(e,t,n,o,r,s,a,l){return i("C",{x1:+e,y1:+t,x2:+n,y2:+o,x:+r,y:+s},this.pathElements,this.pos++,a,l),this}function d(e,t,n,o,r,s,a,l,c){return i("A",{rx:+e,ry:+t,xAr:+n,lAf:+o,sf:+r,x:+s,y:+a},this.pathElements,this.pos++,l,c),this}function h(e){var t=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e},[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();var i=t.map(function(e){var t=e.shift(),i=w[t.toLowerCase()];return n.extend({command:t},i.reduce(function(t,n,i){return t[n]=+e[i],t},{}))}),o=[this.pos,0];return Array.prototype.push.apply(o,i),Array.prototype.splice.apply(this.pathElements,o),this.pos+=i.length,this}function f(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,n){var i=w[n.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(n[t]*e)/e:n[t]}.bind(this));return t+n.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")}function p(e,t){return o(this.pathElements,function(n,i){n[i]*="x"===i[0]?e:t}),this}function m(e,t){return o(this.pathElements,function(n,i){n[i]+="x"===i[0]?e:t}),this}function g(e){return o(this.pathElements,function(t,n,i,o,r){var s=e(t,n,i,o,r);(s||0===s)&&(t[n]=s)}),this}function v(e){var t=new n.Svg.Path(e||this.close);return t.pos=this.pos,t.pathElements=this.pathElements.slice().map(function(e){return n.extend({},e)}),t.options=n.extend({},this.options),t}function b(e){var t=[new n.Svg.Path];return this.pathElements.forEach(function(i){i.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new n.Svg.Path),t[t.length-1].pathElements.push(i)}),t}function y(e,t,i){for(var o=new n.Svg.Path(t,i),r=0;r<e.length;r++)for(var s=e[r],a=0;a<s.pathElements.length;a++)o.pathElements.push(s.pathElements[a]);return o}var w={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},x={accuracy:3};n.Svg.Path=n.Class.extend({constructor:r,position:s,remove:a,move:l,line:c,curve:u,arc:d,scale:p,translate:m,transform:g,parse:h,stringify:f,clone:v,splitByCommand:b}),n.Svg.Path.elementDescriptions=w,n.Svg.Path.join=y}(window,document,e),function(e,t,n){"use strict";function i(e,t,n,i){this.units=e,this.counterUnits=e===r.x?r.y:r.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=n,this.options=i}function o(e,t,i,o,r){var s=o["axis"+this.units.pos.toUpperCase()],a=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(s.labelInterpolationFnc);a.forEach(function(c,u){var d,h={x:0,y:0};d=a[u+1]?a[u+1]-c:Math.max(this.axisLength-c,30),n.isFalseyButZero(l[u])&&""!==l[u]||("x"===this.units.pos?(c=this.chartRect.x1+c,h.x=o.axisX.labelOffset.x,"start"===o.axisX.position?h.y=this.chartRect.padding.top+o.axisX.labelOffset.y+(i?5:20):h.y=this.chartRect.y1+o.axisX.labelOffset.y+(i?5:20)):(c=this.chartRect.y1-c,h.y=o.axisY.labelOffset.y-(i?d:0),"start"===o.axisY.position?h.x=i?this.chartRect.padding.left+o.axisY.labelOffset.x:this.chartRect.x1-10:h.x=this.chartRect.x2+o.axisY.labelOffset.x+10),s.showGrid&&n.createGrid(c,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[o.classNames.grid,o.classNames[this.units.dir]],r),s.showLabel&&n.createLabel(c,d,u,l,this,s.offset,h,t,[o.classNames.label,o.classNames[this.units.dir],o.classNames[s.position]],i,r))}.bind(this))}var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};n.Axis=n.Class.extend({constructor:i,createGridAndLabels:o,projectValue:function(e,t,n){throw new Error("Base axis can't be instantiated!")}}),n.Axis.units=r}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,o){var r=o.highLow||n.getHighLow(t.normalized,o,e.pos);this.bounds=n.getBounds(i[e.rectEnd]-i[e.rectStart],r,o.scaleMinSpace||20,o.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},n.AutoScaleAxis["super"].constructor.call(this,e,i,this.bounds.values,o)}function o(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}n.AutoScaleAxis=n.Axis.extend({constructor:i,projectValue:o})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,o){var r=o.highLow||n.getHighLow(t.normalized,o,e.pos);this.divisor=o.divisor||1,this.ticks=o.ticks||n.times(this.divisor).map(function(e,t){return r.low+(r.high-r.low)/this.divisor*t}.bind(this)),this.ticks.sort(function(e,t){return e-t}),this.range={min:r.low,max:r.high},n.FixedScaleAxis["super"].constructor.call(this,e,i,this.ticks,o),this.stepLength=this.axisLength/this.divisor}function o(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}n.FixedScaleAxis=n.Axis.extend({constructor:i,projectValue:o})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,o){n.StepAxis["super"].constructor.call(this,e,i,o.ticks,o),this.stepLength=this.axisLength/(o.ticks.length-(o.stretch?1:0))}function o(e,t){return this.stepLength*t}n.StepAxis=n.Axis.extend({constructor:i,projectValue:o})}(window,document,e),function(e,t,n){"use strict";function i(e){this.data=n.normalizeData(this.data);var t={raw:this.data,normalized:n.getDataArray(this.data,e.reverseData,!0)};this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart);var i,o,s=this.svg.elem("g").addClass(e.classNames.gridGroup),a=this.svg.elem("g"),l=this.svg.elem("g").addClass(e.classNames.labelGroup),c=n.createChartRect(this.svg,e,r.padding);i=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,t,c,n.extend({},e.axisX,{ticks:t.raw.labels,stretch:e.fullWidth})):e.axisX.type.call(n,n.Axis.units.x,t,c,e.axisX),o=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,t,c,n.extend({},e.axisY,{high:n.isNum(e.high)?e.high:e.axisY.high,low:n.isNum(e.low)?e.low:e.axisY.low})):e.axisY.type.call(n,n.Axis.units.y,t,c,e.axisY),i.createGridAndLabels(s,l,this.supportsForeignObject,e,this.eventEmitter),o.createGridAndLabels(s,l,this.supportsForeignObject,e,this.eventEmitter),t.raw.series.forEach(function(r,s){var l=a.elem("g");l.attr({"ct:series-name":r.name,"ct:meta":n.serialize(r.meta)}),l.addClass([e.classNames.series,r.className||e.classNames.series+"-"+n.alphaNumerate(s)].join(" "));var u=[],d=[];t.normalized[s].forEach(function(e,a){var l={x:c.x1+i.projectValue(e,a,t.normalized[s]),y:c.y1-o.projectValue(e,a,t.normalized[s])};u.push(l.x,l.y),d.push({value:e,valueIndex:a,meta:n.getMetaData(r,a)})}.bind(this));var h={lineSmooth:n.getSeriesOption(r,e,"lineSmooth"),showPoint:n.getSeriesOption(r,e,"showPoint"),showLine:n.getSeriesOption(r,e,"showLine"),showArea:n.getSeriesOption(r,e,"showArea"),areaBase:n.getSeriesOption(r,e,"areaBase")},f="function"==typeof h.lineSmooth?h.lineSmooth:h.lineSmooth?n.Interpolation.monotoneCubic():n.Interpolation.none(),p=f(u,d);if(h.showPoint&&p.pathElements.forEach(function(t){var a=l.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},e.classNames.point).attr({"ct:value":[t.data.value.x,t.data.value.y].filter(n.isNum).join(","),"ct:meta":t.data.meta});this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:r,seriesIndex:s,axisX:i,axisY:o,group:l,element:a,x:t.x,y:t.y})}.bind(this)),h.showLine){var m=l.elem("path",{d:p.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:t.normalized[s],path:p.clone(),chartRect:c,index:s,series:r,seriesIndex:s,axisX:i,axisY:o,group:l,element:m})}if(h.showArea&&o.range){var g=Math.max(Math.min(h.areaBase,o.range.max),o.range.min),v=c.y1-o.projectValue(g);p.splitByCommand("M").filter(function(e){return e.pathElements.length>1}).map(function(e){var t=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,v).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,v)}).forEach(function(n){var a=l.elem("path",{d:n.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:t.normalized[s],path:n.clone(),series:r,seriesIndex:s,axisX:i,axisY:o,chartRect:c,index:s,group:l,element:a})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:o.bounds,chartRect:c,axisX:i,axisY:o,svg:this.svg,options:e})}function o(e,t,i,o){n.Line["super"].constructor.call(this,e,t,r,n.extend({},r,i),o)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Line=n.Base.extend({constructor:o,createChart:i})}(window,document,e),function(e,t,n){"use strict";function i(e){this.data=n.normalizeData(this.data);var t,i={raw:this.data,normalized:e.distributeSeries?n.getDataArray(this.data,e.reverseData,e.horizontalBars?"x":"y").map(function(e){return[e]}):n.getDataArray(this.data,e.reverseData,e.horizontalBars?"x":"y")};this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var o=this.svg.elem("g").addClass(e.classNames.gridGroup),s=this.svg.elem("g"),a=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars&&0!==i.normalized.length){var l=n.serialMap(i.normalized,function(){return Array.prototype.slice.call(arguments).map(function(e){return e}).reduce(function(e,t){return{x:e.x+(t&&t.x)||0,y:e.y+(t&&t.y)||0}},{x:0,y:0})});t=n.getHighLow([l],n.extend({},e,{referenceValue:0}),e.horizontalBars?"x":"y")}else t=n.getHighLow(i.normalized,n.extend({},e,{referenceValue:0}),e.horizontalBars?"x":"y");t.high=+e.high||(0===e.high?0:t.high),t.low=+e.low||(0===e.low?0:t.low);var c,u,d,h,f,p=n.createChartRect(this.svg,e,r.padding);u=e.distributeSeries&&e.stackBars?i.raw.labels.slice(0,1):i.raw.labels,e.horizontalBars?(c=h=void 0===e.axisX.type?new n.AutoScaleAxis(n.Axis.units.x,i,p,n.extend({},e.axisX,{highLow:t,referenceValue:0})):e.axisX.type.call(n,n.Axis.units.x,i,p,n.extend({},e.axisX,{highLow:t,referenceValue:0})),d=f=void 0===e.axisY.type?new n.StepAxis(n.Axis.units.y,i,p,{ticks:u}):e.axisY.type.call(n,n.Axis.units.y,i,p,e.axisY)):(d=h=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,i,p,{ticks:u}):e.axisX.type.call(n,n.Axis.units.x,i,p,e.axisX),c=f=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,i,p,n.extend({},e.axisY,{highLow:t,referenceValue:0})):e.axisY.type.call(n,n.Axis.units.y,i,p,n.extend({},e.axisY,{highLow:t,referenceValue:0})));var m=e.horizontalBars?p.x1+c.projectValue(0):p.y1-c.projectValue(0),g=[];d.createGridAndLabels(o,a,this.supportsForeignObject,e,this.eventEmitter),c.createGridAndLabels(o,a,this.supportsForeignObject,e,this.eventEmitter),i.raw.series.forEach(function(t,o){var r,a,l=o-(i.raw.series.length-1)/2;r=e.distributeSeries&&!e.stackBars?d.axisLength/i.normalized.length/2:e.distributeSeries&&e.stackBars?d.axisLength/2:d.axisLength/i.normalized[o].length/2,a=s.elem("g"),a.attr({"ct:series-name":t.name,"ct:meta":n.serialize(t.meta)}),a.addClass([e.classNames.series,t.className||e.classNames.series+"-"+n.alphaNumerate(o)].join(" ")),i.normalized[o].forEach(function(s,u){var v,b,y,w;if(w=e.distributeSeries&&!e.stackBars?o:e.distributeSeries&&e.stackBars?0:u,v=e.horizontalBars?{x:p.x1+c.projectValue(s&&s.x?s.x:0,u,i.normalized[o]),y:p.y1-d.projectValue(s&&s.y?s.y:0,w,i.normalized[o])}:{x:p.x1+d.projectValue(s&&s.x?s.x:0,w,i.normalized[o]),y:p.y1-c.projectValue(s&&s.y?s.y:0,u,i.normalized[o])},d instanceof n.StepAxis&&(d.options.stretch||(v[d.units.pos]+=r*(e.horizontalBars?-1:1)),v[d.units.pos]+=e.stackBars||e.distributeSeries?0:l*e.seriesBarDistance*(e.horizontalBars?-1:1)),y=g[u]||m,g[u]=y-(m-v[d.counterUnits.pos]),void 0!==s){var x={};x[d.units.pos+"1"]=v[d.units.pos],x[d.units.pos+"2"]=v[d.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(x[d.counterUnits.pos+"1"]=m,x[d.counterUnits.pos+"2"]=v[d.counterUnits.pos]):(x[d.counterUnits.pos+"1"]=y,x[d.counterUnits.pos+"2"]=g[u]),x.x1=Math.min(Math.max(x.x1,p.x1),p.x2),x.x2=Math.min(Math.max(x.x2,p.x1),p.x2),x.y1=Math.min(Math.max(x.y1,p.y2),p.y1),x.y2=Math.min(Math.max(x.y2,p.y2),p.y1),b=a.elem("line",x,e.classNames.bar).attr({"ct:value":[s.x,s.y].filter(n.isNum).join(","),"ct:meta":n.getMetaData(t,u)}),this.eventEmitter.emit("draw",n.extend({type:"bar",value:s,index:u,meta:n.getMetaData(t,u),series:t,seriesIndex:o,axisX:h,axisY:f,chartRect:p,group:a,element:b},x))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:p,axisX:h,axisY:f,svg:this.svg,options:e})}function o(e,t,i,o){n.Bar["super"].constructor.call(this,e,t,r,n.extend({},r,i),o)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Bar=n.Base.extend({constructor:o,createChart:i})}(window,document,e),function(e,t,n){"use strict";function i(e,t,n){var i=t.x>e.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}function o(e){this.data=n.normalizeData(this.data);var t,o,r,a,l,c=[],u=e.startAngle,d=n.getDataArray(this.data,e.reverseData);
this.svg=n.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),o=n.createChartRect(this.svg,e,s.padding),r=Math.min(o.width()/2,o.height()/2),l=e.total||d.reduce(function(e,t){return e+t},0);var h=n.quantity(e.donutWidth);"%"===h.unit&&(h.value*=r/100),r-=e.donut?h.value/2:0,a="outside"===e.labelPosition||e.donut?r:"center"===e.labelPosition?0:r/2,a+=e.labelOffset;var f={x:o.x1+o.width()/2,y:o.y2+o.height()/2},p=1===this.data.series.filter(function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e}).length;e.showLabel&&(t=this.svg.elem("g",null,null,!0));for(var m=0;m<this.data.series.length;m++)if(0!==d[m]||!e.ignoreEmptyValues){var g=this.data.series[m];c[m]=this.svg.elem("g",null,null,!0),c[m].attr({"ct:series-name":g.name}),c[m].addClass([e.classNames.series,g.className||e.classNames.series+"-"+n.alphaNumerate(m)].join(" "));var v=u+d[m]/l*360,b=Math.max(0,u-(0===m||p?0:.2));v-b>=359.99&&(v=b+359.99);var y=n.polarToCartesian(f.x,f.y,r,b),w=n.polarToCartesian(f.x,f.y,r,v),x=new n.Svg.Path((!e.donut)).move(w.x,w.y).arc(r,r,0,v-u>180,0,y.x,y.y);e.donut||x.line(f.x,f.y);var C=c[m].elem("path",{d:x.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(C.attr({"ct:value":d[m],"ct:meta":n.serialize(g.meta)}),e.donut&&C.attr({style:"stroke-width: "+h.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:d[m],totalDataSum:l,index:m,meta:g.meta,series:g,group:c[m],element:C,path:x.clone(),center:f,radius:r,startAngle:u,endAngle:v}),e.showLabel){var S=n.polarToCartesian(f.x,f.y,a,u+(v-u)/2),E=e.labelInterpolationFnc(this.data.labels&&!n.isFalseyButZero(this.data.labels[m])?this.data.labels[m]:d[m],m);if(E||0===E){var T=t.elem("text",{dx:S.x,dy:S.y,"text-anchor":i(f,S,e.labelDirection)},e.classNames.label).text(""+E);this.eventEmitter.emit("draw",{type:"label",index:m,group:t,element:T,text:""+E,x:S.x,y:S.y})}}u=v}this.eventEmitter.emit("created",{chartRect:o,svg:this.svg,options:e})}function r(e,t,i,o){n.Pie["super"].constructor.call(this,e,t,s,n.extend({},s,i),o)}var s={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:n.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};n.Pie=n.Base.extend({constructor:r,createChart:o,determineAnchorPosition:i})}(window,document,e),e}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";var t=function(n,i){this.id=++e.FE.ID,this.opts=e.extend(!0,{},e.extend({},t.DEFAULTS,"object"==typeof i&&i));var o=JSON.stringify(this.opts);e.FE.OPTS_MAPPING[o]=e.FE.OPTS_MAPPING[o]||this.id,this.sid=e.FE.OPTS_MAPPING[o],e.FE.SHARED[this.sid]=e.FE.SHARED[this.sid]||{},this.shared=e.FE.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,this.$oel=e(n),this.$oel.data("froala.editor",this),this.o_doc=n.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow;var r=e(this.o_win).scrollTop();this.$oel.on("froala.doInit",e.proxy(function(){this.$oel.off("froala.doInit"),this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=e(this.doc),this.$win=e(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys(e.FE.PLUGINS)),this.opts.initOnClick?(this.load(e.FE.MODULES),this.$el.on("touchstart.init",function(){e(this).data("touched",!0)}),this.$el.on("touchmove.init",function(){e(this).removeData("touched")}),this.$el.on("mousedown.init touchend.init dragenter.init focus.init",e.proxy(function(t){if("touchend"==t.type&&!this.$el.data("touched"))return!0;if(1===t.which||0===t.which){this.$el.off("mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"),this.load(e.FE.MODULES),this.load(e.FE.PLUGINS);var n=t.originalEvent&&t.originalEvent.originalTarget;n&&"IMG"==n.tagName&&e(n).trigger("mousedown"),"undefined"==typeof this.ul&&this.destroy(),"touchend"==t.type&&this.image&&t.originalEvent&&t.originalEvent.target&&e(t.originalEvent.target).is("img")&&setTimeout(e.proxy(function(){this.image.edit(e(t.originalEvent.target))},this),100),this.events.trigger("initialized")}},this))):(this.load(e.FE.MODULES),this.load(e.FE.PLUGINS),e(this.o_win).scrollTop(r),"undefined"==typeof this.ul&&this.destroy(),this.events.trigger("initialized"))},this)),this._init()};t.DEFAULTS={initOnClick:!1,pluginsEnabled:null},t.MODULES={},t.PLUGINS={},t.VERSION="2.3.3",t.INSTANCES=[],t.OPTS_MAPPING={},t.SHARED={},t.ID=0,t.prototype._init=function(){var t=this.$oel.prop("tagName"),n=e.proxy(function(){this._original_html=this._original_html||this.$oel.html(),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=e('<iframe src="about:blank" frameBorder="0">'),this.$wp=e("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.$el=this.$iframe.contents().find("body"),this.$head=this.$iframe.contents().find("head"),this.$html=this.$iframe.contents().find("html"),this.iframe_document=this.$iframe.get(0).contentWindow.document,this.$oel.trigger("froala.doInit")):(this.$el=e("<div></div>"),this.$wp=e("<div></div>").append(this.$el),this.$box.html(this.$wp),this.$oel.trigger("froala.doInit"))},this),i=e.proxy(function(){this.$box=e("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val(),this.$oel.parents("form").on("submit."+this.id,e.proxy(function(){this.events.trigger("form.submit")},this)),this.$oel.parents("form").on("reset."+this.id,e.proxy(function(){this.events.trigger("form.reset")},this)),n()},this),o=e.proxy(function(){this.$el=this.$oel,this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),r=e.proxy(function(){this.$el=this.$oel,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),s=e.proxy(function(){this.$el=this.$oel,this.opts.toolbarInline=!1,this.$oel.on("click.popup",function(e){e.preventDefault()}),this.$oel.trigger("froala.doInit")},this);this.opts.editInPopup?s():"TEXTAREA"==t?i():"A"==t?o():"IMG"==t?r():"BUTTON"==t||"INPUT"==t?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,s()):n()},t.prototype.load=function(t){for(var n in t)if(t.hasOwnProperty(n)){if(this[n])continue;if(e.FE.PLUGINS[n]&&this.opts.pluginsEnabled.indexOf(n)<0)continue;if(this[n]=new t[n](this),this[n]._init&&(this[n]._init(),this.opts.initOnClick&&"core"==n))return!1}},t.prototype.destroy=function(){this.shared.count--,this.events.$off();var t=this.html.get();if(this.events.trigger("destroy",[],!0),this.events.trigger("shared.destroy",void 0,!0),0===this.shared.count){for(var n in this.shared)this.shared.hasOwnProperty(n)&&(null==this.shared[n],e.FE.SHARED[this.sid][n]=null);e.FE.SHARED[this.sid]={}}this.$oel.parents("form").off("."+this.id),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),this.core.destroy(t),e.FE.INSTANCES.splice(e.FE.INSTANCES.indexOf(this),1)},e.fn.froalaEditor=function(n){for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);if("string"==typeof n){var r=[];return this.each(function(){var t=e(this),o=t.data("froala.editor");if(o){var s,a;if(n.indexOf(".")>0&&o[n.split(".")[0]]?(o[n.split(".")[0]]&&(s=o[n.split(".")[0]]),a=n.split(".")[1]):(s=o,a=n.split(".")[0]),!s[a])return e.error("Method "+n+" does not exist in Froala Editor.");var l=s[a].apply(o,i.slice(1));void 0===l?r.push(this):0===r.length&&r.push(l)}}),1==r.length?r[0]:r}return"object"!=typeof n&&n?void 0:this.each(function(){var i=e(this).data("froala.editor");if(!i){var o=this;new t(o,n)}})},e.fn.froalaEditor.Constructor=t,e.FroalaEditor=t,e.FE=t,e.FE.MODULES.node=function(t){function n(t){return t&&"IFRAME"!=t.tagName?e(t).contents():[]}function i(t){return!!t&&(t.nodeType==Node.ELEMENT_NODE&&e.FE.BLOCK_TAGS.indexOf(t.tagName.toLowerCase())>=0)}function o(o,r){if(e(o).find("table").length>0)return!1;if(o.querySelectorAll(e.FE.VOID_ELEMENTS.join(",")).length-o.querySelectorAll("br").length)return!1;if(o.querySelectorAll(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length)return!1;if(o.querySelectorAll(e.FE.BLOCK_TAGS.join(",")).length>1)return!1;if(o.querySelectorAll(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)").length)return!1;var s=n(o);1==s.length&&i(s[0])&&(s=n(s[0]));for(var a=!1,l=0;l<s.length;l++){var c=s[l];if(!(r&&e(c).hasClass("fr-marker")||c.nodeType==Node.TEXT_NODE&&0==c.textContent.length)){if("BR"!=c.tagName&&(c.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length>0)return!1;if(a)return!1;"BR"==c.tagName&&(a=!0)}}return!0}function r(n){for(;n&&n.parentNode!==t.$el.get(0)&&(!n.parentNode||!e(n.parentNode).hasClass("fr-inner"));)if(n=n.parentNode,i(n))return n;return null}function s(n,o,r){if("undefined"==typeof o&&(o=[]),"undefined"==typeof r&&(r=!0),o.push(t.$el.get(0)),o.indexOf(n.parentNode)>=0||n.parentNode&&e(n.parentNode).hasClass("fr-inner")||n.parentNode&&e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)>=0&&r)return null;for(;o.indexOf(n.parentNode)<0&&n.parentNode&&!e(n.parentNode).hasClass("fr-inner")&&(e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)<0||!r)&&(!i(n)||!i(n.parentNode)||!r);)n=n.parentNode;return n}function a(e){var t={},n=e.attributes;if(n)for(var i=0;i<n.length;i++){var o=n[i];t[o.nodeName]=o.value}return t}function l(e){for(var t="",n=a(e),i=Object.keys(n).sort(),o=0;o<i.length;o++){var r=i[o],s=n[r];t+=s.indexOf('"')<0?" "+r+'="'+s+'"':" "+r+"='"+s+"'"}return t}function c(e){for(var t=e.attributes,n=0;n<t.length;n++){var i=t[n];e.removeAttribute(i.nodeName)}}function u(e){return"<"+e.tagName.toLowerCase()+l(e)+">"}function d(e){return"</"+e.tagName.toLowerCase()+">"}function h(t,n){"undefined"==typeof n&&(n=!0);for(var i=t.previousSibling;i&&n&&e(i).hasClass("fr-marker");)i=i.previousSibling;return!i||i.nodeType==Node.TEXT_NODE&&""===i.textContent&&h(i)}function f(t,n){"undefined"==typeof n&&(n=!0);for(var i=t.nextSibling;i&&n&&e(i).hasClass("fr-marker");)i=i.nextSibling;return!i||i.nodeType==Node.TEXT_NODE&&""===i.textContent&&f(i)}function p(t){return t&&t.nodeType==Node.ELEMENT_NODE&&e.FE.VOID_ELEMENTS.indexOf((t.tagName||"").toLowerCase())>=0}function m(e){return!!e&&["UL","OL"].indexOf(e.tagName)>=0}function g(e){return e===t.$el.get(0)}function v(e){return e&&e.className&&(e.className||"").indexOf("fr-deletable")>=0}function b(e){return e===t.doc.activeElement&&(!t.doc.hasFocus||t.doc.hasFocus())&&!!(g(e)||e.type||e.href||~e.tabIndex)}function y(e){return(!e.getAttribute||"false"!=e.getAttribute("contenteditable"))&&["STYLE","SCRIPT"].indexOf(e.tagName)<0}return{isBlock:i,isEmpty:o,blockParent:r,deepestParent:s,rawAttributes:a,attributes:l,clearAttributes:c,openTagString:u,closeTagString:d,isFirstSibling:h,isLastSibling:f,isList:m,isElement:g,contents:n,isVoid:p,hasFocus:b,isEditable:y,isDeletable:v}},e.extend(e.FE.DEFAULTS,{htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowComments:!0,fullPage:!1}),e.FE.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},e.FE.MODULES.clean=function(t){function n(e){if(e.className&&e.className.indexOf("fr-marker")>=0)return!1;var i,o=t.node.contents(e),r=[];for(i=0;i<o.length;i++)o[i].nodeType!=Node.ELEMENT_NODE||t.node.isVoid(o[i])?o[i].nodeType==Node.TEXT_NODE&&(o[i].textContent=o[i].textContent.replace(/\u200b/g,"")):o[i].textContent.replace(/\u200b/g,"").length!=o[i].textContent.length&&n(o[i]);if(e.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(e)&&(e.normalize(),o=t.node.contents(e),r=e.querySelectorAll(".fr-marker"),o.length-r.length==0)){for(i=0;i<o.length;i++)if((o[i].className||"").indexOf("fr-marker")<0)return!1;for(i=0;i<r.length;i++)e.parentNode.insertBefore(r[i].cloneNode(!0),e);return e.parentNode.removeChild(e),!1}}function i(e){if(e.nodeType==Node.COMMENT_NODE)return"<!--"+e.nodeValue+"-->";if(e.nodeType==Node.TEXT_NODE)return e.textContent.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\u00A0/g,"&nbsp;");if(e.nodeType!=Node.ELEMENT_NODE)return e.outerHTML;if(e.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT"].indexOf(e.tagName)>=0)return e.outerHTML;if("IFRAME"==e.tagName)return e.outerHTML;var n=e.childNodes;if(0===n.length)return e.outerHTML;for(var o="",r=0;r<n.length;r++)o+=i(n[r]);return t.node.openTagString(e)+o+t.node.closeTagString(e)}function o(e){return $=[],e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(e){return $.push(e),"[FROALA.EDITOR.SCRIPT "+($.length-1)+"]"}),e=e.replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="')}function r(e){return e=e.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,function(e,n){return t.opts.htmlRemoveTags.indexOf("script")>=0?"":$[parseInt(n,10)]}),e=e.replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}function s(e){var t;for(t in e)e.hasOwnProperty(t)&&(t.match(O)||delete e[t]);for(var n="",i=Object.keys(e).sort(),o=0;o<i.length;o++)t=i[o],n+=e[t].indexOf('"')<0?" "+t+'="'+e[t]+'"':" "+t+"='"+e[t]+"'";return n}function a(e,n,i){if(t.opts.fullPage){var o=t.html.extractDoctype(i),r=s(t.html.extractNodeAttrs(i,"html"));n=null==n?t.html.extractNode(i,"head")||"<title></title>":n;var a=s(t.html.extractNodeAttrs(i,"head")),l=s(t.html.extractNodeAttrs(i,"body"));return o+"<html"+r+"><head"+a+">"+n+"</head><body"+l+">"+e+"</body></html>"}return e}function l(n,o){var r=e("<div>"+n+"</div>"),s="";if(r){for(var a=t.node.contents(r.get(0)),l=0;l<a.length;l++)o(a[l]);a=t.node.contents(r.get(0));for(var l=0;l<a.length;l++)s+=i(a[l])}return s}function c(e,n,i){e=o(e);var s=e,c=null;if(t.opts.fullPage){var s=t.html.extractNode(e,"body")||(e.indexOf("<body")>=0?"":e);i&&(c=t.html.extractNode(e,"head")||"")}s=l(s,n),c&&(c=l(c,n));var u=a(s,c,e);return r(u)}function u(e){return e.replace(/\u200b/g,"").length==e.length?e:t.clean.exec(e,n)}function d(){var n=t.$el.get(0).querySelectorAll(Object.keys(e.FE.HTML5Map).join(","));if(n.length){t.selection.save();for(var i=0;i<n.length;i++)""===t.node.attributes(n[i])&&e(n[i]).replaceWith("<"+e.FE.HTML5Map[n[i].tagName]+">"+n[i].innerHTML+"</"+e.FE.HTML5Map[n[i].tagName]+">");t.selection.restore()}}function h(n){if("SPAN"==n.tagName&&(n.className||"").indexOf("fr-marker")>=0)return!1;if("PRE"==n.tagName&&p(n),n.nodeType==Node.ELEMENT_NODE&&(n.getAttribute("data-fr-src")&&n.setAttribute("data-fr-src",t.helpers.sanitizeURL(n.getAttribute("data-fr-src"))),n.getAttribute("href")&&n.setAttribute("href",t.helpers.sanitizeURL(n.getAttribute("href"))),["TABLE","TBODY","TFOOT","TR"].indexOf(n.tagName)>=0&&(n.innerHTML=n.innerHTML.trim())),!t.opts.pasteAllowLocalImages&&n.nodeType==Node.ELEMENT_NODE&&"IMG"==n.tagName&&n.getAttribute("data-fr-src")&&0==n.getAttribute("data-fr-src").indexOf("file://"))return n.parentNode.removeChild(n),!1;if(n.nodeType==Node.ELEMENT_NODE&&e.FE.HTML5Map[n.tagName]&&""===t.node.attributes(n)){var i=e.FE.HTML5Map[n.tagName],o="<"+i+">"+n.innerHTML+"</"+i+">";n.insertAdjacentHTML("beforebegin",o),n=n.previousSibling,n.parentNode.removeChild(n.nextSibling)}if(t.opts.htmlAllowComments||n.nodeType!=Node.COMMENT_NODE)if(n.tagName&&n.tagName.match(F))n.parentNode.removeChild(n);else if(n.tagName&&!n.tagName.match(M))n.outerHTML=n.innerHTML;else{var r=n.attributes;if(r)for(var s=r.length-1;s>=0;s--){var a=r[s];a.nodeName.match(O)||n.removeAttribute(a.nodeName)}}else 0!==n.data.indexOf("[FROALA.EDITOR")&&n.parentNode.removeChild(n)}function f(e){for(var n=t.node.contents(e),i=0;i<n.length;i++)n[i].nodeType!=Node.TEXT_NODE&&f(n[i]);h(e)}function p(e){var t=e.innerHTML;t.indexOf("\n")>=0&&(e.innerHTML=t.replace(/\n/g,"<br>"))}function m(n,i,o,r){"undefined"==typeof i&&(i=[]),"undefined"==typeof o&&(o=[]),"undefined"==typeof r&&(r=!1),n=n.replace(/\u0009/g,"");var s,a=e.merge([],t.opts.htmlAllowedTags);for(s=0;s<i.length;s++)a.indexOf(i[s])>=0&&a.splice(a.indexOf(i[s]),1);var l=e.merge([],t.opts.htmlAllowedAttrs);for(s=0;s<o.length;s++)l.indexOf(o[s])>=0&&l.splice(l.indexOf(o[s]),1);return l.push("data-fr-.*"),l.push("fr-.*"),M=new RegExp("^"+a.join("$|^")+"$","gi"),O=new RegExp("^"+l.join("$|^")+"$","gi"),F=new RegExp("^"+t.opts.htmlRemoveTags.join("$|^")+"$","gi"),n=c(n,f,!0)}function g(){for(var n=t.$el.get(0).querySelectorAll("blockquote + blockquote"),i=0;i<n.length;i++){var o=n[i];t.node.attributes(o)==t.node.attributes(o.previousSibling)&&(e(o).prev().append(e(o).html()),e(o).remove())}}function v(){for(var e=t.$el.get(0).querySelectorAll("tr"),n=0;n<e.length;n++){for(var i=e[n].children,o=!0,r=0;r<i.length;r++)if("TH"!=i[r].tagName){o=!1;break}if(0!=o&&0!=i.length){for(var s=e[n];s&&"TABLE"!=s.tagName&&"THEAD"!=s.tagName;)s=s.parentNode;var a=s;"THEAD"!=a.tagName&&(a=t.doc.createElement("THEAD"),s.insertBefore(a,s.firstChild)),a.appendChild(e[n])}}}function b(){for(var n=t.$el.get(0).querySelectorAll("table"),i=0;i<n.length;i++){for(var o=n[i].previousSibling;o&&o.nodeType==Node.TEXT_NODE&&0==o.textContent.length;)o=o.previousSibling;!o||t.node.isBlock(o)||"BR"==o.tagName||o.nodeType!=Node.TEXT_NODE&&o.nodeType!=Node.ELEMENT_NODE||e(o).is(t.opts.htmlDoNotWrapTags.join(","))||n[i].parentNode.insertBefore(t.doc.createElement("br"),n[i])}}function y(){var n=t.html.defaultTag();if(n)for(var i=t.$el.get(0).querySelectorAll("td > "+n+", th > "+n),o=0;o<i.length;o++)""===t.node.attributes(i[o])&&e(i[o]).replaceWith(i[o].innerHTML+"<br>")}function w(){v(),b(),y()}function x(){var e=[],n=function(e){return!t.node.isList(e.parentNode)};do{if(e.length){var i=e[0],o=t.doc.createElement("ul");i.parentNode.insertBefore(o,i);do{var r=i;i=i.nextSibling,o.appendChild(r)}while(i&&"LI"==i.tagName)}e=[];for(var s=t.$el.get(0).querySelectorAll("li"),a=0;a<s.length;a++)n(s[a])&&e.push(s[a])}while(e.length>0)}function C(){for(var e=t.$el.get(0).querySelectorAll("ol + ol, ul + ul"),n=0;n<e.length;n++){var i=e[n];if(t.node.isList(i.previousSibling)&&t.node.openTagString(i)==t.node.openTagString(i.previousSibling)){for(var o=t.node.contents(i),r=0;r<o.length;r++)i.previousSibling.appendChild(o[r]);i.parentNode.removeChild(i)}}}function S(){var e,n=function(t){0===t.querySelectorAll("LI").length&&(e=!0,t.parentNode.removeChild(t))};do{e=!1;for(var i=t.$el.get(0).querySelectorAll("li:empty"),o=0;o<i.length;o++)i[o].parentNode.removeChild(i[o]);for(var r=t.$el.get(0).querySelectorAll("ul, ol"),o=0;o<r.length;o++)n(r[o])}while(e===!0)}function E(){for(var n=t.$el.get(0).querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),i=0;i<n.length;i++){var o=n[i],r=o.previousSibling;r&&("LI"==r.tagName?r.appendChild(o):e(o).wrap("<li></li>"))}}function T(){for(var n=t.$el.get(0).querySelectorAll("li > ul, li > ol"),i=0;i<n.length;i++){var o=n[i];if(o.nextSibling){var r=o.nextSibling,s=e("<li>");e(o.parentNode).after(s);do{var a=r;r=r.nextSibling,s.append(a)}while(r)}}}function k(){for(var n=t.$el.get(0).querySelectorAll("li > ul, li > ol"),i=0;i<n.length;i++){var o=n[i];if(t.node.isFirstSibling(o))e(o).before("<br/>");else if(o.previousSibling&&"BR"==o.previousSibling.tagName){for(var r=o.previousSibling.previousSibling;r&&e(r).hasClass("fr-marker");)r=r.previousSibling;r&&"BR"!=r.tagName&&e(o.previousSibling).remove()}}}function D(){for(var n=t.$el.get(0).querySelectorAll("li:empty"),i=0;i<n.length;i++)e(n[i]).remove()}function A(){for(var n=t.$el.get(0).querySelectorAll("ul, ol"),i=0;i<n.length;i++)for(var o=t.node.contents(n[i]),r=null,s=o.length-1;s>=0;s--)"LI"!=o[s].tagName?(r||(r=e("<li>"),r.insertBefore(o[s])),r.append(o[s])):r=null}function N(){x(),C(),S(),E(),T(),k(),A(),D()}function _(){t.opts.fullPage&&e.merge(t.opts.htmlAllowedTags,["head","title","style","link","base","body","html"])}var M,F,O,$=[],$=[];return{_init:_,html:m,toHTML5:d,tables:w,lists:N,quotes:g,invisibleSpaces:u,exec:c}},e.FE.XS=0,e.FE.SM=1,e.FE.MD=2,e.FE.LG=3,e.FE.MODULES.helpers=function(t){function n(){var e,t,n=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))),n}function i(){var e={},t=n();if(t>0)e.msie=!0;else{var i=navigator.userAgent.toLowerCase(),o=/(edge)[ \/]([\w.]+)/.exec(i)||/(chrome)[ \/]([\w.]+)/.exec(i)||/(webkit)[ \/]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[],r={browser:o[1]||"",version:o[2]||"0"};o[1]&&(e[r.browser]=!0),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0)}return e.msie&&(e.version=t),e}function o(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&!a()}function r(){return/(Android)/g.test(navigator.userAgent)&&!a()}function s(){return/(Blackberry)/g.test(navigator.userAgent)}function a(){return/(Windows Phone)/gi.test(navigator.userAgent)}function l(){return r()||o()||s()}function c(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}function u(e){return parseInt(e,10)||0}function d(){var t=e('<div class="fr-visibility-helper"></div>').appendTo("body"),n=u(t.css("margin-left"));return t.remove(),n}function h(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function f(e){if(!/^(https?:|ftps?:|)\/\//i.test(e))return!1;e=String(e).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var t=/(http|ftp|https):\/\/[a-z\u00a1-\uffff0-9]+(\.[a-z\u00a1-\uffff0-9]*)*([a-z\u00a1-\uffff0-9.,@?^=%&amp;:\/~+#-]*[a-z\u00a1-\uffff0-9@?^=%&amp;\/~+#-])?/gi;return t.test(e)}function p(e){if(/^(https?:|ftps?:|)\/\//i.test(e)){if(!f(e)&&!f("http:"+e))return""}else e=encodeURIComponent(e).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/gi,"mailto:").replace(/file%3A/gi,"file:").replace(/sms%3A/gi,"sms:").replace(/tel%3A/gi,"tel:").replace(/notes%3A/gi,"notes:").replace(/data%3Aimage/gi,"data:image").replace(/webkit-fake-url%3A/gi,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%7B/g,"{").replace(/%7D/g,"}");return e}function m(e){return e&&!e.propertyIsEnumerable("length")&&"object"==typeof e&&"number"==typeof e.length}function g(e){function t(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}try{return e&&"transparent"!==e?/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+t(e[1])+t(e[2])+t(e[3])).toUpperCase()):""}catch(n){return null}}function v(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,i){return t+t+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?"rgb("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+")":""}function b(t){var n=(t.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(n)<0){if(!x){var i=e('<div dir="auto" style="text-align: initial; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>');e("body").append(i);var o=i.find("#s1").get(0).getBoundingClientRect().left,r=i.find("#s2").get(0).getBoundingClientRect().left;i.remove(),x=r>o?"left":"right"}n=x}return n}function y(){return null==C&&(C=navigator.platform.toUpperCase().indexOf("MAC")>=0),C}function w(){t.browser=i()}var x,C=null;return{_init:w,isIOS:o,isMac:y,isAndroid:r,isBlackberry:s,isWindowsPhone:a,isMobile:l,requestAnimationFrame:c,getPX:u,screenSize:d,isTouch:h,sanitizeURL:p,isArray:m,RGBToHex:g,HEXtoRGB:v,isURL:f,getAlignment:b}},e.FE.MODULES.events=function(t){function n(e,t,n){b(e,t,n)}function i(){n(t.$el,"cut copy paste beforepaste",function(e){x(e.type,[e])})}function o(){n(t.$el,"click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",function(e){x(e.type,[e])}),v("mousedown",function(){for(var n=0;n<e.FE.INSTANCES.length;n++)e.FE.INSTANCES[n]!=t&&e.FE.INSTANCES[n].popups&&e.FE.INSTANCES[n].popups.areVisible()&&e.FE.INSTANCES[n].$el.find(".fr-marker").remove()})}function r(){n(t.$el,"keydown keypress keyup input",function(e){x(e.type,[e])})}function s(){n(t.$win,t._mousedown,function(e){x("window.mousedown",[e]),f()}),n(t.$win,t._mouseup,function(e){x("window.mouseup",[e])}),n(t.$win,"cut copy keydown keyup touchmove touchend",function(e){x("window."+e.type,[e])})}function a(){n(t.$doc,"dragend drop",function(e){x("document."+e.type,[e])})}function l(n){if("undefined"==typeof n&&(n=!0),!t.$wp)return!1;if(t.helpers.isIOS()&&t.$win.get(0).focus(),!t.core.hasFocus()&&n){var i=t.$win.scrollTop();return t.$el.focus(),i!=t.$win.scrollTop()&&t.$win.scrollTop(i),!1}if(!t.core.hasFocus()||t.$el.find(".fr-marker").length>0)return!1;var o=t.selection.info(t.$el.get(0));if(o.atStart&&t.selection.isCollapsed()&&null!=t.html.defaultTag()){var r=t.markers.insert();if(r&&!t.node.blockParent(r)){e(r).remove();var s=t.$el.find(t.html.blockTagsQuery()).get(0);s&&(e(s).prepend(e.FE.MARKERS),t.selection.restore())}else r&&e(r).remove()}}function c(){n(t.$el,"focus",function(e){m()&&(l(!1),A===!1&&x(e.type,[e]))}),n(t.$el,"blur",function(e){m()&&A===!0&&x(e.type,[e])}),v("focus",function(){A=!0}),v("blur",function(){A=!1})}function u(){t.helpers.isMobile()?(t._mousedown="touchstart",t._mouseup="touchend",t._move="touchmove",t._mousemove="touchmove"):(t._mousedown="mousedown",t._mouseup="mouseup",t._move="",t._mousemove="mousemove")}function d(n){var i=e(n.currentTarget);return t.edit.isDisabled()||i.hasClass("fr-disabled")?(n.preventDefault(),!1):"mousedown"===n.type&&1!==n.which||(t.helpers.isMobile()||n.preventDefault(),(t.helpers.isAndroid()||t.helpers.isWindowsPhone())&&0===i.parents(".fr-dropdown-menu").length&&(n.preventDefault(),n.stopPropagation()),i.addClass("fr-selected"),void t.events.trigger("commands.mousedown",[i]))}function h(n,i){var o=e(n.currentTarget);if(t.edit.isDisabled()||o.hasClass("fr-disabled"))return n.preventDefault(),!1;if("mouseup"===n.type&&1!==n.which)return!0;if(!o.hasClass("fr-selected"))return!0;if("touchmove"!=n.type){if(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!o.hasClass("fr-selected"))return e(".fr-selected").removeClass("fr-selected"),!1;if(e(".fr-selected").removeClass("fr-selected"),o.data("dragging")||o.attr("disabled"))return o.removeData("dragging"),!1;var r=o.data("timeout");r&&(clearTimeout(r),o.removeData("timeout")),i.apply(t,[n])}else o.data("timeout")||o.data("timeout",setTimeout(function(){o.data("dragging",!0)},100))}function f(){k=!0}function p(){k=!1}function m(){return k}function g(e,n,i){b(e,t._mousedown,n,function(e){t.edit.isDisabled()||d(e)},!0),b(e,t._mouseup+" "+t._move,n,function(e){t.edit.isDisabled()||h(e,i)},!0),b(e,"mousedown click mouseup",n,function(e){t.edit.isDisabled()||e.stopPropagation()},!0),v("window.mouseup",function(){t.edit.isDisabled()||(e.find(n).removeClass("fr-selected"),f())})}function v(e,n,i){var o=e.split(" ");if(o.length>1){for(var r=0;r<o.length;r++)v(o[r],n,i);return!0}"undefined"==typeof i&&(i=!1);var s;s=0!=e.indexOf("shared.")?D[e]=D[e]||[]:t.shared._events[e]=t.shared._events[e]||[],i?s.unshift(n):s.push(n)}function b(e,n,i,o,r){"function"==typeof i&&(r=o,o=i,i=!1);var s=r?t.shared.$_events:N,a=r?t.sid:t.id;i?e.on(n.split(" ").join(".ed"+a+" ")+".ed"+a,i,o):e.on(n.split(" ").join(".ed"+a+" ")+".ed"+a,o),s.indexOf(e.get(0))<0&&s.push(e.get(0))}function y(t,n){for(var i=0;i<t.length;i++)e(t[i]).off(".ed"+n)}function w(){y(N,t.id),N=[],0==t.shared.count&&(y(t.shared.$_events,t.sid),t.shared.$_events=null)}function x(n,i,o){if(!t.edit.isDisabled()||o){var r;if(0!=n.indexOf("shared."))r=D[n];else{if(t.shared.count>0)return!1;r=t.shared._events[n]}var s;if(r)for(var a=0;a<r.length;a++)if(s=r[a].apply(t,i),s===!1)return!1;return s=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],i||[])),s!==!1&&s}}function C(n,i,o){if(!t.edit.isDisabled()||o){var r;if(0!=n.indexOf("shared."))r=D[n];else{if(t.shared.count>0)return!1;r=t.shared._events[n]}var s;if(r)for(var a=0;a<r.length;a++)s=r[a].apply(t,[i]),"undefined"!=typeof s&&(i=s);return s=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],[i])),"undefined"!=typeof s&&(i=s),i}}function S(){for(var e in D)D.hasOwnProperty(e)&&delete D[e]}function E(){for(var e in t.shared._events)t.shared._events.hasOwnProperty(e)&&delete t.shared._events[e]}function T(){t.shared.$_events=t.shared.$_events||[],t.shared._events={},u(),o(),s(),a(),r(),c(),f(),i(),v("destroy",S),v("shared.destroy",E)}var k,D={},A=!1,N=[];return{_init:T,on:v,trigger:x,bindClick:g,disableBlur:p,enableBlur:f,blurActive:m,focus:l,chainTrigger:C,$on:b,$off:w}},e.FE.INVISIBLE_SPACE="&#8203;",e.FE.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.MARKERS=e.FE.START_MARKER+e.FE.END_MARKER,e.FE.MODULES.markers=function(t){function n(n,i){return e('<span class="fr-marker" data-id="'+i+'" data-type="'+n+'" style="display: '+(t.browser.safari?"none":"inline-block")+'; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0];
}function i(i,o,r){try{var s=i.cloneRange();if(s.collapse(o),s.insertNode(n(o,r)),o===!0&&i.collapsed)for(var a=t.$el.find('span.fr-marker[data-type="true"][data-id="'+r+'"]'),l=a.get(0).nextSibling;l&&l.nodeType===Node.TEXT_NODE&&0===l.textContent.length;)e(l).remove(),l=a.nextSibling;if(o===!0&&!i.collapsed){var a=t.$el.find('span.fr-marker[data-type="true"][data-id="'+r+'"]').get(0),l=a.nextSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(l)){var c=[l];do l=c[0],c=t.node.contents(l);while(c[0]&&t.node.isBlock(c[0]));e(l).prepend(e(a))}}if(o===!1&&!i.collapsed){var a=t.$el.find('span.fr-marker[data-type="false"][data-id="'+r+'"]').get(0),l=a.previousSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(l)){var c=[l];do l=c[c.length-1],c=t.node.contents(l);while(c[c.length-1]&&t.node.isBlock(c[c.length-1]));e(l).append(e(a))}a.parentNode&&["TD","TH"].indexOf(a.parentNode.tagName)>=0&&a.parentNode.previousSibling&&!a.previousSibling&&e(a.parentNode.previousSibling).append(a)}var u=t.$el.find('span.fr-marker[data-type="'+o+'"][data-id="'+r+'"]').get(0);return u&&(u.style.display="none"),u}catch(d){return null}}function o(){if(!t.$wp)return null;try{var n=t.selection.ranges(0),i=n.commonAncestorContainer;if(i!=t.$el.get(0)&&0==t.$el.find(i).length)return null;var o=n.cloneRange(),r=n.cloneRange();o.collapse(!0);var s=e('<span class="fr-marker" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0];if(o.insertNode(s),s=t.$el.find("span.fr-marker").get(0)){for(var a=s.nextSibling;a&&a.nodeType===Node.TEXT_NODE&&0===a.textContent.length;)e(a).remove(),a=t.$el.find("span.fr-marker").get(0).nextSibling;return t.selection.clear(),t.selection.get().addRange(r),s}return null}catch(l){}}function r(){t.selection.isCollapsed()||t.selection.remove();var n=t.$el.find(".fr-marker").get(0);if(null==n&&(n=o()),null==n)return null;var i;if(i=t.node.deepestParent(n))if(t.node.isBlock(i)&&t.node.isEmpty(i))e(i).replaceWith('<span class="fr-marker"></span>');else{var r=n,s="",a="";do r=r.parentNode,s+=t.node.closeTagString(r),a=t.node.openTagString(r)+a;while(r!=i);e(n).replaceWith('<span id="fr-break"></span>');var l=t.node.openTagString(i)+e(i).html()+t.node.closeTagString(i);l=l.replace(/<span id="fr-break"><\/span>/g,s+'<span class="fr-marker"></span>'+a),e(i).replaceWith(l)}return t.$el.find(".fr-marker").get(0)}function s(e){var n=e.clientX,i=e.clientY;a();var r,s=null;if("undefined"!=typeof t.doc.caretPositionFromPoint?(r=t.doc.caretPositionFromPoint(n,i),s=t.doc.createRange(),s.setStart(r.offsetNode,r.offset),s.setEnd(r.offsetNode,r.offset)):"undefined"!=typeof t.doc.caretRangeFromPoint&&(r=t.doc.caretRangeFromPoint(n,i),s=t.doc.createRange(),s.setStart(r.startContainer,r.startOffset),s.setEnd(r.startContainer,r.startOffset)),null!==s&&"undefined"!=typeof t.win.getSelection){var l=t.win.getSelection();l.removeAllRanges(),l.addRange(s)}else if("undefined"!=typeof t.doc.body.createTextRange)try{s=t.doc.body.createTextRange(),s.moveToPoint(n,i);var c=s.duplicate();c.moveToPoint(n,i),s.setEndPoint("EndToEnd",c),s.select()}catch(u){return!1}o()}function a(){t.$el.find(".fr-marker").remove()}return{place:i,insert:o,split:r,insertAtPoint:s,remove:a}},e.FE.MODULES.selection=function(t){function n(){var e="";return t.win.getSelection?e=t.win.getSelection():t.doc.getSelection?e=t.doc.getSelection():t.doc.selection&&(e=t.doc.selection.createRange().text),e.toString()}function i(){var e="";return e=t.win.getSelection?t.win.getSelection():t.doc.getSelection?t.doc.getSelection():t.doc.selection.createRange()}function o(e){var n=i(),o=[];if(n&&n.getRangeAt&&n.rangeCount)for(var o=[],r=0;r<n.rangeCount;r++)o.push(n.getRangeAt(r));else o=t.doc.createRange?[t.doc.createRange()]:[];return"undefined"!=typeof e?o[e]:o}function r(){var e=i();try{e.removeAllRanges?e.removeAllRanges():e.empty?e.empty():e.clear&&e.clear()}catch(t){}}function s(){var r=i();try{if(r.rangeCount){var s=o(0),a=s.startContainer;if(a.nodeType==Node.ELEMENT_NODE){var l=!1;if(a.childNodes.length>0&&a.childNodes[s.startOffset]){for(var c=a.childNodes[s.startOffset];c&&c.nodeType==Node.TEXT_NODE&&0==c.textContent.length;)c=c.nextSibling;c&&c.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(a=c,l=!0)}else if(!s.collapsed&&a.nextSibling&&a.nextSibling.nodeType==Node.ELEMENT_NODE){var c=a.nextSibling;c&&c.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(a=c,l=!0)}!l&&a.childNodes.length>0&&e(a.childNodes[0]).text().replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(a.childNodes[0].tagName)<0&&(a=a.childNodes[0])}for(;a.nodeType!=Node.ELEMENT_NODE&&a.parentNode;)a=a.parentNode;for(var u=a;u&&"HTML"!=u.tagName;){if(u==t.$el.get(0))return a;u=e(u).parent()[0]}}}catch(d){}return t.$el.get(0)}function a(){var r=i();try{if(r.rangeCount){var s=o(0),a=s.endContainer;if(a.nodeType==Node.ELEMENT_NODE){var l=!1;if(a.childNodes.length>0&&a.childNodes[s.endOffset]&&e(a.childNodes[s.endOffset]).text()===n())a=a.childNodes[s.endOffset],l=!0;else if(!s.collapsed&&a.previousSibling&&a.previousSibling.nodeType==Node.ELEMENT_NODE){var c=a.previousSibling;c&&c.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(a=c,l=!0)}else if(!s.collapsed&&a.childNodes.length>0&&a.childNodes[s.endOffset]){var c=a.childNodes[s.endOffset].previousSibling;c.nodeType==Node.ELEMENT_NODE&&c&&c.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(a=c,l=!0)}!l&&a.childNodes.length>0&&e(a.childNodes[a.childNodes.length-1]).text()===n()&&["BR","IMG","HR"].indexOf(a.childNodes[a.childNodes.length-1].tagName)<0&&(a=a.childNodes[a.childNodes.length-1])}for(a.nodeType==Node.TEXT_NODE&&0==s.endOffset&&a.previousSibling&&a.previousSibling.nodeType==Node.ELEMENT_NODE&&(a=a.previousSibling);a.nodeType!=Node.ELEMENT_NODE&&a.parentNode;)a=a.parentNode;for(var u=a;u&&"HTML"!=u.tagName;){if(u==t.$el.get(0))return a;u=e(u).parent()[0]}}}catch(d){}return t.$el.get(0)}function l(e,t){var n=e;return n.nodeType==Node.ELEMENT_NODE&&n.childNodes.length>0&&n.childNodes[t]&&(n=n.childNodes[t]),n.nodeType==Node.TEXT_NODE&&(n=n.parentNode),n}function c(){var n=[],r=i();if(y()&&r.rangeCount)for(var s=o(),a=0;a<s.length;a++){var c=s[a],u=l(c.startContainer,c.startOffset),d=l(c.endContainer,c.endOffset);t.node.isBlock(u)&&n.indexOf(u)<0&&n.push(u);var h=t.node.blockParent(u);h&&n.indexOf(h)<0&&n.push(h);for(var f=[],p=u;p!==d&&p!==t.$el.get(0);)f.indexOf(p)<0&&p.children&&p.children.length?(f.push(p),p=p.children[0]):p.nextSibling?p=p.nextSibling:p.parentNode&&(p=p.parentNode,f.push(p)),t.node.isBlock(p)&&f.indexOf(p)<0&&n.indexOf(p)<0&&(p!==d||c.endOffset>0)&&n.push(p);t.node.isBlock(d)&&n.indexOf(d)<0&&c.endOffset>0&&n.push(d);var h=t.node.blockParent(d);h&&n.indexOf(h)<0&&n.push(h)}for(var a=n.length-1;a>0;a--)e(n[a]).find(n).length&&"LI"!=n[a].tagName&&n.splice(a,1);return n}function u(){if(t.$wp){t.markers.remove();for(var e=o(),n=[],i=0;i<e.length;i++)if(e[i].startContainer!==t.doc){var r=e[i],s=r.collapsed,a=t.markers.place(r,!0,i),l=t.markers.place(r,!1,i);if(t.browser.safari&&!s){var r=t.doc.createRange();r.setStartAfter(a),r.setEndBefore(l),n.push(r)}}if(t.browser.safari&&n.length){t.selection.clear();for(var i=0;i<n.length;i++)t.selection.get().addRange(n[i])}}}function d(){var n=t.$el.get(0).querySelectorAll('.fr-marker[data-type="true"]');if(!t.$wp)return t.markers.remove(),!1;if(0===n.length)return!1;if(t.browser.msie||t.browser.edge)for(var o=0;o<n.length;o++)n[o].style.display="inline-block";t.core.hasFocus()||t.browser.msie||t.browser.webkit||t.$el.focus(),r();for(var s=i(),o=0;o<n.length;o++){var a=e(n[o]).data("id"),l=n[o],c=t.doc.createRange(),u=t.$el.find('.fr-marker[data-type="false"][data-id="'+a+'"]');(t.browser.msie||t.browser.edge)&&u.css("display","inline-block");var d=null;if(u.length>0){u=u[0];try{for(var f=!1,p=l.nextSibling;p&&p.nodeType==Node.TEXT_NODE&&0==p.textContent.length;){var m=p;p=p.nextSibling,e(m).remove()}for(var g=u.nextSibling;g&&g.nodeType==Node.TEXT_NODE&&0==g.textContent.length;){var m=g;g=g.nextSibling,e(m).remove()}if(l.nextSibling==u||u.nextSibling==l){for(var v=l.nextSibling==u?l:u,b=v==l?u:l,y=v.previousSibling;y&&y.nodeType==Node.TEXT_NODE&&0==y.length;){var m=y;y=y.previousSibling,e(m).remove()}if(y&&y.nodeType==Node.TEXT_NODE)for(;y&&y.previousSibling&&y.previousSibling.nodeType==Node.TEXT_NODE;)y.previousSibling.textContent=y.previousSibling.textContent+y.textContent,y=y.previousSibling,e(y.nextSibling).remove();for(var w=b.nextSibling;w&&w.nodeType==Node.TEXT_NODE&&0==w.length;){var m=w;w=w.nextSibling,e(m).remove()}if(w&&w.nodeType==Node.TEXT_NODE)for(;w&&w.nextSibling&&w.nextSibling.nodeType==Node.TEXT_NODE;)w.nextSibling.textContent=w.textContent+w.nextSibling.textContent,w=w.nextSibling,e(w.previousSibling).remove();if(y&&(t.node.isVoid(y)||t.node.isBlock(y))&&(y=null),w&&(t.node.isVoid(w)||t.node.isBlock(w))&&(w=null),y&&w&&y.nodeType==Node.TEXT_NODE&&w.nodeType==Node.TEXT_NODE){e(l).remove(),e(u).remove();var x=y.textContent.length;y.textContent=y.textContent+w.textContent,e(w).remove(),t.spaces.normalize(y),c.setStart(y,x),c.setEnd(y,x),f=!0}else!y&&w&&w.nodeType==Node.TEXT_NODE?(e(l).remove(),e(u).remove(),t.spaces.normalize(w),d=e(t.doc.createTextNode("â")),e(w).before(d),c.setStart(w,0),c.setEnd(w,0),f=!0):!w&&y&&y.nodeType==Node.TEXT_NODE&&(e(l).remove(),e(u).remove(),t.spaces.normalize(y),d=e(t.doc.createTextNode("â")),e(y).after(d),c.setStart(y,y.textContent.length),c.setEnd(y,y.textContent.length),f=!0)}if(!f){var C,S;if(t.browser.chrome&&l.nextSibling==u)C=h(u,c,!0)||c.setStartAfter(u),S=h(l,c,!1)||c.setEndBefore(l);else{l.previousSibling==u&&(l=u,u=l.nextSibling),u.nextSibling&&"BR"===u.nextSibling.tagName||!u.nextSibling&&t.node.isBlock(l.previousSibling)||l.previousSibling&&"BR"==l.previousSibling.tagName||(l.style.display="inline",u.style.display="inline",d=e(t.doc.createTextNode("â")));var E=l.previousSibling;E&&E.style&&"block"==t.win.getComputedStyle(E).display&&!t.opts.enter==e.FE.ENTER_BR?(c.setEndAfter(E),c.setStartAfter(E)):(C=h(l,c,!0)||e(l).before(d)&&c.setStartBefore(l),S=h(u,c,!1)||e(u).after(d)&&c.setEndAfter(u))}"function"==typeof C&&C(),"function"==typeof S&&S()}}catch(T){}}d&&d.remove();try{s.addRange(c)}catch(T){}}t.markers.remove()}function h(n,i,o){var r=n.previousSibling,s=n.nextSibling;if(r&&s&&r.nodeType==Node.TEXT_NODE&&s.nodeType==Node.TEXT_NODE){var a=r.textContent.length;return o?(s.textContent=r.textContent+s.textContent,e(r).remove(),e(n).remove(),t.spaces.normalize(s),function(){i.setStart(s,a)}):(r.textContent=r.textContent+s.textContent,e(s).remove(),e(n).remove(),t.spaces.normalize(r),function(){i.setEnd(r,a)})}if(r&&!s&&r.nodeType==Node.TEXT_NODE){var a=r.textContent.length;return o?(t.spaces.normalize(r),function(){i.setStart(r,a)}):(t.spaces.normalize(r),function(){i.setEnd(r,a)})}return!(!s||r||s.nodeType!=Node.TEXT_NODE)&&(o?(t.spaces.normalize(s),function(){i.setStart(s,0)}):(t.spaces.normalize(s),function(){i.setEnd(s,0)}))}function f(){return!0}function p(){for(var e=o(),t=0;t<e.length;t++)if(!e[t].collapsed)return!1;return!0}function m(e){var n,i,o=!1,r=!1;if(t.win.getSelection){var s=t.win.getSelection();s.rangeCount&&(n=s.getRangeAt(0),i=n.cloneRange(),i.selectNodeContents(e),i.setEnd(n.startContainer,n.startOffset),o=""===i.toString(),i.selectNodeContents(e),i.setStart(n.endContainer,n.endOffset),r=""===i.toString())}else t.doc.selection&&"Control"!=t.doc.selection.type&&(n=t.doc.selection.createRange(),i=n.duplicate(),i.moveToElementText(e),i.setEndPoint("EndToStart",n),o=""===i.text,i.moveToElementText(e),i.setEndPoint("StartToEnd",n),r=""===i.text);return{atStart:o,atEnd:r}}function g(){if(p())return!1;t.$el.find("td").prepend('<span class="fr-mk">'+e.FE.INVISIBLE_SPACE+"</span>"),t.$el.find("img").append('<span class="fr-mk">'+e.FE.INVISIBLE_SPACE+"</span>");var n=!1,i=m(t.$el.get(0));return i.atStart&&i.atEnd&&(n=!0),t.$el.find(".fr-mk").remove(),n}function v(n,i){"undefined"==typeof i&&(i=!0);var o=e(n).html();o&&o.replace(/\u200b/g,"").length!=o.length&&e(n).html(o.replace(/\u200b/g,""));for(var r=t.node.contents(n),s=0;s<r.length;s++)r[s].nodeType!=Node.ELEMENT_NODE?e(r[s]).remove():(v(r[s],0==s),0==s&&(i=!1));n.nodeType==Node.TEXT_NODE?e(n).replaceWith('<span data-first="true" data-text="true"></span>'):i&&e(n).attr("data-first",!0)}function b(n,i){var o=t.node.contents(n.get(0));["TD","TH"].indexOf(n.get(0).tagName)>=0&&1==n.find(".fr-marker").length&&e(o[0]).hasClass("fr-marker")&&n.attr("data-del-cell",!0);for(var r=0;r<o.length;r++){var s=o[r];e(s).hasClass("fr-marker")?i=(i+1)%2:i?e(s).find(".fr-marker").length>0?i=b(e(s),i):["TD","TH"].indexOf(s.tagName)<0&&!e(s).hasClass("fr-inner")?!t.opts.keepFormatOnDelete||t.$el.find("[data-first]").length>0?e(s).remove():v(s):e(s).hasClass("fr-inner")?0==e(s).find(".fr-inner").length?e(s).html("<br>"):e(s).find(".fr-inner").filter(function(){return 0==e(this).find("fr-inner").length}).html("<br>"):(e(s).empty(),e(s).attr("data-del-cell",!0)):e(s).find(".fr-marker").length>0&&(i=b(e(s),i))}return i}function y(){try{if(!t.$wp)return!1;for(var e=o(0),n=e.commonAncestorContainer;n&&!t.node.isElement(n);)n=n.parentNode;return!!t.node.isElement(n)}catch(i){return!1}}function w(){if(p())return!0;u();for(var n=function(t){for(var n=t.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;){var i=n,n=n.previousSibling;e(i).remove()}return n},i=function(t){for(var n=t.nextSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;){var i=n,n=n.nextSibling;e(i).remove()}return n},o=t.$el.find('.fr-marker[data-type="true"]'),r=0;r<o.length;r++)for(var s=o[r];!n(s)&&!t.node.isBlock(s.parentNode)&&!t.$el.is(s.parentNode);)e(s.parentNode).before(s);for(var a=t.$el.find('.fr-marker[data-type="false"]'),r=0;r<a.length;r++){for(var l=a[r];!i(l)&&!t.node.isBlock(l.parentNode)&&!t.$el.is(l.parentNode);)e(l.parentNode).after(l);l.parentNode&&t.node.isBlock(l.parentNode)&&t.node.isEmpty(l.parentNode)&&!t.$el.is(l.parentNode)&&e(l.parentNode).after(l)}if(f()){b(t.$el,0);var c=t.$el.find('[data-first="true"]');if(c.length)t.$el.find(".fr-marker").remove(),c.append(e.FE.INVISIBLE_SPACE+e.FE.MARKERS).removeAttr("data-first"),c.attr("data-text")&&c.replaceWith(c.html());else{t.$el.find("table").filter(function(){var t=e(this).find("[data-del-cell]").length>0&&e(this).find("[data-del-cell]").length==e(this).find("td, th").length;return t}).remove(),t.$el.find("[data-del-cell]").removeAttr("data-del-cell");for(var o=t.$el.find('.fr-marker[data-type="true"]'),r=0;r<o.length;r++){var h=o[r],m=h.nextSibling,g=t.$el.find('.fr-marker[data-type="false"][data-id="'+e(h).data("id")+'"]').get(0);if(g){if(m&&m==g);else if(h){var v=t.node.blockParent(h),y=t.node.blockParent(g),w=!1,x=!1;if(v&&["UL","OL"].indexOf(v.tagName)>=0&&(v=null,w=!0),y&&["UL","OL"].indexOf(y.tagName)>=0&&(y=null,x=!0),e(h).after(g),v==y);else if(null!=v||w)if(null!=y||x||0!=e(v).parentsUntil(t.$el,"table").length)v&&y&&0==e(v).parentsUntil(t.$el,"table").length&&0==e(y).parentsUntil(t.$el,"table").length&&(e(v).append(e(y).html()),e(y).remove());else{for(var m=v;!m.nextSibling&&m.parentNode!=t.$el.get(0);)m=m.parentNode;for(m=m.nextSibling;m&&"BR"!=m.tagName;){var C=m.nextSibling;e(v).append(m),m=C}m&&"BR"==m.tagName&&e(m).remove()}else{var S=t.node.deepestParent(h);S?(e(S).after(e(y).html()),e(y).remove()):0==e(y).parentsUntil(t.$el,"table").length&&(e(h).next().after(e(y).html()),e(y).remove())}}}else g=e(h).clone().attr("data-type",!1),e(h).after(g)}}}t.opts.keepFormatOnDelete||t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(!0),t.clean.lists(),t.spaces.normalize(),d()}function x(n){if(e(n).find(".fr-marker").length>0)return!1;for(var i=t.node.contents(n);i.length&&t.node.isBlock(i[0]);)n=i[0],i=t.node.contents(n);e(n).prepend(e.FE.MARKERS)}function C(n){if(e(n).find(".fr-marker").length>0)return!1;for(var i=t.node.contents(n);i.length&&t.node.isBlock(i[i.length-1]);)n=i[i.length-1],i=t.node.contents(n);e(n).append(e.FE.MARKERS)}function S(n){for(var i=n.previousSibling;i&&i.nodeType==Node.TEXT_NODE&&0==i.textContent.length;)i=i.previousSibling;return!!i&&(t.node.isBlock(i)?C(i):"BR"==i.tagName?e(i).before(e.FE.MARKERS):e(i).after(e.FE.MARKERS),!0)}function E(n){for(var i=n.nextSibling;i&&i.nodeType==Node.TEXT_NODE&&0==i.textContent.length;)i=i.nextSibling;return!!i&&(t.node.isBlock(i)?x(i):e(i).before(e.FE.MARKERS),!0)}return{text:n,get:i,ranges:o,clear:r,element:s,endElement:a,save:u,restore:d,isCollapsed:p,isFull:g,inEditor:y,remove:w,blocks:c,info:m,setAtEnd:C,setAtStart:x,setBefore:S,setAfter:E,rangeElement:l}},e.FE.MODULES.spaces=function(t){function n(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function i(e,t){return e&&e.parentNode===t||"PRE"===t.nodeName?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}function o(e){if(e.firstChild&&"PRE"!==e.nodeName&&!(["STYLE","SCRIPT"].indexOf(e.tagName)>=0)){for(var o=null,r=null,s=i(r,e);s!==e&&"PRE"!==s.nodeName&&["STYLE","SCRIPT"].indexOf(s.tagName)<0;){if(s.nodeType===Node.TEXT_NODE){var a=s.data.replace(/[ \r\n\t]+/g," ");if(o&&!/ $/.test(o.data)||" "!==a[0]||(a=a.substr(1)),!a||0==a.length){s=n(s);continue}s.data=a,o=s}else s.nodeType===Node.ELEMENT_NODE&&(t.node.isBlock(s)||t.node.isVoid(s)?(o&&o.data&&(o.data=o.data.replace(/ $/,"")),o=null):0==s.textContent.length&&(o=s));var l=i(r,s);r=s,s=l}o&&o.data&&(o.data=o.data.replace(/ $/,""),o.data||n(o))}}function r(n,i){if("undefined"!=typeof n&&n||(n=t.$el.get(0)),"undefined"==typeof i&&(i=!1),i&&o(n),!n.getAttribute||"false"!=n.getAttribute("contenteditable"))if(n.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT","HEAD"].indexOf(n.tagName)<0)for(var s=t.node.contents(n),a=s.length-1;a>=0;a--)(s[a].tagName!=Node.ELEMENT_NODE||(s[a].className||"").indexOf("fr-marker")<0)&&r(s[a]);else if(n.nodeType==Node.TEXT_NODE&&n.textContent.length>0){var l=(n.previousSibling,n.nextSibling,n.textContent);l=l.replace(new RegExp(e.FE.UNICODE_NBSP,"g")," ");for(var c="",u=0;u<l.length;u++)c+=32!=l.charCodeAt(u)||0!==u&&32!=c.charCodeAt(u-1)?l[u]:e.FE.UNICODE_NBSP;(!n.nextSibling||t.node.isBlock(n.nextSibling)||n.nextSibling.nodeType==Node.ELEMENT_NODE&&t.win.getComputedStyle(n.nextSibling)&&"block"==t.win.getComputedStyle(n.nextSibling).display)&&(c=c.replace(/ $/,e.FE.UNICODE_NBSP)),!n.previousSibling||t.node.isVoid(n.previousSibling)||t.node.isBlock(n.previousSibling)||(c=c.replace(/^\u00A0([^ $])/," $1")),c=c.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2"),n.textContent!=c&&(n.textContent=c)}}return{normalize:r}},e.FE.UNICODE_NBSP=String.fromCharCode(160),e.FE.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],e.FE.BLOCK_TAGS=["address","article","aside","audio","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video"],e.extend(e.FE.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa",".fr-emoticon"],htmlDoNotWrapTags:["script","style"],htmlSimpleAmpersand:!1}),e.FE.MODULES.html=function(t){function n(){return t.opts.enter==e.FE.ENTER_P?"p":t.opts.enter==e.FE.ENTER_DIV?"div":t.opts.enter==e.FE.ENTER_BR?null:void 0}function i(){for(var n=[],i=t.$el.get(0).querySelectorAll(r()),o=0;o<i.length;o++)if(!(i[o].querySelectorAll(e.FE.VOID_ELEMENTS.join(",")).length>0||i[o].querySelectorAll(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length>0||i[o].querySelectorAll(r()).length>0)){for(var s=t.node.contents(i[o]),a=!1,l=0;l<s.length;l++)if(s[l].nodeType!=Node.COMMENT_NODE&&s[l].textContent&&s[l].textContent.replace(/\u200B/g,"").replace(/\n/g,"").length>0){a=!0;break}a||n.push(i[o])}return n}function o(){return e.FE.BLOCK_TAGS.join(":empty, ")+":empty"}function r(){return e.FE.BLOCK_TAGS.join(", ")}function s(n){var i=e.merge([],e.FE.VOID_ELEMENTS);i=e.merge(i,t.opts.htmlAllowedEmptyTags),"undefined"==typeof n&&(i=e.merge(i,e.FE.BLOCK_TAGS));var o,r;do{r=!1,o=t.$el.get(0).querySelectorAll("*:empty:not("+i.join("):not(")+"):not(.fr-marker)");for(var s=0;s<o.length;s++)(0===o[s].attributes.length||"undefined"!=typeof o[s].getAttribute("href"))&&(e(o[s]).remove(),r=!0);o=t.$el.get(0).querySelectorAll("*:empty:not("+i.join("):not(")+"):not(.fr-marker)")}while(o.length&&r)}function a(i,o){var r=n();if(o&&(r='div class="fr-temp-div"'),r)for(var s=t.node.contents(i.get(0)),a=null,l=0;l<s.length;l++){var c=s[l];if(c.nodeType==Node.ELEMENT_NODE&&(t.node.isBlock(c)||e(c).is(t.opts.htmlDoNotWrapTags.join(","))&&!e(c).hasClass("fr-marker")))a=null;else if(c.nodeType!=Node.ELEMENT_NODE&&c.nodeType!=Node.TEXT_NODE)a=null;else if(c.nodeType==Node.ELEMENT_NODE&&"BR"==c.tagName)if(null==a)o?e(c).replaceWith("<"+r+' data-empty="true"><br></div>'):e(c).replaceWith("<"+r+"><br></"+r+">");else{e(c).remove();for(var u=t.node.contents(a),d=!1,h=0;h<u.length;h++)if(!e(u[h]).hasClass("fr-marker")&&(u[h].nodeType!=Node.TEXT_NODE||0!==u[h].textContent.replace(/ /g,"").length)){d=!0;break}d===!1&&(a.append("<br>"),a.data("empty",!0)),a=null}else c.nodeType==Node.TEXT_NODE&&0==e(c).text().trim().length?e(c).remove():(null==a&&(a=e("<"+r+">"),e(c).before(a)),c.nodeType==Node.TEXT_NODE&&e(c).text().trim().length>0?(a.append(e(c).clone()),e(c).remove()):a.append(e(c)))}}function l(n,i,o,r){return!!t.$wp&&("undefined"==typeof n&&(n=!1),"undefined"==typeof i&&(i=!1),"undefined"==typeof o&&(o=!1),"undefined"==typeof r&&(r=!1),a(t.$el,n),r&&t.$el.find(".fr-inner").each(function(){a(e(this),n)}),i&&t.$el.find("td, th").each(function(){a(e(this),n)}),void(o&&t.$el.find("blockquote").each(function(){a(e(this),n)})))}function c(){t.$el.find("div.fr-temp-div").each(function(){e(this).data("empty")||"LI"==this.parentNode.tagName?e(this).replaceWith(e(this).html()):e(this).replaceWith(e(this).html()+"<br>")}),t.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter(function(){return""==e(this).attr("class")}).removeAttr("class")}function u(){for(var n=i(),o=0;o<n.length;o++){var r=n[o];"false"==r.getAttribute("contenteditable")||0!=r.querySelectorAll(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length||t.node.isVoid(r)||"TABLE"!=r.tagName&&r.appendChild(t.doc.createElement("br"))}if(t.browser.msie&&t.opts.enter==e.FE.ENTER_BR){var s=t.node.contents(t.$el.get(0));s.length&&s[s.length-1].nodeType==Node.TEXT_NODE&&t.$el.append("<br>")}}function d(){return t.$el.find(r())}function h(e){if("undefined"==typeof e&&(e=t.$el.get(0)),e&&["SCRIPT","STYLE","PRE"].indexOf(e.tagName)>=0)return!1;for(var n=t.node.contents(e),i=n.length-1;i>=0;i--)n[i].nodeType==Node.TEXT_NODE?(n[i].textContent=n[i].textContent.replace(/(?!^)( ){2,}(?!$)/g," "),n[i].textContent=n[i].textContent.replace(/\n/g," "),n[i].textContent=n[i].textContent.replace(/^[ ]{2,}/g," "),n[i].textContent=n[i].textContent.replace(/[ ]{2,}$/g," "),(t.node.isBlock(e)||t.node.isElement(e))&&(n[i].previousSibling||(n[i].textContent=n[i].textContent.replace(/^ */,"")),n[i].nextSibling||(n[i].textContent=n[i].textContent.replace(/ *$/,"")),n[i].previousSibling&&n[i].nextSibling&&" "==n[i].textContent&&(n[i].previousSibling&&n[i].nextSibling&&t.node.isBlock(n[i].previousSibling)&&t.node.isBlock(n[i].nextSibling)?n[i].textContent="":n[i].textContent="\n"))):h(n[i])}function f(e){return e&&(t.node.isBlock(e)||["STYLE","SCRIPT","HEAD","BR","HR"].indexOf(e.tagName)>=0||e.nodeType==Node.COMMENT_NODE)}function p(n){if("undefined"==typeof n&&(n=t.$el.get(0)),n.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT","HEAD"].indexOf(n.tagName)<0){for(var i=t.node.contents(n),o=i.length-1;o>=0;o--)if(!e(i[o]).hasClass("fr-marker")){var r=p(i[o]);if(1==r)return!0}}else if(n.nodeType==Node.TEXT_NODE&&n.textContent.length>0){var s=n.previousSibling,a=n.nextSibling;if(f(s)&&f(a)&&0===n.textContent.trim().length)return!0;var l=n.textContent;l=l.replace(new RegExp(e.FE.UNICODE_NBSP,"g")," ");for(var c="",u=0;u<l.length;u++)c+=32!=l.charCodeAt(u)||0!==u&&32!=c.charCodeAt(u-1)?l[u]:e.FE.UNICODE_NBSP;if(n.nextSibling||(c=c.replace(/ $/,e.FE.UNICODE_NBSP)),n.previousSibling&&!t.node.isVoid(n.previousSibling)&&(c=c.replace(/^\u00A0([^ $])/," $1")),c=c.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2"),n.textContent!=c)return!0}return!1}function m(e,t,n){var i=new RegExp(t,"gi"),o=i.exec(e);return o?o[n]:null}function g(e,t){var n=e.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i);return n?t.implementation.createDocumentType(n[1],n[3],n[4]):t.implementation.createDocumentType("html")}function v(e){var t=e.doctype,n="<!DOCTYPE html>";return t&&(n="<!DOCTYPE "+t.name+(t.publicId?' PUBLIC "'+t.publicId+'"':"")+(!t.publicId&&t.systemId?" SYSTEM":"")+(t.systemId?' "'+t.systemId+'"':"")+">"),n}function b(){l(),h(),s(),t.spaces.normalize(null,!0),t.html.fillEmptyBlocks(),t.clean.quotes(),t.clean.lists(),t.clean.tables(),t.clean.toHTML5(),t.selection.restore(),y(),t.placeholder.refresh()}function y(){t.core.isEmpty()&&(null!=n()?0===t.$el.get(0).querySelectorAll(r()).length&&0===t.$el.get(0).querySelectorAll(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)").length&&(t.core.hasFocus()?(t.$el.html("<"+n()+">"+e.FE.MARKERS+"<br/></"+n()+">"),t.selection.restore()):t.$el.html("<"+n()+"><br/></"+n()+">")):0===t.$el.get(0).querySelectorAll("*:not(.fr-marker):not(br)").length&&(t.core.hasFocus()?(t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore()):t.$el.html("<br/>")))}function w(e,t){return m(e,"<"+t+"[^>]*?>([\\w\\W]*)</"+t+">",1)}function x(n,i){var o=e("<div "+(m(n,"<"+i+"([^>]*?)>",1)||"")+">");return t.node.rawAttributes(o.get(0))}function C(e){return m(e,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>"}function S(n){var i=t.clean.html(n||"",[],[],t.opts.fullPage);if(t.opts.fullPage){var o=w(i,"body")||(i.indexOf("<body")>=0?"":i),r=x(i,"body"),s=w(i,"head")||"<title></title>",a=x(i,"head"),l=e("<div>").append(s).find("base, link, meta, noscript, script, style, template, title").remove().end().html().trim();s=e("<div>").append(s).find("base, link, meta, noscript, script, style, template, title").map(function(){return this.outerHTML}).toArray().join("");var c=C(i),u=x(i,"html");t.$el.html(l+"\n"+o),t.node.clearAttributes(t.$el.get(0)),t.$el.attr(r),t.$head.html(s),t.node.clearAttributes(t.$head.get(0)),t.$head.attr(a),t.node.clearAttributes(t.$html.get(0)),t.$html.attr(u),t.iframe_document.doctype.parentNode.replaceChild(g(c,t.iframe_document),t.iframe_document.doctype)}else t.$el.html(i);var d=t.edit.isDisabled();t.edit.on(),t.core.injectStyle(t.opts.iframeStyle),b(),t.opts.useClasses||(t.$el.find("[fr-original-class]").each(function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")}),t.$el.find("[fr-original-style]").each(function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")})),d&&t.edit.off(),t.events.trigger("html.set")}function E(e,n){if(!t.$wp)return t.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var i="";t.events.trigger("html.beforeGet");var o,r=function(e){var t=/(#[^\s\+>~\.\[:]+)/g,n=/(\[[^\]]+\])/g,i=/(\.[^\s\+>~\.\[:]+)/g,o=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,r=/(:[\w-]+\([^\)]*\))/gi,s=/(:[^\s\+>~\.\[:]+)/g,a=/([^\s\+>~\.\[:]+)/g;!function(){var t=/:not\(([^\)]*)\)/g;t.test(e)&&(e=e.replace(t,"     $1 "))}();var l=100*(e.match(t)||[]).length+10*(e.match(n)||[]).length+10*(e.match(i)||[]).length+10*(e.match(r)||[]).length+10*(e.match(s)||[]).length+(e.match(o)||[]).length;return e=e.replace(/[\*\s\+>~]/g," "),e=e.replace(/[#\.]/g," "),l+=(e.match(a)||[]).length},s=[],a={};if(!t.opts.useClasses&&!n){for(o=0;o<t.doc.styleSheets.length;o++){var l,c=0;try{l=t.doc.styleSheets[o].cssRules,t.doc.styleSheets[o].ownerNode&&"STYLE"==t.doc.styleSheets[o].ownerNode.nodeType&&(c=1)}catch(u){}if(l)for(var d=0,h=l.length;h>d;d++){var f=t.opts.iframe?"body ":".fr-view ";if(l[d].selectorText&&0===l[d].selectorText.indexOf(f)&&l[d].style.cssText.length>0)for(var p=l[d].selectorText.replace(f,"").replace(/::/g,":"),m=t.$el.get(0).querySelectorAll(p),g=0;g<m.length;g++){!m[g].getAttribute("fr-original-style")&&m[g].getAttribute("style")?(m[g].setAttribute("fr-original-style",m[g].getAttribute("style")),s.push(m[g])):m[g].getAttribute("fr-original-style")||s.push(m[g]),a[m[g]]||(a[m[g]]={});for(var b=1e3*c+r(l[d].selectorText),y=l[d].style.cssText.split(";"),w=0;w<y.length;w++){var x=y[w].trim().split(":")[0];a[m[g]][x]||(a[m[g]][x]=0,(m[g].getAttribute("fr-original-style")||"").indexOf(x+":")>=0&&(a[m[g]][x]=1e4)),b>=a[m[g]][x]&&(a[m[g]][x]=b,y[w].trim().length&&(m[g].style[x.trim()]=y[w].trim().split(":")[1].trim()))}}}}for(o=0;o<s.length;o++)s[o].getAttribute("class")&&(s[o].setAttribute("fr-original-class",s[o].getAttribute("class")),s[o].removeAttribute("class"))}if(t.core.isEmpty()?t.opts.fullPage&&(i=v(t.iframe_document),i+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.find("head").get(0).outerHTML+"<body></body></html>"):("undefined"==typeof e&&(e=!1),t.opts.fullPage?(i=v(t.iframe_document),i+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.html()+"</html>"):i=t.$el.html()),!t.opts.useClasses&&!n)for(o=0;o<s.length;o++)s[o].getAttribute("fr-original-class")&&(s[o].setAttribute("class",s[o].getAttribute("fr-original-class")),s[o].removeAttribute("fr-original-class")),s[o].getAttribute("fr-original-style")?(s[o].setAttribute("style",s[o].getAttribute("fr-original-style")),s[o].removeAttribute("fr-original-style")):s[o].removeAttribute("style");t.opts.fullPage&&(i=i.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,""),i=i.replace(/<link(?:[\w\W]*?)data-fr-style="true"(?:[\w\W]*?)>/g,""),i=i.replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,""),i=i.replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>"),i=i.replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),i=i.replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),i=i.replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>'),i=i.replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),t.opts.htmlSimpleAmpersand&&(i=i.replace(/\&amp;/gi,"&")),t.events.trigger("html.afterGet"),e||(i=i.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),i=t.clean.invisibleSpaces(i);var C=t.events.chainTrigger("html.get",i);return"string"==typeof C&&(i=C),i=i.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(e){return e.replace(/<br>/g,"\n")})}function T(){var n=function(n,i){for(;i&&(i.nodeType==Node.TEXT_NODE||!t.node.isBlock(i))&&!t.node.isElement(i);)i&&i.nodeType!=Node.TEXT_NODE&&e(n).wrapInner(t.node.openTagString(i)+t.node.closeTagString(i)),i=i.parentNode;i&&n.innerHTML==i.innerHTML&&(n.innerHTML=i.outerHTML)},i=function(){var n,i=null;return t.win.getSelection?(n=t.win.getSelection(),n&&n.rangeCount&&(i=n.getRangeAt(0).commonAncestorContainer,i.nodeType!=Node.ELEMENT_NODE&&(i=i.parentNode))):(n=t.doc.selection)&&"Control"!=n.type&&(i=n.createRange().parentElement()),null!=i&&(e.inArray(t.$el.get(0),e(i).parents())>=0||i==t.$el.get(0))?i:null},o="";if("undefined"!=typeof t.win.getSelection){t.browser.mozilla&&(t.selection.save(),t.$el.find('.fr-marker[data-type="false"]').length>1&&(t.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),t.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),t.$el.find(".fr-marker").not('[data-id="0"]').remove()),
t.selection.restore());for(var r=t.selection.ranges(),s=0;s<r.length;s++){var a=document.createElement("div");a.appendChild(r[s].cloneContents()),n(a,i()),e(a).find(".fr-element").length>0&&(a=t.$el.get(0)),o+=a.innerHTML}}else"undefined"!=typeof t.doc.selection&&"Text"==t.doc.selection.type&&(o=t.doc.selection.createRange().htmlText);return o}function k(t){var n=e("<div>").html(t);return n.find(r()).length>0}function D(e){var n=t.doc.createElement("div");return n.innerHTML=e,t.selection.setAtEnd(n),n.innerHTML}function A(e){return e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")}function N(n,i,o){t.selection.isCollapsed()||t.selection.remove();var r;if(r=i?n:t.clean.html(n),r=r.replace(/\r|\n/g," "),n.indexOf('class="fr-marker"')<0&&(r=D(r)),t.core.isEmpty())t.$el.html(r);else{var s=t.markers.insert();if(s){var a;if((k(r)||o)&&(a=t.node.deepestParent(s))){var s=t.markers.split();if(!s)return!1;e(s).replaceWith(r)}else e(s).replaceWith(r)}else t.$el.append(r)}b(),t.events.trigger("html.inserted")}function _(n){var i=null;"undefined"==typeof n&&(i=t.selection.element());var o,r;do{r=!1,o=t.$el.get(0).querySelectorAll("*:not(.fr-marker)");for(var s=0;s<o.length;s++){var a=o[s];if(i!=a){var l=a.textContent;0===a.children.length&&1===l.length&&8203==l.charCodeAt(0)&&(e(a).remove(),r=!0)}}}while(r)}function M(){var e=function(){_(),t.placeholder&&t.placeholder.refresh()};t.events.on("mouseup",e),t.events.on("keydown",e),t.events.on("contentChanged",y)}return{defaultTag:n,emptyBlocks:i,emptyBlockTagsQuery:o,blockTagsQuery:r,fillEmptyBlocks:u,cleanEmptyTags:s,cleanWhiteTags:_,doNormalize:p,cleanBlankSpaces:h,blocks:d,getDoctype:v,set:S,get:E,getSelected:T,insert:N,wrap:l,unwrap:c,escapeEntities:A,checkIfEmpty:y,extractNode:w,extractNodeAttrs:x,extractDoctype:C,_init:M}},e.extend(e.FE.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),e.FE.MODULES.size=function(e){function t(){e.opts.height&&e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$iframe.height(e.$el.outerHeight(!0))}function n(){e.opts.heightMin?e.$el.css("minHeight",e.opts.heightMin):e.$el.css("minHeight",""),e.opts.heightMax?(e.$wp.css("maxHeight",e.opts.heightMax),e.$wp.css("overflow","auto")):(e.$wp.css("maxHeight",""),e.$wp.css("overflow","")),e.opts.height?(e.$wp.height(e.opts.height),e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$wp.css("overflow","auto")):(e.$wp.css("height",""),e.opts.heightMin||e.$el.css("minHeight",""),e.opts.heightMax||e.$wp.css("overflow","")),e.opts.width&&e.$box.width(e.opts.width)}function i(){return!!e.$wp&&(n(),void(e.opts.iframe&&(e.events.on("keyup",t),e.events.on("commands.after",t),e.events.on("html.set",t),e.events.on("init",t),e.events.on("initialized",t))))}return{_init:i,syncIframe:t,refresh:n}},e.extend(e.FE.DEFAULTS,{language:null}),e.FE.LANGUAGE={},e.FE.MODULES.language=function(t){function n(e){return o&&o.translation[e]?o.translation[e]:e}function i(){e.FE.LANGUAGE&&(o=e.FE.LANGUAGE[t.opts.language]),o&&o.direction&&(t.opts.direction=o.direction)}var o;return{_init:i,translate:n}},e.extend(e.FE.DEFAULTS,{placeholderText:"Type something"}),e.FE.MODULES.placeholder=function(t){function n(){t.$placeholder||s();var n=0,i=0,o=0,r=0,a=t.node.contents(t.$el.get(0));if(a.length&&a[0].nodeType==Node.ELEMENT_NODE){var l=e(a[0]);t.opts.toolbarInline||(n=t.helpers.getPX(l.css("margin-top")),o=t.helpers.getPX(l.css("padding-top")),i=t.helpers.getPX(l.css("margin-left")),r=t.helpers.getPX(l.css("padding-left"))),t.$placeholder.css("font-size",l.css("font-size")),t.$placeholder.css("line-height",l.css("line-height"))}else t.$placeholder.css("font-size",t.$el.css("font-size")),t.$placeholder.css("line-height",t.$el.css("line-height"));t.$wp.addClass("show-placeholder"),t.$placeholder.css({marginTop:Math.max(t.helpers.getPX(t.$el.css("margin-top")),n),paddingTop:Math.max(t.helpers.getPX(t.$el.css("padding-top")),o),paddingLeft:Math.max(t.helpers.getPX(t.$el.css("padding-left")),r),marginLeft:Math.max(t.helpers.getPX(t.$el.css("margin-left")),i)}).text(t.language.translate(t.opts.placeholderText||t.$oel.attr("placeholder")||"")).css("height",t.$el.height()-Math.max(t.helpers.getPX(t.$el.css("margin-top")),n)-Math.max(t.helpers.getPX(t.$el.css("padding-top")),o)),t.$placeholder.html(t.$placeholder.text().replace(/\n/g,"<br>"))}function i(){t.$wp.removeClass("show-placeholder")}function o(){return!t.$wp||t.$wp.hasClass("show-placeholder")}function r(){return!!t.$wp&&void(t.core.isEmpty()?n():i())}function s(){t.$placeholder=e('<span class="fr-placeholder"></span>'),t.$wp.append(t.$placeholder)}function a(){return!!t.$wp&&void t.events.on("init input keydown keyup contentChanged initialized",r)}return{_init:a,show:n,hide:i,refresh:r,isVisible:o}},e.FE.MODULES.edit=function(e){function t(){if(e.browser.mozilla)try{e.doc.execCommand("enableObjectResizing",!1,"false"),e.doc.execCommand("enableInlineTableEditing",!1,"false")}catch(t){}if(e.browser.msie)try{e.doc.body.addEventListener("mscontrolselect",function(e){return e.preventDefault(),!1})}catch(t){}}function n(){e.$wp?(e.$el.attr("contenteditable",!0),e.$el.removeClass("fr-disabled"),e.$tb&&e.$tb.removeClass("fr-disabled"),t()):e.$el.is("a")&&e.$el.attr("contenteditable",!0),r=!1}function i(){e.$wp?(e.$el.attr("contenteditable",!1),e.$el.addClass("fr-disabled"),e.$tb&&e.$tb.addClass("fr-disabled")):e.$el.is("a")&&e.$el.attr("contenteditable",!1),r=!0}function o(){return r}var r=!1;return{on:n,off:i,disableDesign:t,isDisabled:o}},e.extend(e.FE.DEFAULTS,{editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeStyle:'html{margin: 0px;}body{padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}',iframeStyleFiles:[],direction:"auto",zIndex:1,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),e.FE.MODULES.core=function(t){function n(e){if(t.opts.iframe){t.$head.find("style[data-fr-style], link[data-fr-style]").remove(),t.$head.append('<style data-fr-style="true">'+e+"</style>");for(var n=0;n<t.opts.iframeStyleFiles.length;n++)t.$head.append('<link data-fr-style="true" rel="stylesheet" href="'+t.opts.iframeStyleFiles[n]+'">')}}function i(){t.opts.iframe||t.$el.addClass("fr-element fr-view")}function o(){if(t.$box.addClass("fr-box"+(t.opts.editorClass?" "+t.opts.editorClass:"")),t.$wp.addClass("fr-wrapper"),i(),t.opts.iframe){t.$iframe.addClass("fr-iframe"),t.$html.find("body").addClass("fr-view");for(var e=0;e<t.o_doc.styleSheets.length;e++){var n;try{n=t.o_doc.styleSheets[e].cssRules}catch(o){}if(n)for(var r=0,s=n.length;s>r;r++)!n[r].selectorText||0!==n[r].selectorText.indexOf(".fr-view")&&0!==n[r].selectorText.indexOf(".fr-element")||n[r].style.cssText.length>0&&(0===n[r].selectorText.indexOf(".fr-view")?t.opts.iframeStyle+=n[r].selectorText.replace(/\.fr-view/g,"body")+"{"+n[r].style.cssText+"}":t.opts.iframeStyle+=n[r].selectorText.replace(/\.fr-element/g,"body")+"{"+n[r].style.cssText+"}")}}"auto"!=t.opts.direction&&t.$box.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.$el.attr("dir",t.opts.direction),t.$wp.attr("dir",t.opts.direction),t.opts.zIndex>1&&t.$box.css("z-index",t.opts.zIndex),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme")}function r(){return t.node.isEmpty(t.$el.get(0))}function s(){t.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!t.win.FormData,progress:"upload"in new XMLHttpRequest}}function a(e,n){var i=new XMLHttpRequest;i.open(n,e,!0),t.opts.requestWithCORS&&(i.withCredentials=!0);for(var o in t.opts.requestHeaders)t.opts.requestHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,t.opts.requestHeaders[o]);return i}function l(e){"TEXTAREA"==t.$oel.get(0).tagName&&t.$oel.val(e),t.$wp&&("TEXTAREA"==t.$oel.get(0).tagName?(t.$el.html(""),t.$wp.html(""),t.$box.replaceWith(t.$oel),t.$oel.show()):(t.$wp.replaceWith(e),t.$el.html(""),t.$box.removeClass("fr-view fr-ltr fr-box "+(t.opts.editorClass||"")),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme"))),this.$wp=null,this.$el=null,this.$box=null}function c(){return t.browser.mozilla&&t.helpers.isMobile()?t.selection.inEditor():t.node.hasFocus(t.$el.get(0))||t.$el.find("*:focus").length>0}function u(e){if(!e)return!1;var n=e.data("instance");return!!n&&n.id==t.id}function d(){if(e.FE.INSTANCES.push(t),s(),t.$wp){o(),t.html.set(t._original_html),t.$el.attr("spellcheck",t.opts.spellcheck),t.helpers.isMobile()&&(t.$el.attr("autocomplete",t.opts.spellcheck?"on":"off"),t.$el.attr("autocorrect",t.opts.spellcheck?"on":"off"),t.$el.attr("autocapitalize",t.opts.spellcheck?"on":"off")),t.opts.disableRightClick&&t.events.$on(t.$el,"contextmenu",function(e){return 2!=e.button&&void 0});try{t.doc.execCommand("styleWithCSS",!1,!1)}catch(n){}}t.events.on("drop",function(e){e.preventDefault(),e.stopPropagation()}),"TEXTAREA"==t.$oel.get(0).tagName&&(t.events.on("contentChanged",function(){t.$oel.val(t.html.get())}),t.events.on("form.submit",function(){t.$oel.val(t.html.get())}),t.events.on("form.reset",function(){t.html.set(t._original_html)}),t.$oel.val(t.html.get())),t.helpers.isIOS()&&t.events.$on(t.$doc,"selectionchange",function(){t.$doc.get(0).hasFocus()||t.$win.get(0).focus()}),t.events.trigger("init")}return{_init:d,destroy:l,isEmpty:r,getXHR:a,injectStyle:n,hasFocus:c,sameInstance:u}},e.FE.MODULES.format=function(t){function n(e,t){var n="<"+e;for(var i in t)t.hasOwnProperty(i)&&(n+=" "+i+'="'+t[i]+'"');return n+=">"}function i(e){return"</"+e+">"}function o(e,t){var n=e;for(var i in t)t.hasOwnProperty(i)&&(e+="id"==i?"#"+t[i]:"class"==i?"."+t[i]:"["+i+'="'+t[i]+'"]');return n}function r(e,t){return!(!e||e.nodeType!=Node.ELEMENT_NODE)&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function s(i,o,r){if(i){if(t.node.isBlock(i))return s(i.firstChild,o,r),!1;for(var a=e(n(o,r)).insertBefore(i),l=i;l&&!e(l).is(".fr-marker")&&0==e(l).find(".fr-marker").length;){var c=l;l=l.nextSibling,a.append(c)}if(l)e(l).find(".fr-marker").length&&s(l.firstChild,o,r);else{for(var u=a.get(0).parentNode;u&&!u.nextSibling&&!t.node.isElement(u);)u=u.parentNode;if(u){var d=u.nextSibling;d&&(t.node.isBlock(d)?s(d.firstChild,o,r):s(d,o,r))}}a.is(":empty")&&a.remove()}}function a(a,l){if("undefined"==typeof l&&(l={}),l.style&&delete l.style,t.selection.isCollapsed()){t.markers.insert();var c=t.$el.find(".fr-marker");c.replaceWith(n(a,l)+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+i(a)),t.selection.restore()}else{t.selection.save();var u=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;s(u,a,l);var d;do d=t.$el.find(o(a,l)+" > "+o(a,l)),d.each(function(){e(this).replaceWith(this.innerHTML)});while(d.length);t.$el.get(0).normalize();for(var h=t.$el.get(0).querySelectorAll(".fr-marker"),f=0;f<h.length;f++){var p=e(h[f]);1==p.data("type")?r(p.get(0).nextSibling,o(a,l))&&p.next().prepend(p):r(p.get(0).previousSibling,o(a,l))&&p.prev().append(p)}t.selection.restore()}}function l(e,n,i,s){if(!s){var a=!1;if(e.data("type")===!0)for(;t.node.isFirstSibling(e.get(0))&&!e.parent().is(t.$el);)e.parent().before(e),a=!0;else if(e.data("type")===!1)for(;t.node.isLastSibling(e.get(0))&&!e.parent().is(t.$el);)e.parent().after(e),a=!0;if(a)return!0}if(e.parents(n).length||"undefined"==typeof n){var l="",c="",u=e.parent();if(u.is(t.$el)||t.node.isBlock(u.get(0)))return!1;for(;"undefined"==typeof n&&!t.node.isBlock(u.parent().get(0))||"undefined"!=typeof n&&!r(u.get(0),o(n,i));)l+=t.node.closeTagString(u.get(0)),c=t.node.openTagString(u.get(0))+c,u=u.parent();var d=e.get(0).outerHTML;e.replaceWith('<span id="mark"></span>');var h=u.html().replace(/<span id="mark"><\/span>/,l+t.node.closeTagString(u.get(0))+c+d+l+t.node.openTagString(u.get(0))+c);return u.replaceWith(t.node.openTagString(u.get(0))+h+t.node.closeTagString(u.get(0))),!0}return!1}function c(n,i,s,a){for(var l=t.node.contents(n.get(0)),u=0;u<l.length;u++){var d=l[u];e(d).hasClass("fr-marker")?i=(i+1)%2:i?e(d).find(".fr-marker").length>0?i=c(e(d),i,s,a):(e(e(d).find(s||"*").get().reverse()).each(function(){t.node.isBlock(this)||t.node.isVoid(this)||e(this).replaceWith(this.innerHTML)}),("undefined"==typeof s&&d.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(d)&&!t.node.isBlock(d)||r(d,o(s,a)))&&e(d).replaceWith(d.innerHTML)):e(d).find(".fr-marker").length>0&&(i=c(e(d),i,s,a))}return i}function u(n,i){"undefined"==typeof i&&(i={}),i.style&&delete i.style;var o=t.selection.isCollapsed();t.selection.save();for(var r=!0;r;){r=!1;for(var s=t.$el.find(".fr-marker"),a=0;a<s.length;a++)if(l(e(s[a]),n,i,o)){r=!0;break}}c(t.$el,0,n,i),o&&t.$el.find(".fr-marker").before(e.FE.INVISIBLE_SPACE).after(e.FE.INVISIBLE_SPACE),t.html.cleanEmptyTags(),t.$el.get(0).normalize(),t.selection.restore()}function d(e,t){g(e,t)?u(e,t):a(e,t)}function h(t,n){var i=e(t);i.css(n,""),""===i.attr("style")&&i.replaceWith(i.html())}function f(t,n){return 0===e(t).attr("style").indexOf(n+":")||e(t).attr("style").indexOf(";"+n+":")>=0||e(t).attr("style").indexOf("; "+n+":")>=0}function p(n,i){if(t.selection.isCollapsed()){t.markers.insert();var o=t.$el.find(".fr-marker"),r=o.parent();t.node.openTagString(r.get(0))=='<span style="'+n+": "+r.css(n)+';">'&&t.node.isEmpty(r.get(0))?r.replaceWith('<span style="'+n+": "+i+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>"):t.node.isEmpty(r.get(0))&&r.is("span")?(o.replaceWith(e.FE.MARKERS),r.css(n,i)):o.replaceWith('<span style="'+n+": "+i+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>"),t.selection.restore()}else{if(t.selection.save(),null===i)for(var a=t.$el.find(".fr-marker"),l=0;l<a.length;l++){var o=e(a[l]);if(o.data("type")===!0)for(;t.node.isFirstSibling(o.get(0))&&!o.parent().is(t.$el);)o.parent().before(o);else for(;t.node.isLastSibling(o.get(0))&&!o.parent().is(t.$el);)o.parent().after(o)}var c=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling,u={"class":"fr-unprocessed"};for(i&&(u.style=n+": "+i+";"),s(c,"span",u),t.$el.find(".fr-marker + .fr-unprocessed").each(function(){e(this).prepend(e(this).prev())}),t.$el.find(".fr-unprocessed + .fr-marker").each(function(){e(this).prev().append(this)});t.$el.find("span.fr-unprocessed").length>0;){var d=t.$el.find("span.fr-unprocessed:first").removeClass("fr-unprocessed");if(d.parent().get(0).normalize(),d.parent().is("span")&&1==d.parent().get(0).childNodes.length){d.parent().css(n,i);var p=d;d=d.parent(),p.replaceWith(p.html())}for(var m=d.find("span"),l=m.length-1;l>=0;l--)h(m[l],n);var g=d.parentsUntil(t.$el,"span[style]").filter(function(){return f(this,n)});if(g.length){var v="",b="",y="",w="",x=d.get(0);do x=x.parentNode,v+=t.node.closeTagString(x),b=t.node.openTagString(e(x).clone().addClass("fr-split").get(0))+b,g.get(0)!=x&&(y+=t.node.closeTagString(x),w=t.node.openTagString(e(x).clone().addClass("fr-split").get(0))+w);while(g.get(0)!=x);var C=v+t.node.openTagString(g.clone().css(n,i||"").get(0))+w+d.html()+y+"</span>"+b;d.replaceWith('<span id="fr-break"></span>');var S=g.get(0).outerHTML;e(g.get(0)).replaceWith(S.replace(/<span id="fr-break"><\/span>/g,C))}}for(;t.$el.find(".fr-split:empty").length>0;)t.$el.find(".fr-split:empty").remove();t.$el.find(".fr-split").removeClass("fr-split"),t.$el.find('span[style=""]').removeAttr("style"),t.$el.find('span[class=""]').removeAttr("class"),t.html.cleanEmptyTags(),t.$el.find("span").each(function(){this.attributes&&0!=this.attributes.length||e(this).replaceWith(this.innerHTML)}),t.$el.get(0).normalize();var E=t.$el.find("span[style] + span[style]");for(l=0;l<E.length;l++){var T=e(E[l]),k=e(E[l]).prev();T.get(0).previousSibling==k.get(0)&&t.node.openTagString(T.get(0))==t.node.openTagString(k.get(0))&&(T.prepend(k.html()),k.remove())}t.$el.get(0).normalize(),t.selection.restore()}}function m(e){p(e,null)}function g(e,n){"undefined"==typeof n&&(n={}),n.style&&delete n.style;var i=t.selection.ranges(0),s=i.startContainer;s.nodeType==Node.ELEMENT_NODE&&s.childNodes.length>0&&s.childNodes[i.startOffset]&&(s=s.childNodes[i.startOffset]);for(var a=s;a&&a.nodeType==Node.ELEMENT_NODE&&!r(a,o(e,n));)a=a.firstChild;if(a&&a.nodeType==Node.ELEMENT_NODE&&r(a,o(e,n)))return!0;var l=s;for(l&&l.nodeType!=Node.ELEMENT_NODE&&(l=l.parentNode);l&&l.nodeType==Node.ELEMENT_NODE&&l!=t.$el.get(0)&&!r(l,o(e,n));)l=l.parentNode;return!(!l||l.nodeType!=Node.ELEMENT_NODE||l==t.$el.get(0)||!r(l,o(e,n)))}return{is:g,toggle:d,apply:a,remove:u,applyStyle:p,removeStyle:m}},e.FE.COMMANDS={bold:{title:"Bold",refresh:function(e){e.toggleClass("fr-active",this.format.is("strong"))}},italic:{title:"Italic",refresh:function(e){e.toggleClass("fr-active",this.format.is("em"))}},underline:{title:"Underline",refresh:function(e){e.toggleClass("fr-active",this.format.is("u"))}},strikeThrough:{title:"Strikethrough",refresh:function(e){e.toggleClass("fr-active",this.format.is("s"))}},subscript:{title:"Subscript",refresh:function(e){e.toggleClass("fr-active",this.format.is("sub"))}},superscript:{title:"Superscript",refresh:function(e){e.toggleClass("fr-active",this.format.is("sup"))}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1}},e.FE.RegisterCommand=function(t,n){e.FE.COMMANDS[t]=n},e.FE.MODULES.commands=function(t){function n(n,i){if(t.events.trigger("commands.before",e.merge([n],i||[]))!==!1){var o=e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].callback||a[n],r=!0;e.FE.COMMANDS[n]&&"undefined"!=typeof e.FE.COMMANDS[n].focus&&(r=e.FE.COMMANDS[n].focus),t.core.hasFocus()||!r||t.popups.areVisible()||t.events.focus(!0),e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].undo!==!1&&t.undo.saveStep(),o&&o.apply(t,e.merge([n],i||[])),t.events.trigger("commands.after",e.merge([n],i||[])),e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].undo!==!1&&t.undo.saveStep()}}function i(e,n){t.format.toggle(n)}function o(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var i=t.selection.blocks(),o=0;o<i.length;o++)if("LI"!=i[o].tagName&&"LI"!=i[o].parentNode.tagName){var r=e(i[o]),s="rtl"==t.opts.direction||"rtl"==r.css("direction")?"margin-right":"margin-left",a=t.helpers.getPX(r.css(s));r.css(s,Math.max(a+20*n,0)||""),r.removeClass("fr-temp-div")}t.selection.save(),t.html.unwrap(),t.selection.restore()}function r(e){return function(){n(e)}}function s(){t.events.on("keydown",function(e){var n=t.selection.element();return n&&"HR"==n.tagName?(e.preventDefault(),!1):void 0}),t.events.on("mousedown",function(e){return e.target&&"HR"==e.target.tagName?(e.preventDefault(),e.stopPropagation(),!1):void 0}),t.events.on("mouseup",function(e){var n=t.selection.element(),i=t.selection.endElement();n==i&&n&&"HR"==n.tagName&&t.selection.clear()})}var a={bold:function(){i("bold","strong")},subscript:function(){i("subscript","sub")},superscript:function(){i("superscript","sup")},italic:function(){i("italic","em")},strikeThrough:function(){i("strikeThrough","s")},underline:function(){i("underline","u")},undo:function(){t.undo.run()},redo:function(){t.undo.redo()},indent:function(){o(1)},outdent:function(){o(-1)},show:function(){t.opts.toolbarInline&&t.toolbar.showInline(null,!0)},insertHR:function(){t.selection.remove();var e="";t.core.isEmpty()&&(e="<br>",t.html.defaultTag()&&(e="<"+t.html.defaultTag()+">"+e+"</"+t.html.defaultTag()+">")),t.html.insert('<hr id="fr-just">'+e);var n=t.$el.find("hr#fr-just");n.removeAttr("id"),t.selection.setAfter(n.get(0))||t.selection.setBefore(n.get(0)),t.selection.restore()},clearFormatting:function(){t.format.remove()},selectAll:function(){t.doc.execCommand("selectAll",!1,!1)}},l={};for(var c in a)a.hasOwnProperty(c)&&(l[c]=r(c));return e.extend(l,{exec:n,_init:s})},e.FE.MODULES.cursorLists=function(t){function n(e){for(var t=e;"LI"!=t.tagName;)t=t.parentNode;return t}function i(e){for(var n=e;!t.node.isList(n);)n=n.parentNode;return n}function o(o){var r,s=n(o),a=s.nextSibling,l=s.previousSibling,c=t.html.defaultTag();if(t.node.isEmpty(s,!0)&&a){for(var u="",d="",h=o.parentNode;!t.node.isList(h)&&h.parentNode&&"LI"!==h.parentNode.tagName;)u=t.node.openTagString(h)+u,d+=t.node.closeTagString(h),h=h.parentNode;u=t.node.openTagString(h)+u,d+=t.node.closeTagString(h);var f="";for(f=h.parentNode&&"LI"==h.parentNode.tagName?d+"<li>"+e.FE.MARKERS+"<br>"+u:c?d+"<"+c+">"+e.FE.MARKERS+"<br></"+c+">"+u:d+e.FE.MARKERS+"<br>"+u,e(s).html('<span id="fr-break"></span>');["UL","OL"].indexOf(h.tagName)<0||h.parentNode&&"LI"===h.parentNode.tagName;)h=h.parentNode;var p=t.node.openTagString(h)+e(h).html()+t.node.closeTagString(h);p=p.replace(/<span id="fr-break"><\/span>/g,f),e(h).replaceWith(p),t.$el.find("li:empty").remove()}else l&&a||!t.node.isEmpty(s,!0)?(e(s).before("<li><br></li>"),e(o).remove()):l?(r=i(s),r.parentNode&&"LI"==r.parentNode.tagName?e(r.parentNode).after("<li>"+e.FE.MARKERS+"<br></li>"):c?e(r).after("<"+c+">"+e.FE.MARKERS+"<br></"+c+">"):e(r).after(e.FE.MARKERS+"<br>"),e(s).remove()):(r=i(s),r.parentNode&&"LI"==r.parentNode.tagName?e(r.parentNode).before("<li>"+e.FE.MARKERS+"<br></li>"):c?e(r).before("<"+c+">"+e.FE.MARKERS+"<br></"+c+">"):e(r).before(e.FE.MARKERS+"<br>"),e(s).remove())}function r(i){for(var o=n(i),r="",s=i,a="",l="";s!=o;){s=s.parentNode;var c="A"==s.tagName&&t.cursor.isAtEnd(i,s)?"fr-to-remove":"";a=t.node.openTagString(e(s).clone().addClass(c).get(0))+a,l=t.node.closeTagString(s)+l}r=l+r+a+e.FE.MARKERS,e(i).replaceWith('<span id="fr-break"></span>');var u=t.node.openTagString(o)+e(o).html()+t.node.closeTagString(o);u=u.replace(/<span id="fr-break"><\/span>/g,r),e(o).replaceWith(u)}function s(i){for(var o=n(i),r=e.FE.MARKERS,s="",a=i,l=!1;a!=o;){a=a.parentNode;var c="A"==a.tagName&&t.cursor.isAtEnd(i,a)?"fr-to-remove":"";l||a==o||t.node.isBlock(a)||(l=!0,s+=e.FE.INVISIBLE_SPACE),s=t.node.openTagString(e(a).clone().addClass(c).get(0))+s,r+=t.node.closeTagString(a)}var u=s+r;e(i).remove(),e(o).after(u)}function a(o){var r=n(o),s=r.previousSibling;if(s){s=e(s).find(t.html.blockTagsQuery()).get(-1)||s,e(o).replaceWith(e.FE.MARKERS);var a=t.node.contents(s);a.length&&"BR"==a[a.length-1].tagName&&e(a[a.length-1]).remove(),e(r).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==r&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))});for(var l,c=t.node.contents(r)[0];c&&!t.node.isList(c);)l=c.nextSibling,e(s).append(c),c=l;for(s=r.previousSibling;c;)l=c.nextSibling,e(s).append(c),c=l;e(r).remove()}else{var u=i(r);if(e(o).replaceWith(e.FE.MARKERS),u.parentNode&&"LI"==u.parentNode.tagName){var d=u.previousSibling;t.node.isBlock(d)?(e(r).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==r&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}),e(d).append(e(r).html())):e(u).before(e(r).html())}else{var h=t.html.defaultTag();h&&0===e(r).find(t.html.blockTagsQuery()).length?e(u).before("<"+h+">"+e(r).html()+"</"+h+">"):e(u).before(e(r).html())}e(r).remove(),0===e(u).find("li").length&&e(u).remove()}}function l(i){var o,r=n(i),s=r.nextSibling;if(s){o=t.node.contents(s),o.length&&"BR"==o[0].tagName&&e(o[0]).remove(),e(s).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==s&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))});for(var a,l=i,c=t.node.contents(s)[0];c&&!t.node.isList(c);)a=c.nextSibling,e(l).after(c),l=c,c=a;for(;c;)a=c.nextSibling,e(r).append(c),c=a;e(i).replaceWith(e.FE.MARKERS),e(s).remove()}else{for(var u=r;!u.nextSibling&&u!=t.$el.get(0);)u=u.parentNode;if(u==t.$el.get(0))return!1;if(u=u.nextSibling,t.node.isBlock(u))e.FE.NO_DELETE_TAGS.indexOf(u.tagName)<0&&(e(i).replaceWith(e.FE.MARKERS),o=t.node.contents(r),o.length&&"BR"==o[o.length-1].tagName&&e(o[o.length-1]).remove(),e(r).append(e(u).html()),e(u).remove());else for(o=t.node.contents(r),o.length&&"BR"==o[o.length-1].tagName&&e(o[o.length-1]).remove(),e(i).replaceWith(e.FE.MARKERS);u&&!t.node.isBlock(u)&&"BR"!=u.tagName;)e(r).append(e(u)),u=u.nextSibling}}return{_startEnter:o,_middleEnter:r,_endEnter:s,_backspace:a,_del:l}},e.FE.NO_DELETE_TAGS=["TH","TD","TABLE","FORM"],e.FE.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],e.FE.MODULES.cursor=function(t){function n(e){return!!e&&(!!t.node.isBlock(e)||!e.nextSibling&&n(e.parentNode))}function i(e){return!!e&&(!!t.node.isBlock(e)||!e.previousSibling&&i(e.parentNode))}function o(e,n){return!!e&&(e!=t.$wp.get(0)&&(!e.previousSibling&&(e.parentNode==n||o(e.parentNode,n))))}function r(e,n){return!!e&&(e!=t.$wp.get(0)&&(!e.nextSibling&&(e.parentNode==n||r(e.parentNode,n))))}function s(n){return e(n).parentsUntil(t.$el,"LI").length>0&&0===e(n).parentsUntil("LI","TABLE").length}function a(n){var i=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,o=t.node.deepestParent(n,[],!i);if(o&&"BLOCKQUOTE"==o.tagName){var r=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);r&&r.previousSibling&&(o=r)}if(null!==o){var s,a=o.previousSibling;if(t.node.isBlock(o)&&t.node.isEditable(o)&&a&&e.FE.NO_DELETE_TAGS.indexOf(a.tagName)<0)if(t.node.isDeletable(a))e(a).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isEditable(a))if(t.node.isBlock(a))if(t.node.isEmpty(a)&&!t.node.isList(a))e(a).remove();else{if(t.node.isList(a)&&(a=e(a).find("li:last").get(0)),s=t.node.contents(a),s.length&&"BR"==s[s.length-1].tagName&&e(s[s.length-1]).remove(),"BLOCKQUOTE"==a.tagName&&"BLOCKQUOTE"!=o.tagName)for(s=t.node.contents(a);s.length&&t.node.isBlock(s[s.length-1]);)a=s[s.length-1],s=t.node.contents(a);else if("BLOCKQUOTE"!=a.tagName&&"BLOCKQUOTE"==o.tagName)for(s=t.node.contents(o);s.length&&t.node.isBlock(s[0]);)o=s[0],s=t.node.contents(o);e(n).replaceWith(e.FE.MARKERS),e(a).append(t.node.isEmpty(o)?e.FE.MARKERS:o.innerHTML),e(o).remove()}else e(n).replaceWith(e.FE.MARKERS),"BLOCKQUOTE"==o.tagName&&a.nodeType==Node.ELEMENT_NODE?e(a).remove():(e(a).after(t.node.isEmpty(o)?"":e(o).html()),e(o).remove(),"BR"==a.tagName&&e(a).remove())}}function l(n){for(var i=n;!i.previousSibling;)if(i=i.parentNode,t.node.isElement(i))return!1;i=i.previousSibling;var o;if(!t.node.isBlock(i)&&t.node.isEditable(i)){for(o=t.node.contents(i);i.nodeType!=Node.TEXT_NODE&&!t.node.isDeletable(i)&&o.length&&t.node.isEditable(i);)i=o[o.length-1],o=t.node.contents(i);if(i.nodeType==Node.TEXT_NODE){if(t.helpers.isIOS())return!0;var r=i.textContent,s=r.length-1;if(t.opts.tabSpaces&&r.length>=t.opts.tabSpaces){var a=r.substr(r.length-t.opts.tabSpaces,r.length-1);0==a.replace(/ /g,"").replace(new RegExp(e.FE.UNICODE_NBSP,"g"),"").length&&(s=r.length-t.opts.tabSpaces)}i.textContent=r.substring(0,s),i.textContent.length&&55357==i.textContent.charCodeAt(i.textContent.length-1)&&(i.textContent=i.textContent.substr(0,i.textContent.length-1)),0==i.textContent.length?2!=i.parentNode.childNodes.length||i.parentNode!=n.parentNode||t.node.isBlock(i.parentNode)||t.node.isElement(i.parentNode)?(e(i).after(e.FE.MARKERS),i.parentNode.removeChild(i)):(e(i.parentNode).after(e.FE.MARKERS),e(i.parentNode).remove()):e(i).after(e.FE.MARKERS)}else t.node.isDeletable(i)?(e(i).after(e.FE.MARKERS),e(i).remove()):t.events.trigger("node.remove",[e(i)])!==!1&&(e(i).after(e.FE.MARKERS),e(i).remove())}else if(e.FE.NO_DELETE_TAGS.indexOf(i.tagName)<0&&t.node.isEditable(i))if(t.node.isEmpty(i)&&!t.node.isList(i))e(i).remove(),e(n).replaceWith(e.FE.MARKERS);else{for(t.node.isList(i)&&(i=e(i).find("li:last").get(0)),o=t.node.contents(i),o&&"BR"==o[o.length-1].tagName&&e(o[o.length-1]).remove(),o=t.node.contents(i);o&&t.node.isBlock(o[o.length-1]);)i=o[o.length-1],o=t.node.contents(i);e(i).append(e.FE.MARKERS);for(var l=n;!l.previousSibling;)l=l.parentNode;for(;l&&"BR"!==l.tagName&&!t.node.isBlock(l);){var c=l;l=l.nextSibling,e(i).append(c)}l&&"BR"==l.tagName&&e(l).remove(),e(n).remove()}else n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove()}function c(){var r=!1,c=t.markers.insert();if(!c)return!0;t.$el.get(0).normalize();var u=c.previousSibling;if(u){var d=u.textContent;d&&d.length&&8203==d.charCodeAt(d.length-1)&&(1==d.length?e(u).remove():(u.textContent=u.textContent.substr(0,d.length-1),u.textContent.length&&55357==u.textContent.charCodeAt(u.textContent.length-1)&&(u.textContent=u.textContent.substr(0,u.textContent.length-1))))}return n(c)?r=l(c):i(c)?s(c)&&o(c,e(c).parents("li:first").get(0))?t.cursorLists._backspace(c):a(c):r=l(c),e(c).remove(),t.$el.find("blockquote:empty").remove(),t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(),t.clean.quotes(),t.clean.lists(),t.spaces.normalize(),t.selection.restore(),r}function u(n){var i=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,o=t.node.deepestParent(n,[],!i);if(o&&"BLOCKQUOTE"==o.tagName){var r=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);r&&r.nextSibling&&(o=r)}if(null!==o){var s,a=o.nextSibling;if(t.node.isBlock(o)&&(t.node.isEditable(o)||t.node.isDeletable(o))&&a&&e.FE.NO_DELETE_TAGS.indexOf(a.tagName)<0)if(t.node.isDeletable(a))e(a).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isBlock(a)&&t.node.isEditable(a))if(t.node.isList(a))if(t.node.isEmpty(o,!0))e(o).remove(),e(a).find("li:first").prepend(e.FE.MARKERS);else{var l=e(a).find("li:first");"BLOCKQUOTE"==o.tagName&&(s=t.node.contents(o),s.length&&t.node.isBlock(s[s.length-1])&&(o=s[s.length-1])),0===l.find("ul, ol").length&&(e(n).replaceWith(e.FE.MARKERS),l.find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==l.get(0)&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}),e(o).append(t.node.contents(l.get(0))),l.remove(),0===e(a).find("li").length&&e(a).remove())}else{if(s=t.node.contents(a),s.length&&"BR"==s[0].tagName&&e(s[0]).remove(),"BLOCKQUOTE"!=a.tagName&&"BLOCKQUOTE"==o.tagName)for(s=t.node.contents(o);s.length&&t.node.isBlock(s[s.length-1]);)o=s[s.length-1],s=t.node.contents(o);else if("BLOCKQUOTE"==a.tagName&&"BLOCKQUOTE"!=o.tagName)for(s=t.node.contents(a);s.length&&t.node.isBlock(s[0]);)a=s[0],s=t.node.contents(a);e(n).replaceWith(e.FE.MARKERS),e(o).append(a.innerHTML),e(a).remove()}else{for(e(n).replaceWith(e.FE.MARKERS);a&&"BR"!==a.tagName&&!t.node.isBlock(a)&&t.node.isEditable(a);){var c=a;a=a.nextSibling,e(o).append(c)}a&&"BR"==a.tagName&&t.node.isEditable(a)&&e(a).remove()}}}function d(i){for(var o=i;!o.nextSibling;)if(o=o.parentNode,t.node.isElement(o))return!1;if(o=o.nextSibling,"BR"==o.tagName&&t.node.isEditable(o))if(o.nextSibling){if(t.node.isBlock(o.nextSibling)&&t.node.isEditable(o.nextSibling)){if(!(e.FE.NO_DELETE_TAGS.indexOf(o.nextSibling.tagName)<0))return void e(o).remove();o=o.nextSibling,e(o.previousSibling).remove()}}else if(n(o)){if(s(i))t.cursorLists._del(i);else{var r=t.node.deepestParent(o);r&&(e(o).remove(),u(i))}return}var a;if(!t.node.isBlock(o)&&t.node.isEditable(o)){for(a=t.node.contents(o);o.nodeType!=Node.TEXT_NODE&&a.length&&!t.node.isDeletable(o)&&t.node.isEditable(o);)o=a[0],a=t.node.contents(o);o.nodeType==Node.TEXT_NODE?(e(o).before(e.FE.MARKERS),o.textContent.length&&55357==o.textContent.charCodeAt(0)?o.textContent=o.textContent.substring(2,o.textContent.length):o.textContent=o.textContent.substring(1,o.textContent.length)):t.node.isDeletable(o)?(e(o).before(e.FE.MARKERS),e(o).remove()):t.events.trigger("node.remove",[e(o)])!==!1&&(e(o).before(e.FE.MARKERS),e(o).remove()),e(i).remove()}else if(e.FE.NO_DELETE_TAGS.indexOf(o.tagName)<0&&(t.node.isEditable(o)||t.node.isDeletable(o)))if(t.node.isDeletable(o))e(i).replaceWith(e.FE.MARKERS),e(o).remove();else if(t.node.isList(o))i.previousSibling?(e(o).find("li:first").prepend(i),t.cursorLists._backspace(i)):(e(o).find("li:first").prepend(e.FE.MARKERS),
e(i).remove());else if(a=t.node.contents(o),a&&"BR"==a[0].tagName&&e(a[0]).remove(),a&&"BLOCKQUOTE"==o.tagName){var l=a[0];for(e(i).before(e.FE.MARKERS);l&&"BR"!=l.tagName;){var c=l;l=l.nextSibling,e(i).before(c)}l&&"BR"==l.tagName&&e(l).remove()}else e(i).after(e(o).html()).after(e.FE.MARKERS),e(o).remove()}function h(){var o=t.markers.insert();if(!o)return!1;if(t.$el.get(0).normalize(),n(o))if(s(o))if(0===e(o).parents("li:first").find("ul, ol").length)t.cursorLists._del(o);else{var r=e(o).parents("li:first").find("ul:first, ol:first").find("li:first");r=r.find(t.html.blockTagsQuery()).get(-1)||r,r.prepend(o),t.cursorLists._backspace(o)}else u(o);else d(i(o)?o:o);e(o).remove(),t.$el.find("blockquote:empty").remove(),t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(),t.clean.quotes(),t.clean.lists(),t.spaces.normalize(),t.selection.restore()}function f(){t.$el.find(".fr-to-remove").each(function(){for(var n=t.node.contents(this),i=0;i<n.length;i++)n[i].nodeType==Node.TEXT_NODE&&(n[i].textContent=n[i].textContent.replace(/\u200B/g,""));e(this).replaceWith(this.innerHTML)})}function p(n,i,o){var s,a=t.node.deepestParent(n,[],!o);if(a&&"BLOCKQUOTE"==a.tagName)return r(n,a)?(s=t.html.defaultTag(),s?e(a).after("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(a).after(e.FE.MARKERS+"<br>"),e(n).remove(),!1):(g(n,i,o),!1);if(null==a)e(n).replaceWith("<br/>"+e.FE.MARKERS+"<br/>");else{var l=n,c="";(!t.node.isBlock(a)||i)&&(c="<br/>");var u="",d="";s=t.html.defaultTag();var h="",f="";s&&t.node.isBlock(a)&&(h="<"+s+">",f="</"+s+">",a.tagName==s.toUpperCase()&&(h=t.node.openTagString(e(a).clone().removeAttr("id").get(0))));do if(l=l.parentNode,!i||l!=a||i&&!t.node.isBlock(a))if(u+=t.node.closeTagString(l),l==a&&t.node.isBlock(a))d=h+d;else{var p="A"==l.tagName&&r(n,l)?"fr-to-remove":"";d=t.node.openTagString(e(l).clone().addClass(p).get(0))+d}while(l!=a);c=u+c+d+(n.parentNode==a&&t.node.isBlock(a)?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS,t.node.isBlock(a)&&!e(a).find("*:last").is("br")&&e(a).append("<br/>"),e(n).after('<span id="fr-break"></span>'),e(n).remove(),a.nextSibling&&!t.node.isBlock(a.nextSibling)||t.node.isBlock(a)||e(a).after("<br>");var m;m=!i&&t.node.isBlock(a)?t.node.openTagString(a)+e(a).html()+f:t.node.openTagString(a)+e(a).html()+t.node.closeTagString(a),m=m.replace(/<span id="fr-break"><\/span>/g,c),e(a).replaceWith(m)}}function m(n,i,s){var a=t.node.deepestParent(n,[],!s);if(a&&"BLOCKQUOTE"==a.tagName){if(o(n,a)){var l=t.html.defaultTag();return l?e(a).before("<"+l+">"+e.FE.MARKERS+"<br></"+l+">"):e(a).before(e.FE.MARKERS+"<br>"),e(n).remove(),!1}r(n,a)?p(n,i,!0):g(n,i,!0)}if(null==a)e(n).replaceWith("<br>"+e.FE.MARKERS);else{if(t.node.isBlock(a))if(i)e(n).remove(),e(a).prepend("<br>"+e.FE.MARKERS);else{if(t.node.isEmpty(a,!0))return p(n,i,s);e(a).before(t.node.openTagString(e(a).clone().removeAttr("id").get(0))+"<br>"+t.node.closeTagString(a))}else e(a).before("<br>");e(n).remove()}}function g(n,i,s){var a=t.node.deepestParent(n,[],!s);if(null==a)t.html.defaultTag()&&n.parentNode===t.$el.get(0)?e(n).replaceWith("<"+t.html.defaultTag()+">"+e.FE.MARKERS+"<br></"+t.html.defaultTag()+">"):((!n.nextSibling||t.node.isBlock(n.nextSibling))&&e(n).after("<br>"),e(n).replaceWith("<br>"+e.FE.MARKERS));else{var l=n,c="";"PRE"==a.tagName&&(i=!0),(!t.node.isBlock(a)||i)&&(c="<br>");var u="",d="";do{var h=l;if(l=l.parentNode,"BLOCKQUOTE"==a.tagName&&t.node.isEmpty(h)&&!e(h).hasClass("fr-marker")&&e(h).find(n).length>0&&e(h).after(n),("BLOCKQUOTE"!=a.tagName||!r(n,l)&&!o(n,l))&&(!i||l!=a||i&&!t.node.isBlock(a))){u+=t.node.closeTagString(l);var f="A"==l.tagName&&r(n,l)?"fr-to-remove":"";d=t.node.openTagString(e(l).clone().addClass(f).removeAttr("id").get(0))+d}}while(l!=a);var p=a==n.parentNode&&t.node.isBlock(a)||n.nextSibling;if("BLOCKQUOTE"==a.tagName){n.previousSibling&&t.node.isBlock(n.previousSibling)&&n.nextSibling&&"BR"==n.nextSibling.tagName&&(e(n.nextSibling).after(n),n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove());var m=t.html.defaultTag();c=u+c+(m?"<"+m+">":"")+e.FE.MARKERS+"<br>"+(m?"</"+m+">":"")+d}else c=u+c+d+(p?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS;e(n).replaceWith('<span id="fr-break"></span>');var g=t.node.openTagString(a)+e(a).html()+t.node.closeTagString(a);g=g.replace(/<span id="fr-break"><\/span>/g,c),e(a).replaceWith(g)}}function v(o){var r=t.markers.insert();if(!r)return!0;t.$el.get(0).normalize();var a=!1;e(r).parentsUntil(t.$el,"BLOCKQUOTE").length>0&&(o=!1,a=!0),e(r).parentsUntil(t.$el,"TD, TH").length&&(a=!1),n(r)?!s(r)||o||a?p(r,o,a):t.cursorLists._endEnter(r):i(r)?!s(r)||o||a?m(r,o,a):t.cursorLists._startEnter(r):!s(r)||o||a?g(r,o,a):t.cursorLists._middleEnter(r),f(),t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(),t.clean.lists(),t.spaces.normalize(),t.selection.restore()}return{enter:v,backspace:c,del:h,isAtEnd:r}},e.FE.MODULES.data=function(e){function t(e){return e}function n(e){if(!e)return e;for(var n="",r=t("charCodeAt"),s=t("fromCharCode"),a=d.indexOf(e[0]),l=1;l<e.length-2;l++){for(var c=i(++a),u=e[r](l),h="";/[0-9-]/.test(e[l+1]);)h+=e[++l];h=parseInt(h,10)||0,u=o(u,c,h),u^=a-1&31,n+=String[s](u)}return n}function i(e){for(var t=e.toString(),n=0,i=0;i<t.length;i++)n+=parseInt(t.charAt(i),10);return n>10?n%9+1:n}function o(e,t,n){for(var i=Math.abs(n);i-- >0;)e-=t;return 0>n&&(e+=123),e}function r(e){return!(!e||"none"!=e.css("display"))&&(e.remove(),!0)}function s(){return r(c)||r(u)}function a(){return!!e.$box&&(e.$box.append(f(t(f("kTDD4spmKD1klaMB1C7A5RA1G3RA10YA5qhrjuvnmE1D3FD2bcG-7noHE6B2JB4C3xXA8WF6F-10RG2C3G3B-21zZE3C3H3xCA16NC4DC1f1hOF1MB3B-21whzQH5UA2WB10kc1C2F4D3XC2YD4D1C4F3GF2eJ2lfcD-13HF1IE1TC11TC7WE4TA4d1A2YA6XA4d1A3yCG2qmB-13GF4A1B1KH1HD2fzfbeQC3TD9VE4wd1H2A20A2B-22ujB3nBG2A13jBC10D3C2HD5D1H1KB11uD-16uWF2D4A3F-7C9D-17c1E4D4B3d1D2CA6B2B-13qlwzJF2NC2C-13E-11ND1A3xqUA8UE6bsrrF-7C-22ia1D2CF2H1E2akCD2OE1HH1dlKA6PA5jcyfzB-22cXB4f1C3qvdiC4gjGG2H2gklC3D-16wJC1UG4dgaWE2D5G4g1I2H3B7vkqrxH1H2EC9C3E4gdgzKF1OA1A5PF5C4WWC3VA6XA4e1E3YA2YA5HE4oGH4F2H2IB10D3D2NC5G1B1qWA9PD6PG5fQA13A10XA4C4A3e1H2BA17kC-22cmOB1lmoA2fyhcptwWA3RA8A-13xB-11nf1I3f1B7GB3aD3pavFC10D5gLF2OG1LSB2D9E7fQC1F4F3wpSB5XD3NkklhhaE-11naKA9BnIA6D1F5bQA3A10c1QC6Kjkvitc2B6BE3AF3E2DA6A4JD2IC1jgA-64MB11D6C4==")))),c=e.$box.find("> div:last"),u=c.find("> a"),void("rtl"==e.opts.direction&&c.css("left","auto").css("right",0)))}function l(){var n=e.opts.key||[""];"string"==typeof n&&(n=[n]),e.ul=!0;for(var i=0;i<n.length;i++){var o=f(n[i])||"";if(!(o!==f(t(f("mcVRDoB1BGILD7YFe1BTXBA7B6==")))&&o.indexOf(h,o.length-h.length)<0&&[f("9qqG-7amjlwq=="),f("KA3B3C2A6D1D5H5H1A3==")].indexOf(h)<0)){e.ul=!1;break}}e.ul===!0&&a(),e.events.on("contentChanged",function(){e.ul===!0&&s()&&a()}),e.events.on("destroy",function(){c&&c.length&&c.remove()},!0)}var c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",h=function(){for(var e=0,t=document.domain,n=t.split("."),i="_gd"+(new Date).getTime();e<n.length-1&&-1==document.cookie.indexOf(i+"="+i);)t=n.slice(-1-++e).join("."),document.cookie=i+"="+i+";domain="+t+";";return document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}(),f=t(n);return{_init:l}},e.FE.ENTER_P=0,e.FE.ENTER_DIV=1,e.FE.ENTER_BR=2,e.FE.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221},e.extend(e.FE.DEFAULTS,{enter:e.FE.ENTER_P,multiLine:!0,tabSpaces:0}),e.FE.MODULES.keys=function(t){function n(){if(t.helpers.isIOS()){var n=navigator.userAgent.match("CriOS"),i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);if(!n&&!i){var o=e(t.o_win).scrollTop();t.events.disableBlur(),t.selection.save(),t.$el.blur(),t.selection.restore(),t.events.enableBlur(),e(t.o_win).scrollTop(o)}}}function i(e){e.preventDefault(),e.stopPropagation(),t.opts.multiLine&&(t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter()),n()}function o(e){e.preventDefault(),e.stopPropagation(),t.opts.multiLine&&(t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter(!0))}function r(e){t.selection.isCollapsed()?t.cursor.backspace()||(e.preventDefault(),e.stopPropagation(),S=!1):(e.preventDefault(),e.stopPropagation(),t.selection.remove(),t.html.fillEmptyBlocks(),S=!1),t.placeholder.refresh()}function s(e){e.preventDefault(),e.stopPropagation(),""===t.selection.text()?t.cursor.del():t.selection.remove(),t.placeholder.refresh()}function a(n){if(t.browser.mozilla){n.preventDefault(),n.stopPropagation(),t.selection.isCollapsed()||t.selection.remove(),t.markers.insert();var i=t.$el.find(".fr-marker").get(0),o=i.previousSibling,r=i.nextSibling;!r&&i.parentNode&&"A"==i.parentNode.tagName?(e(i).parent().after("&nbsp;"+e.FE.MARKERS),e(i).remove()):(o&&o.nodeType==Node.TEXT_NODE&&1==o.textContent.length&&160==o.textContent.charCodeAt(0)?e(o).after(" "):e(i).before("&nbsp;"),e(i).replaceWith(e.FE.MARKERS)),t.selection.restore()}}function l(){if(t.browser.mozilla&&t.selection.isCollapsed()&&!k){var e=t.selection.ranges(0),n=e.startContainer,i=e.startOffset;n&&n.nodeType==Node.TEXT_NODE&&i<=n.textContent.length&&i>0&&32==n.textContent.charCodeAt(i-1)&&(t.selection.save(),t.spaces.normalize(),t.selection.restore())}}function c(){t.selection.isFull()&&setTimeout(function(){var n=t.html.defaultTag();n?t.$el.html("<"+n+">"+e.FE.MARKERS+"<br/></"+n+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),t.placeholder.refresh(),t.button.bulkRefresh(),t.undo.saveStep()},0)}function u(e){if(t.opts.tabSpaces>0)if(t.selection.isCollapsed()){e.preventDefault(),e.stopPropagation();for(var n="",i=0;i<t.opts.tabSpaces;i++)n+="&nbsp;";t.html.insert(n),t.placeholder.refresh()}else e.preventDefault(),e.stopPropagation(),e.shiftKey?t.commands.outdent():t.commands.indent()}function d(e){k=!1}function h(){return k}function f(n){t.events.disableBlur(),S=!0;var l=n.which;if(16===l)return!0;if(229===l)return k=!0,!0;k=!1;var c=b(l)&&!v(n),d=l==e.FE.KEYCODE.BACKSPACE||l==e.FE.KEYCODE.DELETE;if((t.selection.isFull()&&!t.opts.keepFormatOnDelete&&!t.placeholder.isVisible()||d&&t.placeholder.isVisible()&&t.opts.keepFormatOnDelete)&&(c||d)){var h=t.html.defaultTag();if(h?t.$el.html("<"+h+">"+e.FE.MARKERS+"<br/></"+h+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),!b(l))return n.preventDefault(),!0}l==e.FE.KEYCODE.ENTER?n.shiftKey?o(n):i(n):l!=e.FE.KEYCODE.BACKSPACE||v(n)||n.altKey||t.placeholder.isVisible()?l!=e.FE.KEYCODE.DELETE||v(n)||n.altKey||t.placeholder.isVisible()?l==e.FE.KEYCODE.SPACE?a(n):l==e.FE.KEYCODE.TAB?u(n):v(n)||!b(n.which)||t.selection.isCollapsed()||t.selection.remove():s(n):r(n),t.events.enableBlur()}function p(n){for(var i=0;i<n.length;i++)n[i].nodeType==Node.TEXT_NODE&&/\u200B/gi.test(n[i].textContent)?(n[i].textContent=n[i].textContent.replace(/\u200B/gi,""),0===n[i].textContent.length&&e(n[i]).remove()):n[i].nodeType==Node.ELEMENT_NODE&&"IFRAME"!=n[i].nodeType&&p(t.node.contents(n[i]))}function m(){if(!t.$wp)return!0;var n;t.opts.height||t.opts.heightMax?(n=t.position.getBoundingRect().top,t.helpers.isIOS()&&(n-=e(t.o_win).scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n>t.$wp.offset().top-e(t.o_win).scrollTop()+t.$wp.height()-20&&t.$wp.scrollTop(n+t.$wp.scrollTop()-(t.$wp.height()+t.$wp.offset().top)+e(t.o_win).scrollTop()+20)):(n=t.position.getBoundingRect().top,t.opts.toolbarBottom&&(n+=t.opts.toolbarStickyOffset),t.helpers.isIOS()&&(n-=e(t.o_win).scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n+=t.opts.toolbarStickyOffset,n>t.o_win.innerHeight-20&&e(t.o_win).scrollTop(n+e(t.o_win).scrollTop()-t.o_win.innerHeight+20),n=t.position.getBoundingRect().top,t.opts.toolbarBottom||(n-=t.opts.toolbarStickyOffset),t.helpers.isIOS()&&(n-=e(t.o_win).scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n<t.$tb.height()+20&&e(t.o_win).scrollTop(n+e(t.o_win).scrollTop()-t.$tb.height()-20))}function g(n){if(k)return!1;if(!t.selection.isCollapsed())return!0;if(n&&(n.which===e.FE.KEYCODE.META||n.which==e.FE.KEYCODE.CTRL))return!0;n&&(n.which==e.FE.KEYCODE.ENTER||n.which==e.FE.KEYCODE.BACKSPACE||n.which>=37&&n.which<=40&&!t.browser.msie)&&(n.which==e.FE.KEYCODE.BACKSPACE&&S||m());var i=t.$el.find(t.html.blockTagsQuery());i.push(t.$el.get(0));for(var o=[],r=0;r<i.length;r++)if(["TD","TH"].indexOf(i[r].tagName)<0)for(var s=i[r].children,a=0;a<s.length;a++)"BR"==s[a].tagName&&o.push(s[a]);for(var i=[],r=0;r<o.length;r++){var l=o[r],c=l.previousSibling,u=l.nextSibling,d=t.node.blockParent(l)||t.$el.get(0);c&&d&&"BR"!=c.tagName&&!t.node.isBlock(c)&&!u&&e(d).text().replace(/\u200B/g,"").length>0&&e(c).text().length>0&&(t.$el.is(d)&&!u&&t.opts.enter==e.FE.ENTER_BR&&t.browser.msie||(t.selection.save(),e(l).remove(),t.selection.restore()))}o=[];var h=function(t){if(!t)return!1;var n=e(t).html();return n=n.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""),!!(n&&/\u200B/.test(n)&&n.replace(/\u200B/gi,"").length>0)},f=function(e){var n=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return!t.helpers.isIOS()||0===((e.textContent||"").match(n)||[]).length},g=t.selection.element();h(g)&&0===e(g).find("li").length&&!e(g).hasClass("fr-marker")&&"IFRAME"!=g.tagName&&f(g)&&(t.selection.save(),p(t.node.contents(g)),t.selection.restore()),!t.browser.mozilla&&t.html.doNormalize()&&(t.selection.save(),t.spaces.normalize(),t.selection.restore())}function v(e){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(e.metaKey&&!e.altKey)return!0}else if(e.ctrlKey&&!e.altKey)return!0;return!1}function b(n){if(n>=e.FE.KEYCODE.ZERO&&n<=e.FE.KEYCODE.NINE)return!0;if(n>=e.FE.KEYCODE.NUM_ZERO&&n<=e.FE.KEYCODE.NUM_MULTIPLY)return!0;if(n>=e.FE.KEYCODE.A&&n<=e.FE.KEYCODE.Z)return!0;if(t.browser.webkit&&0===n)return!0;switch(n){case e.FE.KEYCODE.SPACE:case e.FE.KEYCODE.QUESTION_MARK:case e.FE.KEYCODE.NUM_PLUS:case e.FE.KEYCODE.NUM_MINUS:case e.FE.KEYCODE.NUM_PERIOD:case e.FE.KEYCODE.NUM_DIVISION:case e.FE.KEYCODE.SEMICOLON:case e.FE.KEYCODE.FF_SEMICOLON:case e.FE.KEYCODE.DASH:case e.FE.KEYCODE.EQUALS:case e.FE.KEYCODE.FF_EQUALS:case e.FE.KEYCODE.COMMA:case e.FE.KEYCODE.PERIOD:case e.FE.KEYCODE.SLASH:case e.FE.KEYCODE.APOSTROPHE:case e.FE.KEYCODE.SINGLE_QUOTE:case e.FE.KEYCODE.OPEN_SQUARE_BRACKET:case e.FE.KEYCODE.BACKSLASH:case e.FE.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function y(n){var i=n.which;return!!(v(n)||i>=37&&40>=i||!b(i)&&i!=e.FE.KEYCODE.DELETE&&i!=e.FE.KEYCODE.BACKSPACE&&i!=e.FE.KEYCODE.ENTER)||(E||(T=t.snapshot.get()),clearTimeout(E),void(E=setTimeout(function(){E=null,t.undo.saveStep()},Math.max(250,t.opts.typingTimer))))}function w(e){return!!v(e)||void(T&&E&&(t.undo.saveStep(T),T=null))}function x(){E&&(clearTimeout(E),t.undo.saveStep(),T=null)}function C(){if(t.events.on("keydown",y),t.events.on("input",l),t.events.on("keyup",w),t.events.on("keypress",d),t.events.on("keydown",f),t.events.on("keyup",g),t.events.on("html.inserted",g),t.events.on("cut",c),t.$el.get(0).msGetInputContext)try{t.$el.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",function(){k=!0}),t.$el.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",function(){k=!1,g()})}catch(e){}}var S,E,T,k=!1;return{_init:C,ctrlKey:v,isCharacter:b,forceUndo:x,isIME:h}},e.extend(e.FE.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col"],pasteDeniedAttrs:["class","id","style"],pasteAllowLocalImages:!1}),e.FE.MODULES.paste=function(t){function n(n){e.FE.copied_html=t.html.getSelected(),e.FE.copied_text=e("<div>").html(e.FE.copied_html).text(),"cut"==n.type&&(t.undo.saveStep(),setTimeout(function(){t.html.wrap(),t.events.focus(),t.undo.saveStep()},0))}function i(e){if(p)return!1;if(e.originalEvent&&(e=e.originalEvent),t.events.trigger("paste.before",[e])===!1)return!1;if(d=t.$win.scrollTop(),e&&e.clipboardData&&e.clipboardData.getData){var n="",i=e.clipboardData.types;if(t.helpers.isArray(i))for(var r=0;r<i.length;r++)n+=i[r]+";";else n=i;if(h="",/text\/html/.test(n)?h=e.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&t.browser.safari?h=e.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(h=t.html.escapeEntities(e.clipboardData.getData("text/plain")).replace(/\n/g,"<br>")),""!==h)return a(),e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1;h=null}o()}function o(){t.selection.save(),t.events.disableBlur(),h=null,f?f.html(""):(f=e('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 9999; line-height: 140%;" tabindex="-1"></div>'),t.$box.after(f),t.events.on("destroy",function(){f.remove()})),f.focus(),t.win.setTimeout(a,1)}function r(n){n=n.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),n=n.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),n=n.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),n=n.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),n=n.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),n=n.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),n=n.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),n=n.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),n=n.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),n=n.replace(/<!--[\s\S]*?-->/gi,""),n=n.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var i=["style","script","applet","embed","noframes","noscript"],o=0;o<i.length;o++){var r=new RegExp("<"+i[o]+".*?"+i[o]+"(.*?)>","gi");n=n.replace(r,"")}n=n.replace(/&nbsp;/gi," "),n=n.replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>"),n=n.replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");var s;do s=n,n=n.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(n!=s);n=n.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),n=n.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),n=t.clean.html(n,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),n=n.replace(/<a>(.[^<]+)<\/a>/gi,"$1");var a=e("<div>").html(n);return a.find("li[data-indent]").each(function(t,n){var i=e(n);if(i.prev("li").length>0){var o=i.prev("li").find("> ul, > ol");0===o.length&&(o=e("ul"),i.prev("li").append(o)),o.append(n)}else i.removeAttr("data-indent")}),t.html.cleanBlankSpaces(a.get(0)),n=a.html()}function s(n){var i=e("<div>").html(n);i.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(function(n,i){e(i).replaceWith("<"+(t.html.defaultTag()||"DIV")+">"+e(i).html()+"</"+(t.html.defaultTag()||"DIV")+">")}),e(i.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img").get().reverse()).each(function(){e(this).replaceWith(e(this).html())});var o=function(n){for(var i=t.node.contents(n),r=0;r<i.length;r++)3!=i[r].nodeType&&1!=i[r].nodeType?e(i[r]).remove():o(i[r])};return o(i.get(0)),i.html()}function a(){t.keys.forceUndo();var n=t.snapshot.get();null===h&&(h=f.html(),t.selection.restore(),t.events.enableBlur());var i=t.events.chainTrigger("paste.beforeCleanup",h);if("string"==typeof i&&(h=i),h.indexOf("<body")>=0&&(h=h.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1")),h.indexOf('id="docs-internal-guid')>=0&&(h=h.replace(/^.* id="docs-internal-guid[^>]*>(.*)<\/b>.*$/,"$1")),h.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi)?(h=h.replace(/^\n*/g,"").replace(/^ /g,""),0===h.indexOf("<colgroup>")&&(h="<table>"+h+"</table>"),h=r(h),h=c(h)):(t.opts.htmlAllowComments=!1,h=t.clean.html(h,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),t.opts.htmlAllowComments=!0,h=c(h),h=h.replace(/\r|\n|\t/g,""),e.FE.copied_text&&e("<div>").html(h).text().replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")==e.FE.copied_text.replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")&&(h=e.FE.copied_html),h=h.replace(/^ */g,"").replace(/ *$/g,"")),t.opts.pastePlain&&(h=s(h)),i=t.events.chainTrigger("paste.afterCleanup",h),"string"==typeof i&&(h=i),""!==h){var o=e("<div>").html(h);t.spaces.normalize(o.get(0)),o.find("span").each(function(){0==this.attributes.length&&e(this).replaceWith(this.innerHTML)}),o.find("br").each(function(){this.previousSibling&&t.node.isBlock(this.previousSibling)&&e(this).remove()}),h=o.html(),t.html.insert(h,!0)}l(),t.undo.saveStep(n),t.undo.saveStep()}function l(){t.events.trigger("paste.after")}function c(n){for(var i,o=e("<div>").html(n),r=o.find("*:empty:not(br, img, td, th)");r.length;){for(i=0;i<r.length;i++)e(r[i]).remove();r=o.find("*:empty:not(br, img, td, th)")}for(var s=o.find("> div:not([style]), td > div, th > div, li > div");s.length&&i++<100;){var a=e(s[s.length-1]);t.html.defaultTag()&&"div"!=t.html.defaultTag()?a.replaceWith("<"+t.html.defaultTag()+">"+a.html()+"</"+t.html.defaultTag()+">"):a.find("*:last").is("br")?a.replaceWith(a.html()):a.replaceWith(a.html()+"<br>"),s=o.find("> div:not([style]), td > div, th > div, li > div")}for(s=o.find("div:not([style])");s.length;){for(i=0;i<s.length;i++){var l=e(s[i]),c=l.html().replace(/\u0009/gi,"").trim();l.replaceWith(c)}s=o.find("div:not([style])")}return o.html()}function u(){t.events.on("copy",n),t.events.on("cut",n),t.events.on("paste",i),t.browser.msie&&t.browser.version<11&&(t.events.on("mouseup",function(e){2==e.button&&(setTimeout(function(){p=!1},50),p=!0)},!0),t.events.on("beforepaste",i))}var d,h,f,p=!1;return{_init:u}},e.extend(e.FE.DEFAULTS,{shortcutsEnabled:["show","bold","italic","underline","strikeThrough","indent","outdent","undo","redo"],shortcutsHint:!0}),e.FE.SHORTCUTS_MAP={},e.FE.RegisterShortcut=function(t,n,i,o,r,s){e.FE.SHORTCUTS_MAP[(r?"^":"")+(s?"@":"")+t]={cmd:n,val:i,letter:o,shift:r,option:s},e.FE.DEFAULTS.shortcutsEnabled.push(n)},e.FE.RegisterShortcut(e.FE.KEYCODE.E,"show",null,"E",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.B,"bold",null,"B",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.I,"italic",null,"I",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.U,"underline",null,"U",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.S,"strikeThrough",null,"S",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.CLOSE_SQUARE_BRACKET,"indent",null,"]",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.OPEN_SQUARE_BRACKET,"outdent",null,"[",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"undo",null,"Z",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"redo",null,"Z",!0,!1),e.FE.MODULES.shortcuts=function(t){function n(n){if(!t.opts.shortcutsHint)return null;if(!r){r={};for(var i in e.FE.SHORTCUTS_MAP)e.FE.SHORTCUTS_MAP.hasOwnProperty(i)&&t.opts.shortcutsEnabled.indexOf(e.FE.SHORTCUTS_MAP[i].cmd)>=0&&(r[e.FE.SHORTCUTS_MAP[i].cmd+"."+(e.FE.SHORTCUTS_MAP[i].val||"")]={shift:e.FE.SHORTCUTS_MAP[i].shift,option:e.FE.SHORTCUTS_MAP[i].option,letter:e.FE.SHORTCUTS_MAP[i].letter})}var o=r[n];return o?(t.helpers.isMac()?String.fromCharCode(8984):"Ctrl+")+(o.shift?t.helpers.isMac()?String.fromCharCode(8679):"Shift+":"")+(o.option?t.helpers.isMac()?String.fromCharCode(8997):"Alt+":"")+o.letter:null}function i(n){if(!t.core.hasFocus())return!0;var i=n.which,o=-1!=navigator.userAgent.indexOf("Mac OS X")?n.metaKey:n.ctrlKey,r=(n.shiftKey?"^":"")+(n.altKey?"@":"")+i;if(o&&e.FE.SHORTCUTS_MAP[r]){var s=e.FE.SHORTCUTS_MAP[r].cmd;if(s&&t.opts.shortcutsEnabled.indexOf(s)>=0){var a,l=e.FE.SHORTCUTS_MAP[r].val;if(s&&!l?a=t.$tb.find('.fr-command[data-cmd="'+s+'"]'):s&&l&&(a=t.$tb.find('.fr-command[data-cmd="'+s+'"][data-param1="'+l+'"]')),a.length)return n.preventDefault(),n.stopPropagation(),a.parents(".fr-toolbar").data("instance",t),"keydown"==n.type&&t.button.exec(a),!1;if(s&&t.commands[s])return n.preventDefault(),n.stopPropagation(),"keydown"==n.type&&t.commands[s](),!1}}}function o(){t.events.on("keydown",i,!0),t.events.on("keyup",i,!0)}var r=null;return{_init:o,get:n}},e.FE.MODULES.snapshot=function(e){function t(e){for(var t=e.parentNode.childNodes,n=0,i=null,o=0;o<t.length;o++){if(i){var r=t[o].nodeType===Node.TEXT_NODE&&""===t[o].textContent,s=i.nodeType===Node.TEXT_NODE&&t[o].nodeType===Node.TEXT_NODE;r||s||n++}if(t[o]==e)return n;i=t[o]}}function n(n){var i=[];if(!n.parentNode)return[];for(;!e.node.isElement(n);)i.push(t(n)),n=n.parentNode;return i.reverse()}function i(e,t){for(;e&&e.nodeType===Node.TEXT_NODE;){var n=e.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&(t+=n.textContent.length),e=n}return t}function o(e){return{scLoc:n(e.startContainer),scOffset:i(e.startContainer,e.startOffset),ecLoc:n(e.endContainer),ecOffset:i(e.endContainer,e.endOffset)}}function r(){var t={};if(e.events.trigger("snapshot.before"),t.html=e.$wp?e.$el.html():e.$oel.get(0).outerHTML,t.ranges=[],e.$wp&&e.selection.inEditor()&&e.core.hasFocus())for(var n=e.selection.ranges(),i=0;i<n.length;i++)t.ranges.push(o(n[i]));return e.events.trigger("snapshot.after"),t}function s(t){for(var n=e.$el.get(0),i=0;i<t.length;i++)n=n.childNodes[t[i]];return n}function a(t,n){try{var i=s(n.scLoc),o=n.scOffset,r=s(n.ecLoc),a=n.ecOffset,l=e.doc.createRange();l.setStart(i,o),l.setEnd(r,a),t.addRange(l)}catch(c){}}function l(t){e.$el.html()!=t.html&&e.$el.html(t.html);var n=e.selection.get();e.selection.clear(),e.events.focus(!0);for(var i=0;i<t.ranges.length;i++)a(n,t.ranges[i])}function c(t,n){return t.html==n.html&&(!e.core.hasFocus()||JSON.stringify(t.ranges)==JSON.stringify(n.ranges))}return{get:r,restore:l,equal:c}},e.FE.MODULES.undo=function(e){function t(t){var n=t.which,i=e.keys.ctrlKey(t);i&&(90==n&&t.shiftKey&&t.preventDefault(),90==n&&t.preventDefault())}function n(){return!(0===e.undo_stack.length||e.undo_index<=1)}function i(){return e.undo_index!=e.undo_stack.length}function o(t){return!(!e.undo_stack||e.undoing||e.$el.get(0).querySelectorAll(".fr-marker").length)&&void("undefined"==typeof t?(t=e.snapshot.get(),e.undo_stack[e.undo_index-1]&&e.snapshot.equal(e.undo_stack[e.undo_index-1],t)||(r(),e.undo_stack.push(t),e.undo_index++,t.html!=d&&(e.events.trigger("contentChanged"),d=t.html))):(r(),e.undo_index>0?e.undo_stack[e.undo_index-1]=t:(e.undo_stack.push(t),e.undo_index++)))}function r(){if(!e.undo_stack||e.undoing)return!1;for(;e.undo_stack.length>e.undo_index;)e.undo_stack.pop()}function s(){if(e.undo_index>1){e.undoing=!0;var t=e.undo_stack[--e.undo_index-1];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.undo"),e.undoing=!1}}function a(){if(e.undo_index<e.undo_stack.length){e.undoing=!0;var t=e.undo_stack[e.undo_index++];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.redo"),e.undoing=!1}}function l(){e.undo_index=0,e.undo_stack=[]}function c(){e.undo_stack=[]}function u(){l(),e.events.on("initialized",function(){d=e.html.get(!1,!0)}),e.events.on("blur",function(){e.undo.saveStep()}),e.events.on("keydown",t),e.events.on("destroy",c)}var d=null;return{_init:u,run:s,redo:a,canDo:n,canRedo:i,dropRedo:r,reset:l,saveStep:o}},e.FE.ICON_DEFAULT_TEMPLATE="font_awesome",e.FE.ICON_TEMPLATES={font_awesome:'<i class="fa fa-[NAME]"></i>',text:'<span style="text-align: center;">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />"},e.FE.ICONS={bold:{NAME:"bold"},italic:{NAME:"italic"},underline:{NAME:"underline"},strikeThrough:{NAME:"strikethrough"},subscript:{NAME:"subscript"},superscript:{NAME:"superscript"},color:{NAME:"tint"},outdent:{NAME:"outdent"},indent:{NAME:"indent"},undo:{NAME:"rotate-left"},redo:{NAME:"rotate-right"},insertHR:{NAME:"minus"},clearFormatting:{NAME:"eraser"},selectAll:{NAME:"mouse-pointer"}},e.FE.DefineIconTemplate=function(t,n){e.FE.ICON_TEMPLATES[t]=n},e.FE.DefineIcon=function(t,n){e.FE.ICONS[t]=n},e.FE.MODULES.icon=function(t){function n(t){var n=null,i=e.FE.ICONS[t];if("undefined"!=typeof i){var o=i.template||e.FE.ICON_DEFAULT_TEMPLATE;o&&(o=e.FE.ICON_TEMPLATES[o])&&(n=o.replace(/\[([a-zA-Z]*)\]/g,function(e,n){return"NAME"==n?i[n]||t:i[n]}))}return n||t}return{create:n}},e.FE.MODULES.tooltip=function(t){function n(){t.$tooltip&&t.$tooltip.removeClass("fr-visible").css("left","-3000px").css("position","fixed")}function i(n,i){if(n.data("title")||n.data("title",n.attr("title")),!n.data("title"))return!1;t.$tooltip||r(),n.removeAttr("title"),t.$tooltip.text(n.data("title")),t.$tooltip.addClass("fr-visible");var o=n.offset().left+(n.outerWidth()-t.$tooltip.outerWidth())/2;0>o&&(o=0),o+t.$tooltip.outerWidth()>e(t.o_win).width()&&(o=e(t.o_win).width()-t.$tooltip.outerWidth()),"undefined"==typeof i&&(i=t.opts.toolbarBottom);var s=i?n.offset().top-t.$tooltip.height():n.offset().top+n.outerHeight();t.$tooltip.css("position",""),t.$tooltip.css("left",o),t.$tooltip.css("top",s)}function o(o,r,s){t.helpers.isMobile()||(t.events.$on(o,"mouseenter",r,function(n){e(n.currentTarget).hasClass("fr-disabled")||t.edit.isDisabled()||i(e(n.currentTarget),s)},!0),t.events.$on(o,"mouseleave "+t._mousedown+" "+t._mouseup,r,function(e){n()},!0))}function r(){t.helpers.isMobile()||(t.shared.$tooltip?t.$tooltip=t.shared.$tooltip:(t.shared.$tooltip=e('<div class="fr-tooltip"></div>'),t.$tooltip=t.shared.$tooltip,t.opts.theme&&t.$tooltip.addClass(t.opts.theme+"-theme"),e(t.o_doc).find("body").append(t.$tooltip)),t.events.on("shared.destroy",function(){t.$tooltip.html("").removeData().remove(),t.$tooltip=null},!0))}return{hide:n,to:i,bind:o}},e.FE.MODULES.button=function(t){function n(n){var i=e(n.currentTarget),o=i.next(),r=i.hasClass("fr-active"),s=(t.helpers.isMobile(),e(".fr-dropdown.fr-active").not(i)),a=i.parents(".fr-toolbar, .fr-popup").data("instance")||t;if(a.helpers.isIOS()&&0==a.$el.get(0).querySelectorAll(".fr-marker").length&&(a.selection.save(),a.selection.clear(),a.selection.restore()),!r){var l=i.data("cmd");o.find(".fr-command").removeClass("fr-active"),e.FE.COMMANDS[l]&&e.FE.COMMANDS[l].refreshOnShow&&e.FE.COMMANDS[l].refreshOnShow.apply(a,[i,o]),o.css("left",i.offset().left-i.parent().offset().left-("rtl"==t.opts.direction?o.width()-i.outerWidth():0)),t.opts.toolbarBottom?o.css("bottom",t.$tb.height()-i.position().top):o.css("top",i.position().top+i.outerHeight())}i.addClass("fr-blink").toggleClass("fr-active"),setTimeout(function(){i.removeClass("fr-blink")},300),o.offset().left+o.outerWidth()>e(t.opts.scrollableContainer).offset().left+e(t.opts.scrollableContainer).outerWidth()&&o.css("margin-left",-(o.offset().left+o.outerWidth()-e(t.opts.scrollableContainer).offset().left-e(t.opts.scrollableContainer).outerWidth())),s.removeClass("fr-active"),s.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),0!=i.parents(".fr-popup").length||t.opts.toolbarInline||(i.hasClass("fr-active")?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):t.$tb.css("zIndex",""))}function i(t){t.addClass("fr-blink"),setTimeout(function(){t.removeClass("fr-blink")},500);
for(var n=t.data("cmd"),i=[];"undefined"!=typeof t.data("param"+(i.length+1));)i.push(t.data("param"+(i.length+1)));var o=e(".fr-dropdown.fr-active");o.length&&(o.removeClass("fr-active"),o.parent(".fr-toolbar:not(.fr-inline)").css("zIndex","")),t.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(n,i)}function o(t){var n=e(t.currentTarget);i(n)}function r(t){var i=e(t.currentTarget),r=i.parents(".fr-popup, .fr-toolbar").data("instance");if(0!=i.parents(".fr-popup").length||i.data("popup")||r.popups.hideAll(),r.popups.areVisible()&&!r.popups.areVisible(r)){for(var s=0;s<e.FE.INSTANCES.length;s++)e.FE.INSTANCES[s]!=r&&e.FE.INSTANCES[s].popups&&e.FE.INSTANCES[s].popups.areVisible()&&e.FE.INSTANCES[s].$el.find(".fr-marker").remove();r.popups.hideAll()}i.hasClass("fr-dropdown")?n(t):(o(t),e.FE.COMMANDS[i.data("cmd")]&&0!=e.FE.COMMANDS[i.data("cmd")].refreshAfterCallback&&r.button.bulkRefresh())}function s(e){var t=e.find(".fr-dropdown.fr-active");t.length&&(t.removeClass("fr-active"),t.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""))}function a(e){e.preventDefault(),e.stopPropagation()}function l(e){return e.stopPropagation(),!!t.helpers.isMobile()&&void 0}function c(n,i){t.events.bindClick(n,".fr-command:not(.fr-disabled)",r),t.events.$on(n,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu",a,!0),t.events.$on(n,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu .fr-dropdown-wrapper",l,!0);var o=n.get(0).ownerDocument,c="defaultView"in o?o.defaultView:o.parentWindow,u=function(i){(!i||i.type==t._mouseup&&i.target!=e("html").get(0)||"keydown"==i.type&&(t.keys.isCharacter(i.which)&&!t.keys.ctrlKey(i)||i.which==e.FE.KEYCODE.ESC))&&s(n)};t.events.$on(e(c),t._mouseup+" resize keydown",u,!0),t.opts.iframe&&t.events.$on(t.$win,t._mouseup,u,!0),n.hasClass("fr-popup")?e.merge(y,n.find(".fr-btn").toArray()):e.merge(b,n.find(".fr-btn").toArray()),t.tooltip.bind(n,".fr-btn, .fr-title",i)}function u(e,n){var i="";if(n.html)i+="function"==typeof n.html?n.html.call(t):n.html;else{var o=n.options;"function"==typeof o&&(o=o()),i+='<ul class="fr-dropdown-list">';for(var r in o)if(o.hasOwnProperty(r)){var s=t.shortcuts.get(e+"."+r);s=s?'<span class="fr-shortcut">'+s+"</span>":"",i+='<li><a class="fr-command" data-cmd="'+e+'" data-param1="'+r+'" title="'+o[r]+'">'+t.language.translate(o[r])+"</a></li>"}i+="</ul>"}return i}function d(e,n,i){var o=n.displaySelection;"function"==typeof o&&(o=o(t));var r;if(o){var s="function"==typeof n.defaultSelection?n.defaultSelection(t):n.defaultSelection;r='<span style="width:'+(n.displaySelectionWidth||100)+'px">'+(s||t.language.translate(n.title))+"</span>"}else r=t.icon.create(n.icon||e);var a=n.popup?' data-popup="true"':"",l=t.shortcuts.get(e+".");l=l?" ("+l+")":"";var c='<button type="button" tabindex="-1" aria-label="'+(t.language.translate(n.title)||"")+'" title="'+(t.language.translate(n.title)||"")+l+'" class="fr-command fr-btn'+("dropdown"==n.type?" fr-dropdown":"")+(n.displaySelection?" fr-selection":"")+(n.back?" fr-back":"")+(n.disabled?" fr-disabled":"")+(i?"":" fr-hidden")+'" data-cmd="'+e+'"'+a+">"+r+"</button>";if("dropdown"==n.type){var d='<div class="fr-dropdown-menu"><div class="fr-dropdown-wrapper"><div class="fr-dropdown-content">';d+=u(e,n),d+="</div></div></div>",c+=d}return c}function h(n,i){for(var o="",r=0;r<n.length;r++){var s=n[r],a=e.FE.COMMANDS[s];if(!(a&&"undefined"!=typeof a.plugin&&t.opts.pluginsEnabled.indexOf(a.plugin)<0))if(a){var l="undefined"==typeof i||i.indexOf(s)>=0;o+=d(s,a,l)}else"|"==s?o+='<div class="fr-separator fr-vs"></div>':"-"==s&&(o+='<div class="fr-separator fr-hs"></div>')}return o}function f(n){var i,o=n.parents(".fr-popup, .fr-toolbar").data("instance")||t,r=n.data("cmd");n.hasClass("fr-dropdown")?i=n.next():n.removeClass("fr-active"),e.FE.COMMANDS[r]&&e.FE.COMMANDS[r].refresh?e.FE.COMMANDS[r].refresh.apply(o,[n,i]):t.refresh[r]&&o.refresh[r](n,i)}function p(n){var i=t.$tb?t.$tb.data("instance")||t:t;return 0==t.events.trigger("buttons.refresh")||void setTimeout(function(){for(var t=i.selection.inEditor()&&i.core.hasFocus(),o=0;o<n.length;o++){var r=e(n[o]),s=r.data("cmd");0==r.parents(".fr-popup").length?t||e.FE.COMMANDS[s]&&e.FE.COMMANDS[s].forcedRefresh?i.button.refresh(r):r.hasClass("fr-dropdown")||r.removeClass("fr-active"):r.parents(".fr-popup").is(":visible")&&i.button.refresh(r)}},0)}function m(){p(b),p(y)}function g(){b=[],y=[]}function v(){t.opts.toolbarInline?t.events.on("toolbar.show",m):(t.events.on("mouseup",m),t.events.on("keyup",m),t.events.on("blur",m),t.events.on("focus",m),t.events.on("contentChanged",m)),t.events.on("shared.destroy",g)}var b=[];(t.opts.toolbarInline||t.opts.toolbarContainer)&&(t.shared.buttons||(t.shared.buttons=[]),b=t.shared.buttons);var y=[];return t.shared.popup_buttons||(t.shared.popup_buttons=[]),y=t.shared.popup_buttons,{_init:v,buildList:h,bindCommands:c,refresh:f,bulkRefresh:m,exec:i}},e.FE.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},e.FE.RegisterTemplate=function(t,n){e.FE.POPUP_TEMPLATES[t]=n},e.FE.MODULES.popups=function(t){function n(n,i){i.is(":visible")||(i=e(t.opts.scrollableContainer)),i.is(S[n].data("container"))||(S[n].data("container",i),i.append(S[n]))}function i(i,o,a,l){if(s()&&t.$el.find(".fr-marker").length>0&&(t.events.disableBlur(),t.selection.restore()),h([i]),!S[i])return!1;e(".fr-dropdown.fr-active").removeClass("fr-active").parent(".fr-toolbar").css("zIndex",""),S[i].data("instance",t),t.$tb&&t.$tb.data("instance",t);var c=S[i].outerWidth(),u=(S[i].outerHeight(),r(i));S[i].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var d=S[i].data("container");d.is(t.$tb)&&t.$tb.css("zIndex",(t.opts.zIndex||1)+4),t.opts.toolbarInline&&d&&t.$tb&&d.get(0)==t.$tb.get(0)&&(n(i,e(t.opts.scrollableContainer)),a=t.$tb.offset().top-t.helpers.getPX(t.$tb.css("margin-top")),o=t.$tb.offset().left+t.$tb.outerWidth()/2+(parseFloat(t.$tb.find(".fr-arrow").css("margin-left"))||0)+t.$tb.find(".fr-arrow").outerWidth()/2,t.$tb.hasClass("fr-above")&&a&&(a+=t.$tb.outerHeight()),l=0),d=S[i].data("container"),!t.opts.iframe||l||u||(o&&(o-=t.$iframe.offset().left),a&&(a-=t.$iframe.offset().top)),o&&(o-=c/2),t.opts.toolbarBottom&&d&&t.$tb&&d.get(0)==t.$tb.get(0)&&(S[i].addClass("fr-above"),a&&(a-=S[i].outerHeight())),S[i].removeClass("fr-active"),t.position.at(o,a,S[i],l||0),S[i].addClass("fr-active");var f=S[i].find("input:visible, textarea:visible").get(0);f&&(0==t.$el.find(".fr-marker").length&&t.core.hasFocus()&&t.selection.save(),t.events.disableBlur(),e(f).select().focus()),t.opts.toolbarInline&&t.toolbar.hide(),t.events.trigger("popups.show."+i),b(i)._repositionPopup()}function o(e,n){t.events.on("popups.show."+e,n)}function r(e){return S[e]&&S[e].hasClass("fr-active")&&t.core.sameInstance(S[e])||!1}function s(e){for(var t in S)if(S.hasOwnProperty(t)&&r(t)&&("undefined"==typeof e||S[t].data("instance")==e))return!0;return!1}function a(e){S[e]&&S[e].hasClass("fr-active")&&(S[e].removeClass("fr-active fr-above"),t.events.trigger("popups.hide."+e),t.$tb&&(t.opts.zIndex>1?t.$tb.css("zIndex",t.opts.zIndex+1):t.$tb.css("zIndex","")),t.events.disableBlur(),S[e].find("input, textarea, button").filter(":focus").blur(),S[e].find("input, textarea").attr("disabled","disabled"))}function l(e,n){t.events.on("popups.hide."+e,n)}function c(e){var n=S[e];if(n&&!n.data("inst"+t.id)){var i=b(e);y(i,e)}return n}function u(e,n){t.events.on("popups.refresh."+e,n)}function d(n){t.events.trigger("popups.refresh."+n);for(var i=S[n].find(".fr-command"),o=0;o<i.length;o++){var r=e(i[o]);0==r.parents(".fr-dropdown-menu").length&&t.button.refresh(r)}}function h(e){"undefined"==typeof e&&(e=[]);for(var t in S)S.hasOwnProperty(t)&&e.indexOf(t)<0&&a(t)}function f(){t.shared.exit_flag=!0}function p(){t.shared.exit_flag=!1}function m(){return t.shared.exit_flag}function g(n,i){var o=e.FE.POPUP_TEMPLATES[n];"function"==typeof o&&(o=o.apply(t));for(var r in i)i.hasOwnProperty(r)&&(o=o.replace("[_"+r.toUpperCase()+"_]",i[r]));return o}function v(n,i){var o=g(n,i),r=e('<div class="fr-popup'+(t.helpers.isMobile()?" fr-mobile":" fr-desktop")+(t.opts.toolbarInline?" fr-inline":"")+'"><span class="fr-arrow"></span>'+o+"</div>");t.opts.theme&&r.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+2),"auto"!=t.opts.direction&&r.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),r.find("input, textarea").attr("dir",t.opts.direction).attr("disabled","disabled");var s=e("body");return s.append(r),r.data("container",s),S[n]=r,t.button.bindCommands(r,!1),r}function b(n){var i=S[n];return{_windowResize:function(){var e=i.data("instance")||t;!e.helpers.isMobile()&&i.is(":visible")&&(e.events.disableBlur(),e.popups.hide(n),e.events.enableBlur())},_inputFocus:function(n){var o=i.data("instance")||t;if(n.preventDefault(),setTimeout(function(){o.events.enableBlur()},0),o.helpers.isMobile()){var r=e(o.o_win).scrollTop();setTimeout(function(){e(o.o_win).scrollTop(r)},0)}},_inputBlur:function(n){var o=i.data("instance")||t;document.activeElement!=this&&e(this).is(":visible")&&(o.events.blurActive()&&o.events.trigger("blur"),o.events.enableBlur())},_inputKeydown:function(o){var s=i.data("instance")||t,a=o.which;if(e.FE.KEYCODE.TAB==a){o.preventDefault();var l=i.find("input, textarea, button, select").filter(":visible").not(":disabled").toArray();l.sort(function(t,n){return o.shiftKey?e(t).attr("tabIndex")<e(n).attr("tabIndex"):e(t).attr("tabIndex")>e(n).attr("tabIndex")}),s.events.disableBlur();var c=l.indexOf(this)+1;c==l.length&&(c=0),e(l[c]).focus()}else if(e.FE.KEYCODE.ENTER==a)i.find(".fr-submit:visible").length>0&&(o.preventDefault(),o.stopPropagation(),s.events.disableBlur(),s.button.exec(i.find(".fr-submit:visible:first")));else{if(e.FE.KEYCODE.ESC==a)return o.preventDefault(),o.stopPropagation(),s.$el.find(".fr-marker")&&(s.events.disableBlur(),e(this).data("skip",!0),s.selection.restore(),s.events.enableBlur()),r(n)&&i.find(".fr-back:visible").length?s.button.exec(i.find(".fr-back:visible:first")):s.popups.hide(n),s.opts.toolbarInline&&s.toolbar.showInline(null,!0),!1;o.stopPropagation()}},_windowKeydown:function(o){if(!t.core.sameInstance(i))return!0;var s=i.data("instance")||t,a=o.which;if(e.FE.KEYCODE.ESC==a){if(r(n)&&s.opts.toolbarInline)return o.stopPropagation(),r(n)&&i.find(".fr-back:visible").length?s.button.exec(i.find(".fr-back:visible:first")):(s.popups.hide(n),s.toolbar.showInline(null,!0)),!1;r(n)&&i.find(".fr-back:visible").length?s.button.exec(i.find(".fr-back:visible:first")):s.popups.hide(n)}},_editorKeydown:function(o){var s=i.data("instance")||t;s.keys.ctrlKey(o)||o.which==e.FE.KEYCODE.ESC||(r(n)&&i.find(".fr-back:visible").length?s.button.exec(i.find(".fr-back:visible:first")):s.popups.hide(n))},_preventFocus:function(n){var o=i.data("instance")||t;o.events.disableBlur();var r=n.originalEvent?n.originalEvent.target||n.originalEvent.originalTarget:null,s="input, textarea, button, select, label, .fr-command";return r&&!e(r).is(s)&&0===e(r).parents(s).length?(n.stopPropagation(),!1):void(r&&e(r).is(s)&&n.stopPropagation())},_editorMouseup:function(e){i.is(":visible")&&m()&&i.find("input:focus, textarea:focus, button:focus, select:focus").filter(":visible").length>0&&t.events.disableBlur()},_windowMouseup:function(e){if(!t.core.sameInstance(i))return!0;var o=i.data("instance")||t;i.is(":visible")&&m()&&(e.stopPropagation(),o.markers.remove(),o.popups.hide(n),p())},_doPlaceholder:function(t){var n=e(this).next();0==n.length&&e(this).after("<label>"+e(this).attr("placeholder")+"</label>"),e(this).toggleClass("fr-not-empty",""!=e(this).val())},_repositionPopup:function(o){if(!t.opts.height&&!t.opts.heightMax||t.opts.toolbarInline)return!0;if(t.$wp&&r(n)&&i.parent().get(0)==e(t.opts.scrollableContainer).get(0)){var s=i.offset().top-t.$wp.offset().top,a=t.$wp.outerHeight();i.hasClass("fr-above")&&(s+=i.outerHeight()),s>a||0>s?i.addClass("fr-hidden"):i.removeClass("fr-hidden")}}}}function y(e,n){t.events.on("mouseup",e._editorMouseup,!0),t.$wp&&t.events.on("keydown",e._editorKeydown),t.events.on("blur",function(e){s()&&t.markers.remove(),h()}),t.$wp&&!t.helpers.isMobile()&&t.events.$on(t.$wp,"scroll.popup"+n,e._repositionPopup),t.events.on("window.keydown",e._windowKeydown),t.events.on("window.mouseup",e._windowMouseup,!0),S[n].data("inst"+t.id,!0),t.events.on("destroy",function(){t.core.sameInstance(S[n])&&S[n].removeClass("fr-active").appendTo("body")},!0)}function w(n,i){var o=v(n,i),r=b(n);return y(r,n),t.events.$on(o,"mousedown mouseup touchstart touchend touch","*",r._preventFocus,!0),t.events.$on(o,"focus","input, textarea, button, select",r._inputFocus,!0),t.events.$on(o,"blur","input, textarea, button, select",r._inputBlur,!0),t.events.$on(o,"keydown","input, textarea, button, select",r._inputKeydown,!0),t.events.$on(o,"keydown keyup change input","input, textarea",r._doPlaceholder,!0),t.helpers.isIOS()&&t.events.$on(o,"touchend","label",function(){e("#"+e(this).attr("for")).prop("checked",function(e,t){return!t})},!0),t.events.$on(e(t.o_win),"resize",r._windowResize,!0),o}function x(){for(var e in S)if(S.hasOwnProperty(e)){var t=S[e];t.html("").removeData().remove(),S[e]=null}S=[]}function C(){t.events.on("shared.destroy",x,!0),t.events.on("window.mousedown",f),t.events.on("window.touchmove",p),t.events.on("mousedown",function(e){s()&&(e.stopPropagation(),t.$el.find(".fr-marker").remove(),f(),t.events.disableBlur())})}t.shared.popups||(t.shared.popups={});var S=t.shared.popups;return t.shared.exit_flag=!1,{_init:C,create:w,get:c,show:i,hide:a,onHide:l,hideAll:h,setContainer:n,refresh:d,onRefresh:u,onShow:o,isVisible:r,areVisible:s}},e.FE.MODULES.position=function(t){function n(){var n,i=t.selection.ranges(0);if(i&&i.collapsed&&t.selection.inEditor()){var o=!1;0==t.$el.find(".fr-marker").length&&(t.selection.save(),o=!0);var r=t.$el.find(".fr-marker:first");r.css("display","inline"),r.css("line-height","");var s=r.offset(),a=r.outerHeight();r.css("display","none"),r.css("line-height",0),n={},n.left=s.left,n.width=0,n.height=a,n.top=s.top-(t.helpers.isIOS()?0:e(t.o_win).scrollTop()),n.right=1,n.bottom=1,n.ok=!0,o&&t.selection.restore()}else i&&(n=i.getBoundingClientRect());return n}function i(n,i,o){var r=n.outerHeight();if(!t.helpers.isMobile()&&t.$tb&&n.parent().get(0)!=t.$tb.get(0)){var s=(n.parent().height()-20-(t.opts.toolbarBottom?t.$tb.outerHeight():0),n.parent().offset().top),a=i-r-(o||0);n.parent().get(0)==e(t.opts.scrollableContainer).get(0)&&(s-=n.parent().position().top);var l=e(t.opts.scrollableContainer).get(0).scrollHeight;s+i+r>e(t.opts.scrollableContainer).offset().top+l&&n.parent().offset().top+a>0?(i=a,n.addClass("fr-above")):n.removeClass("fr-above")}return i}function o(n,i){var o=n.outerWidth();return n.parent().offset().left+i+o>t.helpers.getPX(e(t.opts.scrollableContainer).css("left"))+e(t.opts.scrollableContainer).width()-10&&(i=e(t.opts.scrollableContainer).width()-o-10-n.parent().offset().left+e(t.opts.scrollableContainer).offset().left),n.parent().offset().left+i<e(t.opts.scrollableContainer).offset().left&&(i=10-n.parent().offset().left+e(t.opts.scrollableContainer).offset().left),i}function r(i){var o=n();i.css("top",0).css("left",0);var r=o.top+o.height,a=o.left+o.width/2-i.outerWidth()/2+e(t.o_win).scrollLeft();t.opts.iframe||(r+=e(t.o_win).scrollTop()),s(a,r,i,o.height)}function s(e,n,r,s){var a=r.data("container");a&&"BODY"!=a.get(0).tagName&&(e&&(e-=a.offset().left),n&&(n-=a.offset().top-a.scrollTop())),t.opts.iframe&&a&&t.$tb&&a.get(0)!=t.$tb.get(0)&&(e&&(e+=t.$iframe.offset().left),n&&(n+=t.$iframe.offset().top));var l=o(r,e);if(e){r.css("left",l);var c=r.find(".fr-arrow");c.data("margin-left")||c.data("margin-left",t.helpers.getPX(c.css("margin-left"))),c.css("margin-left",e-l+c.data("margin-left"))}n&&r.css("top",i(r,n,s))}function a(n){var i=e(n),o=i.is(".fr-sticky-on"),r=i.data("sticky-top"),s=i.data("sticky-scheduled");if("undefined"==typeof r){i.data("sticky-top",0);var a=e('<div class="fr-sticky-dummy" style="height: '+i.outerHeight()+'px;"></div>');t.$box.prepend(a)}else t.$box.find(".fr-sticky-dummy").css("height",i.outerHeight());if(t.core.hasFocus()||t.$tb.find("input:visible:focus").length>0){var l=e(window).scrollTop(),c=Math.min(Math.max(l-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-i.outerHeight());c!=r&&c!=s&&(clearTimeout(i.data("sticky-timeout")),i.data("sticky-scheduled",c),i.outerHeight()<l-t.$tb.parent().offset().top&&i.addClass("fr-opacity-0"),i.data("sticky-timeout",setTimeout(function(){var n=e(window).scrollTop(),o=Math.min(Math.max(n-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-i.outerHeight());o>0&&"BODY"==t.$tb.parent().get(0).tagName&&(o+=t.$tb.parent().position().top),o!=r&&(i.css("top",Math.max(o,0)),i.data("sticky-top",o),i.data("sticky-scheduled",o)),i.removeClass("fr-opacity-0")},100))),o||(i.css("top","0"),i.width(t.$tb.parent().width()),i.addClass("fr-sticky-on"),t.$box.addClass("fr-sticky-box"))}else clearTimeout(e(n).css("sticky-timeout")),i.css("top","0"),i.css("position",""),i.width(""),i.data("sticky-top",0),i.removeClass("fr-sticky-on"),t.$box.removeClass("fr-sticky-box")}function l(n){if(n.offsetWidth){var i,o,r=e(n),s=r.outerHeight(),a=r.data("sticky-position"),l=e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer).outerHeight(),c=0,u=0;"body"!==t.opts.scrollableContainer&&(c=e(t.opts.scrollableContainer).offset().top,u=e(t.o_win).outerHeight()-c-l);var d="body"==t.opts.scrollableContainer?e(t.o_win).scrollTop():c,h=r.is(".fr-sticky-on");r.data("sticky-parent")||r.data("sticky-parent",r.parent());var f=r.data("sticky-parent"),p=f.offset().top,m=f.outerHeight();if(r.data("sticky-offset")||(r.data("sticky-offset",!0),r.after('<div class="fr-sticky-dummy" style="height: '+s+'px;"></div>')),!a){var g="auto"!==r.css("top")||"auto"!==r.css("bottom");g||r.css("position","fixed"),a={top:r.hasClass("fr-top"),bottom:r.hasClass("fr-bottom")},g||r.css("position",""),r.data("sticky-position",a),r.data("top",r.hasClass("fr-top")?r.css("top"):"auto"),r.data("bottom",r.hasClass("fr-bottom")?r.css("bottom"):"auto")}var v=function(){return d+i>p&&p+m-s>=d+i},b=function(){return d+l-o>p+s&&p+m>d+l-o};i=t.helpers.getPX(r.data("top")),o=t.helpers.getPX(r.data("bottom"));var y=a.top&&v(),w=a.bottom&&b();y||w?(r.css("width",f.width()+"px"),h||(r.addClass("fr-sticky-on"),r.removeClass("fr-sticky-off"),r.css("top")&&("auto"!=r.data("top")?r.css("top",t.helpers.getPX(r.data("top"))+c):r.data("top","auto")),r.css("bottom")&&("auto"!=r.data("bottom")?r.css("bottom",t.helpers.getPX(r.data("bottom"))+u):r.css("bottom","auto")))):r.hasClass("fr-sticky-off")||(r.width(""),r.removeClass("fr-sticky-on"),r.addClass("fr-sticky-off"),r.css("top")&&"auto"!=r.css("top")&&r.css("top",0),r.css("bottom")&&r.css("bottom",0))}}function c(){var e=document.createElement("test"),n=e.style;return n.cssText="position:"+["-webkit-","-moz-","-ms-","-o-",""].join("sticky; position:")+" sticky;",-1!==n.position.indexOf("sticky")&&!t.helpers.isIOS()&&!t.helpers.isAndroid()}function u(){if(!c())if(t._stickyElements=[],t.helpers.isIOS()){var n=function(){t.helpers.requestAnimationFrame()(n);for(var e=0;e<t._stickyElements.length;e++)a(t._stickyElements[e])};n(),t.events.$on(e(t.o_win),"scroll",function(){if(t.core.hasFocus())for(var n=0;n<t._stickyElements.length;n++){var i=e(t._stickyElements[n]),o=i.parent(),r=e(window).scrollTop();i.outerHeight()<r-o.offset().top&&(i.addClass("fr-opacity-0"),i.data("sticky-top",-1),i.data("sticky-scheduled",-1))}},!0)}else t.events.$on(e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer),"scroll",d,!0),t.events.$on(e(t.o_win),"resize",d,!0),t.events.on("initialized",d),t.events.on("focus",d),t.events.$on(e(t.o_win),"resize","textarea",d,!0);t.events.on("destroy",function(e){t._stickyElements=[]})}function d(){for(var e=0;e<t._stickyElements.length;e++)l(t._stickyElements[e])}function h(e){e.addClass("fr-sticky"),t.helpers.isIOS()&&e.addClass("fr-sticky-ios"),c()||t._stickyElements.push(e.get(0))}function f(){u()}return{_init:f,forSelection:r,addSticky:h,refresh:d,at:s,getBoundingRect:n}},e.FE.MODULES.refresh=function(t){function n(e){e.toggleClass("fr-disabled",!t.undo.canDo())}function i(e){e.toggleClass("fr-disabled",!t.undo.canRedo())}function o(e){if(e.hasClass("fr-no-refresh"))return!1;for(var n=t.selection.blocks(),i=0;i<n.length;i++){for(var o=n[i].previousSibling;o&&o.nodeType==Node.TEXT_NODE&&0===o.textContent.length;)o=o.previousSibling;if("LI"!=n[i].tagName||o)return e.removeClass("fr-disabled"),!0;e.addClass("fr-disabled")}}function r(n){if(n.hasClass("fr-no-refresh"))return!1;for(var i=t.selection.blocks(),o=0;o<i.length;o++){var r="rtl"==t.opts.direction||"rtl"==e(i[o]).css("direction")?"margin-right":"margin-left";if("LI"==i[o].tagName||"LI"==i[o].parentNode.tagName)return n.removeClass("fr-disabled"),!0;if(t.helpers.getPX(e(i[o]).css(r))>0)return n.removeClass("fr-disabled"),!0}n.addClass("fr-disabled")}return{undo:n,redo:i,outdent:r,indent:o}},e.extend(e.FE.DEFAULTS,{editInPopup:!1}),e.FE.MODULES.textEdit=function(t){function n(){var e='<div id="fr-text-edit-'+t.id+'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="'+t.language.translate("Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>",n={edit:e};t.popups.create("text.edit",n)}function i(){var n,i=t.popups.get("text.edit");n="INPUT"===t.$el.prop("tagName")?t.$el.attr("placeholder"):t.$el.text(),i.find("input").val(n).trigger("change"),t.popups.setContainer("text.edit",e("body")),t.popups.show("text.edit",t.$el.offset().left+t.$el.outerWidth()/2,t.$el.offset().top+t.$el.outerHeight(),t.$el.outerHeight())}function o(){t.events.$on(t.$el,t._mouseup,function(e){setTimeout(function(){i()},10)})}function r(){var e=t.popups.get("text.edit"),n=e.find("input").val();0==n.length&&(n=t.opts.placeholderText),"INPUT"===t.$el.prop("tagName")?t.$el.attr("placeholder",n):t.$el.text(n),t.events.trigger("contentChanged"),t.popups.hide("text.edit")}function s(){t.opts.editInPopup&&(n(),o())}return{_init:s,update:r}},e.FE.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.textEdit.update()}}),e.extend(e.FE.DEFAULTS,{toolbarBottom:!1,toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting","selectAll","html","applyFormat","removeFormat"],toolbarButtonsXS:["bold","italic","fontFamily","fontSize","|","undo","redo"],toolbarButtonsSM:["bold","italic","underline","|","fontFamily","fontSize","insertLink","insertImage","table","|","undo","redo"],toolbarButtonsMD:["fullscreen","bold","italic","underline","fontFamily","fontSize","color","paragraphStyle","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting"],toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1}),e.FE.MODULES.toolbar=function(t){function n(e,t){for(var n=0;n<t.length;n++)"-"!=t[n]&&"|"!=t[n]&&e.indexOf(t[n])<0&&e.push(t[n])}function i(){var i=e.merge([],o());n(i,t.opts.toolbarButtonsXS||[]),n(i,t.opts.toolbarButtonsSM||[]),n(i,t.opts.toolbarButtonsMD||[]),n(i,t.opts.toolbarButtons);for(var r=i.length-1;r>=0;r--)"-"!=i[r]&&"|"!=i[r]&&i.indexOf(i[r])<r&&i.splice(r,1);var s=t.button.buildList(i,o());t.$tb.append(s),t.button.bindCommands(t.$tb)}function o(){var e=t.helpers.screenSize();return w[e]}function r(){var e=o();t.$tb.find(".fr-separator").remove(),t.$tb.find("> .fr-command").addClass("fr-hidden");for(var n=0;n<e.length;n++)if("|"==e[n]||"-"==e[n])t.$tb.append(t.button.buildList([e[n]]));else{var i=t.$tb.find('> .fr-command[data-cmd="'+e[n]+'"]'),r=null;i.next().hasClass("fr-dropdown-menu")&&(r=i.next()),i.removeClass("fr-hidden").appendTo(t.$tb),r&&r.appendTo(t.$tb)}}function s(){t.events.$on(e(t.o_win),"resize",r,!0),t.events.$on(e(t.o_win),"orientationchange",r,!0)}function a(n,i){setTimeout(function(){if(n&&n.which==e.FE.KEYCODE.ESC);else if(t.selection.inEditor()&&t.core.hasFocus()&&!t.popups.areVisible()&&(t.opts.toolbarVisibleWithoutSelection&&n&&"keyup"!=n.type||!t.selection.isCollapsed()&&!t.keys.isIME()||i)){if(t.$tb.data("instance",t),0==t.events.trigger("toolbar.show",[n]))return!1;t.opts.toolbarContainer||t.position.forSelection(t.$tb),t.$tb.show()}},0)}function l(n){var i=e(".fr-dropdown.fr-active");return!!i.next().find(t.o_doc.activeElement).length||0!=t.events.trigger("toolbar.hide")&&void t.$tb.hide()}function c(){return 0!=t.events.trigger("toolbar.show")&&void t.$tb.show()}function u(){t.events.on("window.mousedown",l),t.events.on("keydown",l),t.events.on("blur",l),t.events.on("window.mouseup",a),t.helpers.isMobile()?t.helpers.isIOS()||(t.events.on("window.touchend",a),t.browser.mozilla&&setInterval(a,200)):t.events.on("window.keyup",a),t.events.on("keydown",function(t){t&&t.which==e.FE.KEYCODE.ESC&&l()}),t.events.$on(t.$wp,"scroll.toolbar",a),t.events.on("commands.after",a),t.helpers.isMobile()&&(t.events.$on(t.$doc,"selectionchange",a),t.events.$on(t.$doc,"orientationchange",a))}function d(){t.opts.toolbarInline?(e(t.opts.scrollableContainer).append(t.$tb),t.$tb.data("container",e(t.opts.scrollableContainer)),t.$tb.addClass("fr-inline"),t.$tb.prepend('<span class="fr-arrow"></span>'),u(),t.opts.toolbarBottom=!1):(t.opts.toolbarBottom&&!t.helpers.isIOS()?(t.$box.append(t.$tb),t.$tb.addClass("fr-bottom"),t.$box.addClass("fr-bottom")):(t.opts.toolbarBottom=!1,t.$box.prepend(t.$tb),t.$tb.addClass("fr-top"),t.$box.addClass("fr-top")),t.$tb.addClass("fr-basic"),t.opts.toolbarSticky&&(t.opts.toolbarStickyOffset&&(t.opts.toolbarBottom?t.$tb.css("bottom",t.opts.toolbarStickyOffset):t.$tb.css("top",t.opts.toolbarStickyOffset)),t.position.addSticky(t.$tb)))}function h(){t.$tb.html("").removeData().remove(),t.$tb=null}function f(){t.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),t.$box.find(".fr-sticky-dummy").remove()}function p(){t.opts.theme&&t.$tb.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+1),"auto"!=t.opts.direction&&t.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.helpers.isMobile()?t.$tb.addClass("fr-mobile"):t.$tb.addClass("fr-desktop"),t.opts.toolbarContainer?(t.opts.toolbarInline&&(u(),l()),t.opts.toolbarBottom?t.$tb.addClass("fr-bottom"):t.$tb.addClass("fr-top")):d(),b=t.$tb.get(0).ownerDocument,y="defaultView"in b?b.defaultView:b.parentWindow,i(),s(),t.events.$on(t.$tb,t._mousedown+" "+t._mouseup,function(e){var n=e.originalEvent?e.originalEvent.target||e.originalEvent.originalTarget:null;return n&&"INPUT"!=n.tagName&&!t.edit.isDisabled()?(e.stopPropagation(),e.preventDefault(),!1):void 0},!0)}function m(){return!!t.$wp&&(t.opts.toolbarContainer?(t.shared.$tb?(t.$tb=t.shared.$tb,t.opts.toolbarInline&&u()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,e(t.opts.toolbarContainer).append(t.$tb),p(),t.$tb.data("instance",t)),t.opts.toolbarInline?t.$box.addClass("fr-inline"):t.$box.addClass("fr-basic"),t.events.on("focus",function(){t.$tb.data("instance",t)},!0),t.opts.toolbarInline=!1):t.opts.toolbarInline?(t.$box.addClass("fr-inline"),t.shared.$tb?(t.$tb=t.shared.$tb,u()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,p())):(t.$box.addClass("fr-basic"),t.$tb=e('<div class="fr-toolbar"></div>'),p(),t.$tb.data("instance",t)),t.events.on("destroy",f,!0),void t.events.on(t.opts.toolbarInline?"shared.destroy":"destroy",h,!0))}function g(){!x&&t.$tb&&(t.$tb.find("> .fr-command").addClass("fr-disabled fr-no-refresh"),x=!0)}function v(){x&&t.$tb&&(t.$tb.find("> .fr-command").removeClass("fr-disabled fr-no-refresh"),x=!1),t.button.bulkRefresh()}var b,y,w=[];w[e.FE.XS]=t.opts.toolbarButtonsXS||t.opts.toolbarButtons,w[e.FE.SM]=t.opts.toolbarButtonsSM||t.opts.toolbarButtons,w[e.FE.MD]=t.opts.toolbarButtonsMD||t.opts.toolbarButtons,w[e.FE.LG]=t.opts.toolbarButtons;var x=!1;return{_init:m,hide:l,show:c,showInline:a,disable:g,enable:v}}}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),e.FE.PLUGINS.fontFamily=function(t){function n(e){t.format.applyStyle("font-family",e)}function i(e,t){t.find(".fr-command.fr-active").removeClass("fr-active"),t.find('.fr-command[data-param1="'+s()+'"]').addClass("fr-active");var n=t.find(".fr-dropdown-list"),i=t.find(".fr-active").parent();i.length?n.parent().scrollTop(i.offset().top-n.offset().top-(n.parent().outerHeight()/2-i.outerHeight()/2)):n.parent().scrollTop(0)}function o(t){var n=t.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'| /g,"").split(",");return e.grep(n,function(e){return e.length>0})}function r(e,t){for(var n=0;n<e.length;n++)for(var i=0;i<t.length;i++)if(e[n]==t[i])return[n,i];return null}function s(){var n=e(t.selection.element()).css("font-family"),i=o(n),s=[];for(var a in t.opts.fontFamily)if(t.opts.fontFamily.hasOwnProperty(a)){var l=o(a),c=r(i,l);c&&s.push([a,c])}return 0===s.length?null:(s.sort(function(e,t){var n=e[1][0]-t[1][0];return 0===n?e[1][1]-t[1][1]:n}),s[0][0])}function a(n){if(t.opts.fontFamilySelection){var i=e(t.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'|/g,"").split(",");n.find("> span").text(t.opts.fontFamily[s()]||i[0]||t.opts.fontFamilyDefaultSelection)}}return{apply:n,refreshOnShow:i,refresh:a}},e.FE.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(e){return e.opts.fontFamilySelection},defaultSelection:function(e){return e.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.fontFamily;for(var n in t)t.hasOwnProperty(n)&&(e+='<li><a class="fr-command" data-cmd="fontFamily" data-param1="'+n+'" style="font-family: '+n+'" title="'+t[n]+'">'+t[n]+"</a></li>");return e+="</ul>"},title:"Font Family",callback:function(e,t){this.fontFamily.apply(t)},refresh:function(e){this.fontFamily.refresh(e)},refreshOnShow:function(e,t){this.fontFamily.refreshOnShow(e,t)},plugin:"fontFamily"}),e.FE.DefineIcon("fontFamily",{NAME:"font"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"12"}),e.FE.PLUGINS.fontSize=function(t){function n(e){t.format.applyStyle("font-size",e)}function i(n,i){var o=e(t.selection.element()).css("font-size");i.find(".fr-command.fr-active").removeClass("fr-active"),i.find('.fr-command[data-param1="'+o+'"]').addClass("fr-active");var r=i.find(".fr-dropdown-list"),s=i.find(".fr-active").parent();s.length?r.parent().scrollTop(s.offset().top-r.offset().top-(r.parent().outerHeight()/2-s.outerHeight()/2)):r.parent().scrollTop(0);
}function o(n){if(t.opts.fontSizeSelection){var i=t.helpers.getPX(e(t.selection.element()).css("font-size"));n.find("> span").text(i)}}return{apply:n,refreshOnShow:i,refresh:o}},e.FE.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(e){return e.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(e){return e.opts.fontSizeDefaultSelection},html:function(){for(var e='<ul class="fr-dropdown-list">',t=this.opts.fontSize,n=0;n<t.length;n++){var i=t[n];e+='<li><a class="fr-command" data-cmd="fontSize" data-param1="'+i+'px" title="'+i+'">'+i+"</a></li>"}return e+="</ul>"},callback:function(e,t){this.fontSize.apply(t)},refresh:function(e){this.fontSize.refresh(e)},refreshOnShow:function(e,t){this.fontSize.refreshOnShow(e,t)},plugin:"fontSize"}),e.FE.DefineIcon("fontSize",{NAME:"text-height"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),e.extend(e.FE.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUploadURL:"https://i.froala.com/upload",imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif","svg+xml"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1}),e.FE.PLUGINS.image=function(t){function n(){var e=t.popups.get("image.insert"),n=e.find(".fr-image-by-url-layer input");n.val(""),ge&&n.val(ge.attr("src")),n.trigger("change")}function i(){var e=t.$tb.find('.fr-command[data-cmd="insertImage"]'),n=t.popups.get("image.insert");if(n||(n=R()),v(),!n.hasClass("fr-active"))if(t.popups.refresh("image.insert"),t.popups.setContainer("image.insert",t.$tb),e.is(":visible")){var i=e.offset().left+e.outerWidth()/2,o=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("image.insert",i,o,e.outerHeight())}else t.position.forSelection(n),t.popups.show("image.insert")}function o(){var n=t.popups.get("image.edit");n||(n=m()),t.popups.setContainer("image.edit",e(t.opts.scrollableContainer)),t.popups.refresh("image.edit");var i=ge.offset().left+ge.outerWidth()/2,o=ge.offset().top+ge.outerHeight();t.popups.show("image.edit",i,o,ge.outerHeight())}function r(){v()}function s(e){if(!e.hasClass("fr-dii")&&!e.hasClass("fr-dib")){var n=e.css("float");e.css("float","none"),"block"==e.css("display")?(e.css("float",n),t.opts.imageEditButtons.indexOf("imageAlign")>=0&&(0===parseInt(e.css("margin-left"),10)&&(e.attr("style")||"").indexOf("margin-right: auto")>=0?e.addClass("fr-fil"):0===parseInt(e.css("margin-right"),10)&&(e.attr("style")||"").indexOf("margin-left: auto")>=0&&e.addClass("fr-fir")),e.addClass("fr-dib")):(e.css("float",n),t.opts.imageEditButtons.indexOf("imageAlign")>=0&&("left"==e.css("float")?e.addClass("fr-fil"):"right"==e.css("float")&&e.addClass("fr-fir")),e.addClass("fr-dii")),e.css("margin",""),e.css("float",""),e.css("display",""),e.css("z-index",""),e.css("position",""),e.css("overflow",""),e.css("vertical-align","")}}function a(){for(var n="IMG"==t.$el.get(0).tagName?[t.$el.get(0)]:t.$el.get(0).querySelectorAll("img"),i=0;i<n.length;i++){var o=e(n[i]);(t.opts.imageEditButtons.indexOf("imageAlign")>=0||t.opts.imageEditButtons.indexOf("imageDisplay")>=0)&&s(o),o.attr("width")&&(o.css("width",o.width()),o.removeAttr("width")),t.opts.imageTextNear||o.removeClass("fr-dii").addClass("fr-dib"),t.opts.iframe&&o.on("load",t.size.syncIframe)}}function l(){var n,i=Array.prototype.slice.call(t.$el.get(0).querySelectorAll("img")),o=[];for(n=0;n<i.length;n++)o.push(i[n].getAttribute("src")),e(i[n]).toggleClass("fr-draggable",t.opts.imageMove),""===i[n].className&&i[n].removeAttribute("class"),""===i[n].getAttribute("style")&&i[n].removeAttribute("style");if(Ne)for(n=0;n<Ne.length;n++)o.indexOf(Ne[n].getAttribute("src"))<0&&t.events.trigger("image.removed",[e(Ne[n])]);Ne=i}function c(){ve||K();var n=t.$wp||e(t.opts.scrollableContainer);n.append(ve),ve.data("instance",t);var i=n.scrollTop()-("static"!=n.css("position")?n.offset().top:0),o=n.scrollLeft()-("static"!=n.css("position")?n.offset().left:0);o-=t.helpers.getPX(n.css("border-left-width")),i-=t.helpers.getPX(n.css("border-top-width")),ve.css("top",(t.opts.iframe?ge.offset().top:ge.offset().top+i)-1).css("left",(t.opts.iframe?ge.offset().left:ge.offset().left+o)-1).css("width",ge.get(0).getBoundingClientRect().width).css("height",ge.get(0).getBoundingClientRect().height).addClass("fr-active")}function u(e){return'<div class="fr-handler fr-h'+e+'"></div>'}function d(n){if(!t.core.sameInstance(ve))return!0;if(n.preventDefault(),n.stopPropagation(),t.$el.find("img.fr-error").left)return!1;t.undo.canDo()||t.undo.saveStep(),be=e(this),be.data("start-x",n.pageX||n.originalEvent.touches[0].pageX),be.data("start-width",ge.width()),be.data("start-height",ge.height());var i=ge.width();if(t.opts.imageResizeWithPercent){var o=ge.parentsUntil(t.$el,t.html.blockTagsQuery()).get(0)||t.$el.get(0);ge.css("width",(i/e(o).outerWidth()*100).toFixed(2)+"%")}else ge.css("width",i);ye.show(),t.popups.hideAll(),oe()}function h(n){if(!t.core.sameInstance(ve))return!0;if(be&&ge){if(n.preventDefault(),t.$el.find("img.fr-error").left)return!1;var i=n.pageX||(n.originalEvent.touches?n.originalEvent.touches[0].pageX:null);if(!i)return!1;var o=be.data("start-x"),r=i-o,s=be.data("start-width");if((be.hasClass("fr-hnw")||be.hasClass("fr-hsw"))&&(r=0-r),t.opts.imageResizeWithPercent){var a=ge.parentsUntil(t.$el,t.html.blockTagsQuery()).get(0)||t.$el.get(0);s=((s+r)/e(a).outerWidth()*100).toFixed(2),t.opts.imageRoundPercent&&(s=Math.round(s)),ge.css("width",s+"%"),ge.css("height","").removeAttr("height")}else s+r>=t.opts.imageMinWidth&&ge.css("width",s+r),ge.css("height",be.data("start-height")*ge.width()/be.data("start-width"));c(),t.events.trigger("image.resize",[pe()])}}function f(e){if(!t.core.sameInstance(ve))return!0;if(be&&ge){if(e&&e.stopPropagation(),t.$el.find("img.fr-error").left)return!1;be=null,ye.hide(),c(),o(),t.undo.saveStep(),t.events.trigger("image.resizeEnd",[pe()])}}function p(e,n){t.edit.on(),ge&&ge.addClass("fr-error"),y(t.language.translate("Something went wrong. Please try again.")),t.events.trigger("image.error",[{code:e,message:Ae[e]},n])}function m(e){if(e)return t.$wp&&t.events.$on(t.$wp,"scroll",function(){ge&&t.popups.isVisible("image.edit")&&o()}),!0;var n="";t.opts.imageEditButtons.length>0&&(n+='<div class="fr-buttons">',n+=t.button.buildList(t.opts.imageEditButtons),n+="</div>");var i={buttons:n},r=t.popups.create("image.edit",i);return r}function g(n){var i=t.popups.get("image.insert");if(i||(i=R()),i.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),i.find(".fr-image-progress-bar-layer").addClass("fr-active"),i.find(".fr-buttons").hide(),ge){t.popups.setContainer("image.insert",e(t.opts.scrollableContainer));var o=ge.offset().left+ge.width()/2,r=ge.offset().top+ge.height();t.popups.show("image.insert",o,r,ge.outerHeight())}"undefined"==typeof n&&b("Uploading",0)}function v(e){var n=t.popups.get("image.insert");n&&(n.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),n.find(".fr-image-progress-bar-layer").removeClass("fr-active"),n.find(".fr-buttons").show(),(e||t.$el.find("img.fr-error").length)&&(t.events.focus(),t.$el.find("img.fr-error").remove(),t.undo.saveStep(),t.undo.run(),t.undo.dropRedo()))}function b(e,n){var i=t.popups.get("image.insert");if(i){var o=i.find(".fr-image-progress-bar-layer");o.find("h3").text(e+(n?" "+n+"%":"")),o.removeClass("fr-error"),n?(o.find("div").removeClass("fr-indeterminate"),o.find("div > span").css("width",n+"%")):o.find("div").addClass("fr-indeterminate")}}function y(e){g();var n=t.popups.get("image.insert"),i=n.find(".fr-image-progress-bar-layer");i.addClass("fr-error"),i.find("h3").text(e)}function w(){var e=t.popups.get("image.insert"),n=e.find(".fr-image-by-url-layer input");n.val().length>0&&(g(),b("Loading image"),S(t.helpers.sanitizeURL(n.val()),!0,[],ge),n.val(""),n.blur())}function x(e){te.call(e.get(0))}function C(){var n=e(this);t.popups.hide("image.insert"),n.removeClass("fr-uploading"),n.next().is("br")&&n.next().remove(),x(n),t.events.trigger("image.loaded",[n])}function S(e,n,i,o,r){t.edit.off(),b("Loading image");var s=new Image;s.onload=function(){var n,s;if(o){var a=o.data("fr-old-src");t.$wp?(n=o.clone().removeData("fr-old-src").removeClass("fr-uploading"),n.off("load"),a&&o.attr("src",a),o.replaceWith(n)):n=o;for(var c=n.get(0).attributes,u=0;u<c.length;u++){var d=c[u];0===d.nodeName.indexOf("data-")&&n.removeAttr(d.nodeName)}if("undefined"!=typeof i)for(s in i)i.hasOwnProperty(s)&&"link"!=s&&n.attr("data-"+s,i[s]);n.on("load",C),n.attr("src",e),t.edit.on(),l(),t.undo.saveStep(),t.events.trigger(a?"image.replaced":"image.inserted",[n,r])}else n=N(e,i,C),l(),t.undo.saveStep(),t.events.trigger("image.inserted",[n,r])},s.onerror=function(){p(xe)},s.src=e}function E(n){try{if(t.events.trigger("image.uploaded",[n],!0)===!1)return t.edit.on(),!1;var i=e.parseJSON(n);return i.link?i:(p(Ce,n),!1)}catch(o){return p(Ee,n),!1}}function T(n){try{var i=e(n).find("Location").text(),o=e(n).find("Key").text();return t.events.trigger("image.uploadedToS3",[i,o,n],!0)===!1?(t.edit.on(),!1):i}catch(r){return p(Ee,n),!1}}function k(e){b("Loading image");var n=this.status,i=this.response,o=this.responseXML,r=this.responseText;try{if(t.opts.imageUploadToS3)if(201==n){var s=T(o);s&&S(s,!1,[],e,i||o)}else p(Ee,i||o);else if(n>=200&&300>n){var a=E(r);a&&S(a.link,!1,a,e,i||r)}else p(Se,i||r)}catch(l){p(Ee,i||r)}}function D(){p(Ee,this.response||this.responseText||this.responseXML)}function A(e){if(e.lengthComputable){var t=e.loaded/e.total*100|0;b("Uploading",t)}}function N(n,i,o){var r,s="";if(i&&"undefined"!=typeof i)for(r in i)i.hasOwnProperty(r)&&"link"!=r&&(s+=" data-"+r+'="'+i[r]+'"');var a=t.opts.imageDefaultWidth;a&&"auto"!=a&&(a+=t.opts.imageResizeWithPercent?"%":"px");var l=e('<img class="'+(t.opts.imageDefaultDisplay?"fr-di"+t.opts.imageDefaultDisplay[0]:"")+(t.opts.imageDefaultAlign&&"center"!=t.opts.imageDefaultAlign?" fr-fi"+t.opts.imageDefaultAlign[0]:"")+'" src="'+n+'"'+s+(a?' style="width: '+a+';"':"")+">");l.on("load",o),t.edit.on(),t.events.focus(!0),t.selection.restore(),t.undo.saveStep(),t.opts.imageSplitHTML?t.markers.split():t.markers.insert();var c=t.$el.find(".fr-marker");return c.replaceWith(l),t.html.wrap(),t.selection.clear(),l}function _(){t.edit.on(),v(!0)}function M(n,i,o){function r(){var o=e(this);o.off("load"),o.addClass("fr-uploading"),o.next().is("br")&&o.next().remove(),t.placeholder.refresh(),o.is(ge)||x(o),c(),g(),t.edit.off(),n.onload=function(){k.call(n,o)},n.onerror=D,n.upload.onprogress=A,n.onabort=_,o.off("abortUpload").on("abortUpload",function(){4!=n.readyState&&n.abort()}),n.send(i)}var s,a=new FileReader;a.addEventListener("load",function(){var e=a.result;if(a.result.indexOf("svg+xml")<0){for(var n=atob(a.result.split(",")[1]),i=[],o=0;o<n.length;o++)i.push(n.charCodeAt(o));e=window.URL.createObjectURL(new Blob([new Uint8Array(i)],{type:"image/jpeg"}))}ge?(ge.on("load",r),t.edit.on(),t.undo.saveStep(),ge.data("fr-old-src",ge.attr("src")),ge.attr("src",e)):s=N(e,null,r)},!1),a.readAsDataURL(o)}function F(e){if(t.events.trigger("image.beforeUpload",[e])===!1)return!1;if("undefined"!=typeof e&&e.length>0){var n=e[0];if(n.size>t.opts.imageMaxSize)return p(Te),!1;if(t.opts.imageAllowedTypes.indexOf(n.type.replace(/image\//g,""))<0)return p(ke),!1;var i;if(t.drag_support.formdata&&(i=t.drag_support.formdata?new FormData:null),i){var o;if(t.opts.imageUploadToS3!==!1){i.append("key",t.opts.imageUploadToS3.keyStart+(new Date).getTime()+"-"+(n.name||"untitled")),i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",n.type);for(o in t.opts.imageUploadToS3.params)t.opts.imageUploadToS3.params.hasOwnProperty(o)&&i.append(o,t.opts.imageUploadToS3.params[o])}for(o in t.opts.imageUploadParams)t.opts.imageUploadParams.hasOwnProperty(o)&&i.append(o,t.opts.imageUploadParams[o]);i.append(t.opts.imageUploadParam,n);var r=t.opts.imageUploadURL;t.opts.imageUploadToS3&&(r="https://"+t.opts.imageUploadToS3.region+".amazonaws.com/"+t.opts.imageUploadToS3.bucket);var s=t.core.getXHR(r,t.opts.imageUploadMethod);M(s,i,n)}}}function O(n){t.events.$on(n,"dragover dragenter",".fr-image-upload-layer",function(){return e(this).addClass("fr-drop"),!1}),t.events.$on(n,"dragleave dragend",".fr-image-upload-layer",function(){return e(this).removeClass("fr-drop"),!1}),t.events.$on(n,"drop",".fr-image-upload-layer",function(i){i.preventDefault(),i.stopPropagation(),e(this).removeClass("fr-drop");var o=i.originalEvent.dataTransfer;if(o&&o.files){var r=n.data("instance")||t;r.events.disableBlur(),r.image.upload(o.files),r.events.enableBlur()}}),t.events.$on(n,"change",'.fr-image-upload-layer input[type="file"]',function(){if(this.files){var i=n.data("instance")||t;i.events.disableBlur(),n.find("input:focus").blur(),i.events.enableBlur(),i.image.upload(this.files)}e(this).val("")})}function $(n){var i=n.originalEvent.dataTransfer;if(i&&i.files&&i.files.length){var o=i.files[0];if(o&&o.type&&t.opts.imageAllowedTypes.indexOf(o.type.replace(/image\//g,""))>=0){t.markers.remove(),t.markers.insertAtPoint(n.originalEvent),t.$el.find(".fr-marker").replaceWith(e.FE.MARKERS),t.popups.hideAll();var r=t.popups.get("image.insert");return r||(r=R()),t.popups.setContainer("image.insert",e(t.opts.scrollableContainer)),t.popups.show("image.insert",n.originalEvent.pageX,n.originalEvent.pageY),g(),F(i.files),n.preventDefault(),n.stopPropagation(),!1}}}function I(){var n,i,o=t.selection.ranges(0);o.collapsed&&o.startContainer.nodeType==Node.ELEMENT_NODE&&(o.startContainer.childNodes.length==o.startOffset?(n=o.startContainer.childNodes[o.startOffset-1],n&&"IMG"==n.tagName&&"block"==e(n).css("display")&&(i=t.node.blockParent(n),i&&t.html.defaultTag()?i.nextSibling||(["TD","TH"].indexOf(i.tagName)<0?e(i).after("<"+t.html.defaultTag()+"><br>"+e.FE.MARKERS+"</"+t.html.defaultTag()+">"):e(img).after("<br>"+e.FE.MARKERS),t.selection.restore()):i||(e(n).after("<br>"+e.FE.MARKERS),t.selection.restore()))):0===o.startOffset&&o.startContainer.childNodes.length>o.startOffset&&(n=o.startContainer.childNodes[o.startOffset],n&&"IMG"==n.tagName&&"block"==e(n).css("display")&&(i=t.node.blockParent(n),i&&t.html.defaultTag()?i.previousSibling||(["TD","TH"].indexOf(i.tagName)<0?e(i).before("<"+t.html.defaultTag()+"><br>"+e.FE.MARKERS+"</"+t.html.defaultTag()+">"):e(img).before("<br>"+e.FE.MARKERS),t.selection.restore()):i||(e(n).before(e.FE.MARKERS+"<br>"),t.selection.restore()))))}function L(){t.events.$on(t.$el,t._mousedown,"IMG"==t.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(n){return!!e(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length||(t.selection.clear(),we=!0,t.browser.msie&&(t.events.disableBlur(),t.$el.attr("contenteditable",!1)),t.draggable||n.preventDefault(),void n.stopPropagation())}),t.events.$on(t.$el,t._mouseup,"IMG"==t.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(n){return!!e(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length||void(we&&(we=!1,n.stopPropagation(),t.browser.msie&&(t.$el.attr("contenteditable",!0),t.events.enableBlur())))}),t.events.on("keyup",function(n){if(n.shiftKey&&""===t.selection.text().replace(/\n/g,"")){var i=t.selection.element(),o=t.selection.endElement();i&&"IMG"==i.tagName?x(e(i)):o&&"IMG"==o.tagName&&x(e(o))}},!0),t.events.on("drop",$),t.events.on("mousedown window.mousedown",ie),t.events.on("window.touchmove",oe),t.events.on("mouseup window.mouseup",function(){return ge?(ne(),!1):void 0}),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&ne()}),t.events.on("mouseup",I),t.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){we=!1,ne(!0)})}function R(e){if(e)return t.popups.onRefresh("image.insert",n),t.popups.onHide("image.insert",r),!0;var i,o="";t.opts.imageInsertButtons.length>1&&(o='<div class="fr-buttons">'+t.button.buildList(t.opts.imageInsertButtons)+"</div>");var s=t.opts.imageInsertButtons.indexOf("imageUpload"),a=t.opts.imageInsertButtons.indexOf("imageByURL"),l="";s>=0&&(i=" fr-active",a>=0&&s>a&&(i=""),l='<div class="fr-image-upload-layer'+i+' fr-layer" id="fr-image-upload-layer-'+t.id+'"><strong>'+t.language.translate("Drop image")+"</strong><br>("+t.language.translate("or click")+')<div class="fr-form"><input type="file" accept="image/'+t.opts.imageAllowedTypes.join(", image/").toLowerCase()+'" tabIndex="-1"></div></div>');var c="";a>=0&&(i=" fr-active",s>=0&&a>s&&(i=""),c='<div class="fr-image-by-url-layer'+i+' fr-layer" id="fr-image-by-url-layer-'+t.id+'"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var u='<div class="fr-image-progress-bar-layer fr-layer"><h3 class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-back" data-cmd="imageDismissError" tabIndex="2">OK</button></div></div>',d={buttons:o,upload_layer:l,by_url_layer:c,progress_bar:u},h=t.popups.create("image.insert",d);return t.$wp&&t.events.$on(t.$wp,"scroll",function(){ge&&t.popups.isVisible("image.insert")&&de()}),O(h),h}function P(){if(ge){var e=t.popups.get("image.alt");e.find("input").val(ge.attr("alt")||"").trigger("change")}}function U(){var n=t.popups.get("image.alt");n||(n=B()),v(),t.popups.refresh("image.alt"),t.popups.setContainer("image.alt",e(t.opts.scrollableContainer));var i=ge.offset().left+ge.width()/2,o=ge.offset().top+ge.height();t.popups.show("image.alt",i,o,ge.outerHeight())}function B(e){if(e)return t.popups.onRefresh("image.alt",P),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.imageAltButtons)+"</div>";var i="";i='<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'+t.id+'"><div class="fr-input-line"><input type="text" placeholder="'+t.language.translate("Alternate Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>";var o={buttons:n,alt_layer:i},r=t.popups.create("image.alt",o);return t.$wp&&t.events.$on(t.$wp,"scroll.image-alt",function(){ge&&t.popups.isVisible("image.alt")&&U()}),r}function z(e){if(ge){var n=t.popups.get("image.alt");ge.attr("alt",e||n.find("input").val()||""),n.find("input:focus").blur(),x(ge)}}function H(){if(ge){var e=t.popups.get("image.size");e.find('input[name="width"]').val(ge.get(0).style.width).trigger("change"),e.find('input[name="height"]').val(ge.get(0).style.height).trigger("change")}}function j(){var n=t.popups.get("image.size");n||(n=W()),v(),t.popups.refresh("image.size"),t.popups.setContainer("image.size",e(t.opts.scrollableContainer));var i=ge.offset().left+ge.width()/2,o=ge.offset().top+ge.height();t.popups.show("image.size",i,o,ge.outerHeight())}function W(e){if(e)return t.popups.onRefresh("image.size",H),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.imageSizeButtons)+"</div>";var i="";i='<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'+t.id+'"><div class="fr-image-group"><div class="fr-input-line"><input type="text" name="width" placeholder="'+t.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input type="text" name="height" placeholder="'+t.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>";var o={buttons:n,size_layer:i},r=t.popups.create("image.size",o);return t.$wp&&t.events.$on(t.$wp,"scroll.image-size",function(){ge&&t.popups.isVisible("image.size")&&j()}),r}function q(e,n){if(ge){var i=t.popups.get("image.size");ge.css("width",e||i.find('input[name="width"]').val()),ge.css("height",n||i.find('input[name="height"]').val()),i.find("input:focus").blur(),x(ge)}}function Y(e){var n,i,o=t.popups.get("image.insert");if(ge||t.opts.toolbarInline)ge&&(i=ge.offset().top+ge.outerHeight());else{var r=t.$tb.find('.fr-command[data-cmd="insertImage"]');n=r.offset().left+r.outerWidth()/2,i=r.offset().top+(t.opts.toolbarBottom?10:r.outerHeight()-10)}!ge&&t.opts.toolbarInline&&(i=o.offset().top-t.helpers.getPX(o.css("margin-top")),o.hasClass("fr-above")&&(i+=o.outerHeight())),o.find(".fr-layer").removeClass("fr-active"),o.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("image.insert",n,i,ge?ge.outerHeight():0)}function V(e){var n=t.popups.get("image.insert");n.find(".fr-image-upload-layer").hasClass("fr-active")&&e.addClass("fr-active")}function X(e){var n=t.popups.get("image.insert");n.find(".fr-image-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active")}function K(){var n;t.shared.$image_resizer?(ve=t.shared.$image_resizer,ye=t.shared.$img_overlay,t.events.on("destroy",function(){ve.removeClass("fr-active").appendTo(e("body"))},!0)):(t.shared.$image_resizer=e('<div class="fr-image-resizer"></div>'),ve=t.shared.$image_resizer,t.events.$on(ve,"mousedown",function(e){e.stopPropagation()},!0),t.opts.imageResize&&(ve.append(u("nw")+u("ne")+u("sw")+u("se")),t.shared.$img_overlay=e('<div class="fr-image-overlay"></div>'),ye=t.shared.$img_overlay,n=ve.get(0).ownerDocument,e(n).find("body").append(ye))),t.events.on("shared.destroy",function(){ve.html("").removeData().remove(),ve=null,t.opts.imageResize&&(ye.remove(),ye=null)},!0),t.helpers.isMobile()||t.events.$on(e(t.o_win),"resize",function(){ge&&!ge.hasClass("fr-uploading")?ne(!0):ge&&(c(),de(),g(!1))}),t.opts.imageResize&&(n=ve.get(0).ownerDocument,t.events.$on(ve,t._mousedown,".fr-handler",d),t.events.$on(e(n),t._mousemove,h),t.events.$on(e(n.defaultView||n.parentWindow),t._mouseup,f),t.events.$on(ye,"mouseleave",f))}function G(n){n=n||ge,n&&t.events.trigger("image.beforeRemove",[n])!==!1&&(t.popups.hideAll(),ne(!0),n.get(0)==t.$el.get(0)?n.removeAttr("src"):("A"==n.get(0).parentNode.tagName?(t.selection.setBefore(n.get(0).parentNode)||t.selection.setAfter(n.get(0).parentNode)||n.parent().after(e.FE.MARKERS),e(n.get(0).parentNode).remove()):(t.selection.setBefore(n.get(0))||t.selection.setAfter(n.get(0))||n.after(e.FE.MARKERS),n.remove()),t.html.fillEmptyBlocks(),t.selection.restore()),t.undo.saveStep())}function Q(){if(L(),"IMG"==t.$el.get(0).tagName&&t.$el.addClass("fr-view"),t.events.$on(t.$el,t.helpers.isMobile()&&!t.helpers.isWindowsPhone()?"touchend":"click","IMG"==t.$el.get(0).tagName?null:'img:not([contenteditable="false"])',te),t.helpers.isMobile()&&(t.events.$on(t.$el,"touchstart","IMG"==t.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(){_e=!1}),t.events.$on(t.$el,"touchmove",function(){_e=!0})),t.events.on("window.keydown keydown",function(n){var i=n.which;if(ge&&(i==e.FE.KEYCODE.BACKSPACE||i==e.FE.KEYCODE.DELETE))return n.preventDefault(),n.stopPropagation(),G(),!1;if(ge&&i==e.FE.KEYCODE.ESC){var o=ge;return ne(!0),t.selection.setAfter(o.get(0)),t.selection.restore(),n.preventDefault(),!1}return ge&&!t.keys.ctrlKey(n)?(n.preventDefault(),!1):void 0},!0),t.events.on("window.cut window.copy",function(n){he(),e.FE.copied_text="\n",e.FE.copied_html=ge.get(0).outerHTML,"copy"==n.type?setTimeout(function(){x(ge)}):(ne(!0),t.undo.saveStep(),setTimeout(function(){t.undo.saveStep()},0))},!0),t.events.$on(e(t.o_win),"keydown",function(t){var n=t.which;return ge&&n==e.FE.KEYCODE.BACKSPACE?(t.preventDefault(),!1):void 0}),t.events.$on(t.$win,"keydown",function(t){var n=t.which;ge&&ge.hasClass("fr-uploading")&&n==e.FE.KEYCODE.ESC&&ge.trigger("abortUpload")}),t.events.on("destroy",function(){ge&&ge.hasClass("fr-uploading")&&ge.trigger("abortUpload")}),t.events.on("paste.before",J),t.events.on("paste.beforeCleanup",ee),t.events.on("paste.after",Z),t.events.on("html.set",a),t.events.on("html.inserted",a),a(),t.events.on("destroy",function(){Ne=[]}),t.events.on("html.get",function(e){return e=e.replace(/<(img)((?:[\w\W]*?))class="([\w\W]*?)(fr-uploading|fr-error)([\w\W]*?)"((?:[\w\W]*?))>/g,"")}),t.opts.imageOutputSize){var n;t.events.on("html.beforeGet",function(){n=t.$el.get(0).querySelectorAll("img");for(var i=0;i<n.length;i++)n[i].setAttribute("width",e(n[i]).width()),n[i].setAttribute("height",e(n[i]).height())}),t.events.on("html.afterGet",function(){for(var e=0;e<n.length;e++)n[e].removeAttribute("width"),n[e].removeAttribute("height")})}t.opts.iframe&&t.events.on("image.loaded",t.size.syncIframe),t.$wp&&(l(),t.events.on("contentChanged",l)),t.events.$on(e(t.o_win),"orientationchange.image",function(){setTimeout(function(){var e=pe();e&&x(e)},0)}),m(!0),R(!0),W(!0),B(!0),t.events.on("node.remove",function(e){return"IMG"==e.get(0).tagName?(G(e),!1):void 0})}function Z(){t.opts.imagePaste?t.$el.find("img[data-fr-image-pasted]").each(function(n,i){if(t.opts.imagePasteProcess){var r=t.opts.imageDefaultWidth;r&&"auto"!=r&&(r+=t.opts.imageResizeWithPercent?"%":"px"),e(i).css("width",r),e(i).removeClass("fr-dii fr-dib fr-fir fr-fil").addClass((t.opts.imageDefaultDisplay?"fr-di"+t.opts.imageDefaultDisplay[0]:"")+(t.opts.imageDefaultAlign&&"center"!=t.opts.imageDefaultAlign?" fr-fi"+t.opts.imageDefaultAlign[0]:""))}if(0===i.src.indexOf("data:")){if(t.events.trigger("image.beforePasteUpload",[i])===!1)return!1;ge=e(i),c(),o(),de(),g(),t.edit.off();for(var s=atob(e(i).attr("src").split(",")[1]),a=[],l=0;l<s.length;l++)a.push(s.charCodeAt(l));var u=new Blob([new Uint8Array(a)],{type:"image/jpeg"});F([u]),e(i).removeAttr("data-fr-image-pasted")}else 0!==i.src.indexOf("http")?(t.selection.save(),e(i).remove(),t.selection.restore()):e(i).removeAttr("data-fr-image-pasted")}):t.$el.find("img[data-fr-image-pasted]").remove()}function J(e){if(e&&e.clipboardData&&e.clipboardData.items&&e.clipboardData.items[0]){var n=e.clipboardData.items[0].getAsFile();if(n){var i=new FileReader;return i.onload=function(e){var n=e.target.result,i=t.opts.imageDefaultWidth;i&&"auto"!=i&&(i+=t.opts.imageResizeWithPercent?"%":"px"),t.html.insert('<img data-fr-image-pasted="true" class="'+(t.opts.imageDefaultDisplay?"fr-di"+t.opts.imageDefaultDisplay[0]:"")+(t.opts.imageDefaultAlign&&"center"!=t.opts.imageDefaultAlign?" fr-fi"+t.opts.imageDefaultAlign[0]:"")+'" src="'+n+'"'+(i?' style="width: '+i+';"':"")+">"),t.events.trigger("paste.after")},i.readAsDataURL(n),!1}}}function ee(e){return e=e.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function te(n){if(e(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length)return!0;if(n&&"touchend"==n.type&&_e)return!0;if(n&&t.edit.isDisabled())return n.stopPropagation(),n.preventDefault(),!1;for(var i=0;i<e.FE.INSTANCES.length;i++)e.FE.INSTANCES[i]!=t&&e.FE.INSTANCES[i].events.trigger("image.hideResizer");t.toolbar.disable(),n&&(n.stopPropagation(),n.preventDefault()),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur()),t.opts.iframe&&t.size.syncIframe(),ge=e(this),he(),c(),o(),t.selection.clear(),t.button.bulkRefresh(),t.events.trigger("video.hideResizer")}function ne(e){ge&&(re()||e===!0)&&(t.toolbar.enable(),ve.removeClass("fr-active"),t.popups.hide("image.edit"),ge=null,oe())}function ie(){Me=!0}function oe(){Me=!1}function re(){return Me}function se(e){ge.removeClass("fr-fir fr-fil"),"left"==e?ge.addClass("fr-fil"):"right"==e&&ge.addClass("fr-fir"),c(),o()}function ae(e){ge&&(ge.hasClass("fr-fil")?e.find("> *:first").replaceWith(t.icon.create("align-left")):ge.hasClass("fr-fir")?e.find("> *:first").replaceWith(t.icon.create("align-right")):e.find("> *:first").replaceWith(t.icon.create("align-justify")))}function le(e,t){if(ge){var n="justify";ge.hasClass("fr-fil")?n="left":ge.hasClass("fr-fir")&&(n="right"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")}}function ce(e){ge.removeClass("fr-dii fr-dib"),"inline"==e?ge.addClass("fr-dii"):"block"==e&&ge.addClass("fr-dib"),c(),o()}function ue(e,t){var n="block";ge.hasClass("fr-dii")&&(n="inline"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")}function de(){var n=t.popups.get("image.insert");n||(n=R()),t.popups.isVisible("image.insert")||(v(),t.popups.refresh("image.insert"),t.popups.setContainer("image.insert",e(t.opts.scrollableContainer)));var i=ge.offset().left+ge.width()/2,o=ge.offset().top+ge.height();t.popups.show("image.insert",i,o,ge.outerHeight())}function he(){if(ge){t.selection.clear();var e=t.doc.createRange();e.selectNode(ge.get(0));var n=t.selection.get();n.addRange(e)}}function fe(){ge?(e(".fr-popup input:focus").blur(),x(ge)):(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("image.insert"),t.toolbar.showInline())}function pe(){return ge}function me(e,n,i){if("undefined"==typeof n&&(n=t.opts.imageStyles),"undefined"==typeof i&&(i=t.opts.imageMultipleStyles),!ge)return!1;if(!i){var o=Object.keys(n);o.splice(o.indexOf(e),1),ge.removeClass(o.join(" "))}ge.toggleClass(e),x(ge)}var ge,ve,be,ye,we=!1,xe=1,Ce=2,Se=3,Ee=4,Te=5,ke=6,De=7,Ae={};Ae[xe]="Image cannot be loaded from the passed link.",Ae[Ce]="No link in upload response.",Ae[Se]="Error during file upload.",Ae[Ee]="Parsing response failed.",Ae[Te]="File is too large.",Ae[ke]="Image file type is invalid.",Ae[De]="Files can be uploaded only to same domain in IE 8 and IE 9.";var Ne,_e,Me=!1;return{_init:Q,showInsertPopup:i,showLayer:Y,refreshUploadButton:V,refreshByURLButton:X,upload:F,insertByURL:w,align:se,refreshAlign:ae,refreshAlignOnShow:le,display:ce,refreshDisplayOnShow:ue,replace:de,back:fe,get:pe,insert:S,showProgressBar:g,remove:G,hideProgressBar:v,applyStyle:me,showAltPopup:U,showSizePopup:j,setAlt:z,setSize:q,exitEdit:ne,edit:x}},e.FE.DefineIcon("insertImage",{NAME:"image"}),e.FE.RegisterShortcut(e.FE.KEYCODE.P,"insertImage",null,"P"),e.FE.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),e.FE.DefineIcon("imageUpload",{NAME:"upload"}),e.FE.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,callback:function(){this.image.showLayer("image-upload")},refresh:function(e){this.image.refreshUploadButton(e)}}),e.FE.DefineIcon("imageByURL",{NAME:"link"}),e.FE.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,callback:function(){this.image.showLayer("image-by-url")},refresh:function(e){this.image.refreshByURLButton(e)}}),e.FE.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL();
},refresh:function(e){var t=this.image.get();t?e.text(this.language.translate("Replace")):e.text(this.language.translate("Insert"))}}),e.FE.DefineIcon("imageDisplay",{NAME:"star"}),e.FE.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.image.display(t)},refresh:function(e){this.opts.imageTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.image.refreshDisplayOnShow(e,t)}}),e.FE.DefineIcon("imageAlign",{NAME:"align-center"}),e.FE.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",justify:"None",right:"Align Right"},html:function(){var t='<ul class="fr-dropdown-list">',n=e.FE.COMMANDS.imageAlign.options;for(var i in n)n.hasOwnProperty(i)&&(t+='<li><a class="fr-command fr-title" data-cmd="imageAlign" data-param1="'+i+'" title="'+this.language.translate(n[i])+'">'+this.icon.create("align-"+i)+"</a></li>");return t+="</ul>"},callback:function(e,t){this.image.align(t)},refresh:function(e){this.image.refreshAlign(e)},refreshOnShow:function(e,t){this.image.refreshAlignOnShow(e,t)}}),e.FE.DefineIcon("imageReplace",{NAME:"exchange"}),e.FE.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),e.FE.DefineIcon("imageRemove",{NAME:"trash"}),e.FE.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),e.FE.DefineIcon("imageBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(e){var t=this.image.get();t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),e.FE.DefineIcon("imageStyle",{NAME:"magic"}),e.FE.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.imageStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li><a class="fr-command" data-cmd="imageStyle" data-param1="'+n+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},callback:function(e,t){this.image.applyStyle(t)},refreshOnShow:function(t,n){var i=this.image.get();i&&n.find(".fr-command").each(function(){var t=e(this).data("param1");e(this).toggleClass("fr-active",i.hasClass(t))})}}),e.FE.DefineIcon("imageAlt",{NAME:"info"}),e.FE.RegisterCommand("imageAlt",{undo:!1,focus:!1,title:"Alternate Text",callback:function(){this.image.showAltPopup()}}),e.FE.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),e.FE.DefineIcon("imageSize",{NAME:"arrows-alt"}),e.FE.RegisterCommand("imageSize",{undo:!1,focus:!1,title:"Change Size",callback:function(){this.image.showSizePopup()}}),e.FE.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";if(e.extend(e.FE.DEFAULTS,{imageManagerLoadURL:"https://i.froala.com/load-files",imageManagerLoadMethod:"get",imageManagerLoadParams:{},imageManagerPreloader:"",imageManagerDeleteURL:"",imageManagerDeleteMethod:"post",imageManagerDeleteParams:{},imageManagerPageSize:12,imageManagerScrollOffset:20,imageManagerToggleTags:!0}),e.FE.PLUGINS.imageManager=function(t){function n(){k||a(),k.data("instance",t),k.show(),F.show(),V=t.image.get(),D||E(),l(),t.$doc.find("body").addClass("prevent-scroll"),t.helpers.isMobile()&&t.$doc.find("body").addClass("fr-mobile")}function i(){var e=k.data("instance")||t;e.events.enableBlur(),k.hide(),F.hide(),e.$doc.find("body").removeClass("prevent-scroll fr-mobile")}function o(){var t=e(window).outerWidth();return 768>t?2:1200>t?3:4}function r(){A.empty();for(var e=0;R>e;e++)A.append('<div class="fr-list-column"></div>')}function s(){var n="";t.opts.theme&&(n=" "+t.opts.theme+"-theme");var i='<div class="fr-modal'+n+'"><div class="fr-modal-wrapper">';return i+='<div class="fr-modal-title"><div class="fr-modal-title-line"><i class="fa fa-bars fr-modal-more fr-not-available" id="fr-modal-more-'+t.sid+'" title="'+t.language.translate("Tags")+'"></i><h4 data-text="true">'+t.language.translate("Manage Images")+'</h4><i title="'+t.language.translate("Cancel")+'" class="fa fa-times fr-modal-close" id="fr-modal-close"></i></div>',i+='<div class="fr-modal-tags" id="fr-modal-tags"></div>',i+="</div>",i+='<img class="fr-preloader" id="fr-preloader" alt="'+t.language.translate("Loading")+'.." src="'+t.opts.imageManagerPreloader+'" style="display: none;">',i+='<div class="fr-scroller" id="fr-scroller"><div class="fr-image-list" id="fr-image-list"></div></div>',i+="</div></div>",e(i)}function a(){t.shared.$modal?(k=t.shared.$modal,F=t.shared.$overlay):(t.shared.$modal=s(),k=t.shared.$modal,t.helpers.isMobile()||k.addClass("fr-desktop"),k.appendTo("body"),t.shared.$overlay=e('<div class="fr-overlay">').appendTo("body"),F=t.shared.$overlay,t.opts.theme&&F.addClass(t.opts.theme+"-theme"),i()),t.events.on("shared.destroy",function(){k.removeData().remove(),F.removeData().remove()},!0)}function l(){D.show(),A.find(".fr-list-column").empty(),t.opts.imageManagerLoadURL?e.ajax({url:t.opts.imageManagerLoadURL,method:t.opts.imageManagerLoadMethod,data:t.opts.imageManagerLoadParams,dataType:"json",crossDomain:t.opts.requestWithCORS,xhrFields:{withCredentials:t.opts.requestWithCORS},headers:t.opts.requestHeaders}).done(function(e,n,i){t.events.trigger("imageManager.imagesLoaded",[e]),c(e,i.response),D.hide()}).fail(function(){var e=this.xhr();y(U,e.response||e.responseText)}):y(B)}function c(e,t){try{A.find(".fr-list-column").empty(),$=0,I=0,L=0,O=e,u()}catch(n){y(z,t)}}function u(){if(I<O.length&&(A.outerHeight()<=N.outerHeight()+t.opts.imageManagerScrollOffset||N.scrollTop()+t.opts.imageManagerScrollOffset>A.outerHeight()-N.outerHeight())){$++;for(var e=t.opts.imageManagerPageSize*($-1);e<Math.min(O.length,t.opts.imageManagerPageSize*$);e++)d(O[e])}}function d(n){var i=new Image,o=e('<div class="fr-image-container fr-empty fr-image-'+L++ +'" data-loading="'+t.language.translate("Loading")+'.." data-deleting="'+t.language.translate("Deleting")+'..">');m(!1),i.onload=function(){o.height(Math.floor(o.width()/i.width*i.height));var r=e("<img/>");if(n.thumb)r.attr("src",n.thumb);else{if(y(H,n),!n.url)return y(j,n),!1;r.attr("src",n.url)}if(n.url&&r.attr("data-url",n.url),n.tag)if(M.find(".fr-modal-more.fr-not-available").removeClass("fr-not-available"),M.find(".fr-modal-tags").show(),n.tag.indexOf(",")>=0){for(var s=n.tag.split(","),a=0;a<s.length;a++)s[a]=s[a].trim(),0===_.find('a[title="'+s[a]+'"]').length&&_.append('<a role="button" title="'+s[a]+'">'+s[a]+"</a>");r.attr("data-tag",s.join())}else 0===_.find('a[title="'+n.tag.trim()+'"]').length&&_.append('<a role="button" title="'+n.tag.trim()+'">'+n.tag.trim()+"</a>"),r.attr("data-tag",n.tag.trim());for(var l in n)n.hasOwnProperty(l)&&"thumb"!=l&&"url"!=l&&"tag"!=l&&r.attr("data-"+l,n[l]);o.append(r).append(e(t.icon.create("imageManagerDelete")).addClass("fr-delete-img").attr("title",t.language.translate("Delete"))).append(e(t.icon.create("imageManagerInsert")).addClass("fr-insert-img").attr("title",t.language.translate("Insert"))),_.find(".fr-selected-tag").each(function(e,t){S(r,t.text)||o.hide()}),r.on("load",function(){o.removeClass("fr-empty"),o.height("auto"),I++;var e=f(parseInt(r.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1);p(e),m(!1),I%t.opts.imageManagerPageSize===0&&u()}),t.events.trigger("imageManager.imageLoaded",[r])},i.onerror=function(){I++,o.remove();var e=f(parseInt(o.attr("class").match(/fr-image-(\d+)/)[1],10)+1);p(e),y(P,n),I%t.opts.imageManagerPageSize===0&&u()},i.src=n.url,h().append(o)}function h(){var t,n;return A.find(".fr-list-column").each(function(i,o){var r=e(o);0===i?(n=r.outerHeight(),t=r):r.outerHeight()<n&&(n=r.outerHeight(),t=r)}),t}function f(t){void 0===t&&(t=0);for(var n=[],i=L-1;i>=t;i--){var o=A.find(".fr-image-"+i);o.length&&(n.push(o),e('<div id="fr-image-hidden-container">').append(o),A.find(".fr-image-"+i).remove())}return n}function p(e){for(var t=e.length-1;t>=0;t--)h().append(e[t])}function m(e){if(void 0===e&&(e=!0),!k.is(":visible"))return!0;var n=o();if(n!=R){R=n;var i=f();r(),p(i)}var s=t.$win.height(),a=k.find(".fr-modal-wrapper"),l=parseFloat(a.css("margin-top"))+parseFloat(a.css("margin-bottom")),c=parseFloat(a.css("padding-top"))+parseFloat(a.css("padding-bottom")),d=parseFloat(a.css("border-top-width")),h=a.find("h4").outerHeight();N.height(Math.min(A.outerHeight(),s-l-c-h-d)),e&&u()}function g(e){var t={},n=e.data();for(var i in n)n.hasOwnProperty(i)&&"url"!=i&&"tag"!=i&&(t[i]=n[i]);return t}function v(n){var o=e(n.currentTarget).siblings("img"),r=k.data("instance")||t;if(i(),r.image.showProgressBar(),V)V.trigger("click");else{r.events.focus(!0),r.selection.restore();var s=r.position.getBoundingRect(),a=s.left+s.width/2,l=s.top+s.height;r.popups.setContainer("image.insert",r.$box||e("body")),r.popups.show("image.insert",a,l)}r.image.insert(o.data("url"),!1,g(o),V)}function b(n){var i=e(n.currentTarget).siblings("img"),o=t.language.translate("Are you sure? Image will be deleted.");confirm(o)&&(t.opts.imageManagerDeleteURL?t.events.trigger("imageManager.beforeDeleteImage",[i])!==!1&&(i.parent().addClass("fr-image-deleting"),e.ajax({method:t.opts.imageManagerDeleteMethod,url:t.opts.imageManagerDeleteURL,data:e.extend(e.extend({src:i.attr("src")},g(i)),t.opts.imageManagerDeleteParams),crossDomain:t.opts.requestWithCORS,xhrFields:{withCredentials:t.opts.requestWithCORS},headers:t.opts.requestHeaders}).done(function(e){t.events.trigger("imageManager.imageDeleted",[e]);var n=f(parseInt(i.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1);i.parent().remove(),p(n),m(!0)}).fail(function(){var e=this.xhr();y(W,e.response||e.responseText)})):y(q))}function y(n,i){n>=10&&20>n?D.hide():n>=20&&30>n&&e(".fr-image-deleting").removeClass("fr-image-deleting"),t.events.trigger("imageManager.error",[{code:n,message:Y[n]},i])}function w(){var e=M.find(".fr-modal-title-line").outerHeight(),t=_.outerHeight();M.toggleClass(".fr-show-tags"),M.hasClass(".fr-show-tags")?(M.css("height",e+t),_.find("a").css("opacity",1)):(M.css("height",e),_.find("a").css("opacity",0))}function x(){var t=_.find(".fr-selected-tag");t.length>0?(A.find("img").parent().show(),t.each(function(t,n){A.find("img").each(function(t,i){var o=e(i);S(o,n.text)||o.parent().hide()})})):A.find("img").parent().show();var n=f();p(n),u()}function C(n){n.preventDefault();var i=e(n.currentTarget);i.toggleClass("fr-selected-tag"),t.opts.imageManagerToggleTags&&i.siblings("a").removeClass("fr-selected-tag"),x()}function S(e,t){for(var n=e.attr("data-tag").split(","),i=0;i<n.length;i++)if(n[i]==t)return!0;return!1}function E(){D=k.find("#fr-preloader"),A=k.find("#fr-image-list"),N=k.find("#fr-scroller"),_=k.find("#fr-modal-tags"),M=_.parent(),R=o(),r();var n=M.find(".fr-modal-title-line").outerHeight();M.css("height",n),N.css("margin-top",n),t.events.bindClick(k,"i#fr-modal-close",i),t.events.$on(e(t.o_win),"resize",function(){m(!!O)}),t.helpers.isMobile()&&(t.events.bindClick(A,"div.fr-image-container",function(t){k.find(".fr-mobile-selected").removeClass("fr-mobile-selected"),e(t.currentTarget).addClass("fr-mobile-selected")}),k.on(t._mousedown,function(){k.find(".fr-mobile-selected").removeClass("fr-mobile-selected")})),t.events.bindClick(A,".fr-insert-img",v),t.events.bindClick(A,".fr-delete-img",b),k.on(t._mousedown+" "+t._mouseup,function(e){e.stopPropagation()}),k.on(t._mousedown,"*",function(){t.events.disableBlur()}),N.on("scroll",u),t.events.bindClick(k,"i#fr-modal-more-"+t.sid,w),t.events.bindClick(_,"a",C)}function T(){return!(!t.$wp&&"IMG"!=t.$el.get(0).tagName)&&void 0}var k,D,A,N,_,M,F,O,$,I,L,R,P=10,U=11,B=12,z=13,H=14,j=15,W=21,q=22,Y={};Y[P]="Image cannot be loaded from the passed link.",Y[U]="Error during load images request.",Y[B]="Missing imageManagerLoadURL option.",Y[z]="Parsing load response failed.",Y[H]="Missing image thumb.",Y[j]="Missing image URL.",Y[W]="Error during delete image request.",Y[q]="Missing imageManagerDeleteURL option.";var V;return{require:["image"],_init:T,show:n,hide:i}},!e.FE.PLUGINS.image)throw new Error("Image manager plugin requires image plugin.");e.FE.DEFAULTS.imageInsertButtons.push("imageManager"),e.FE.RegisterCommand("imageManager",{title:"Browse",undo:!1,focus:!1,callback:function(){this.imageManager.show()},plugin:"imageManager"}),e.FE.DefineIcon("imageManager",{NAME:"folder"}),e.FE.DefineIcon("imageManagerInsert",{NAME:"plus"}),e.FE.DefineIcon("imageManagerDelete",{NAME:"trash"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.DEFAULTS,{}),e.FE.URLRegEx=/(\s|^|>)((http|https|ftp|ftps)\:\/\/[a-zA-Z0-9\-\.]+(\.[a-zA-Z]{2,3})?(:\d*)?(\/[^\s<]*)?)(\s|$|<)/gi,e.FE.PLUGINS.url=function(t){function n(i){i.each(function(){if("IFRAME"!=this.tagName)if(3==this.nodeType){var i=this.textContent.replace(/&nbsp;/gi,"");e.FE.URLRegEx.test(i)&&(e(this).before(i.replace(e.FE.URLRegEx,'$1<a href="$2">$2</a>$7')),e(this).remove())}else 1==this.nodeType&&["A","BUTTON","TEXTAREA"].indexOf(this.tagName)<0&&n(t.node.contents(this))})}function i(){t.events.on("paste.afterCleanup",function(t){return e.FE.URLRegEx.test(t)?t.replace(e.FE.URLRegEx,'$1<a href="$2">$2</a>$7'):void 0}),t.events.on("keyup",function(i){var o=i.which;(o==e.FE.KEYCODE.ENTER||o==e.FE.KEYCODE.SPACE)&&n(t.node.contents(t.$el.get(0)))}),t.events.on("keydown",function(n){var i=n.which;if(i==e.FE.KEYCODE.ENTER){var o=t.selection.element();if(("A"==o.tagName||e(o).parents("a").length)&&t.selection.info(o).atEnd)return n.stopImmediatePropagation(),"A"!==o.tagName&&(o=e(o).parents("a")[0]),e(o).after("&nbsp;"+e.FE.MARKERS),t.selection.restore(),!1}})}return{_init:i}}}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.POPUP_TEMPLATES,{"video.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_]","video.edit":"[_BUTTONS_]","video.size":"[_BUTTONS_][_SIZE_LAYER_]"}),e.extend(e.FE.DEFAULTS,{videoInsertButtons:["videoBack","|","videoByURL","videoEmbed"],videoEditButtons:["videoDisplay","videoAlign","videoSize","videoRemove"],videoResize:!0,videoSizeButtons:["videoBack","|"],videoSplitHTML:!1,videoTextNear:!0,videoDefaultAlign:"center",videoDefaultDisplay:"block",videoMove:!0}),e.FE.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g,url_text:"//www.youtube.com/embed/$1",html:'<iframe width="640" height="360" src="{url}?wmode=opaque" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:vimeo\.com)\/(?:channels\/[A-z]+\/|groups\/[A-z]+\/videos\/)?(.+)/g,url_text:"//player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"//www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"//rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'}],e.FE.VIDEO_EMBED_REGEX=/^\W*((<iframe.*><\/iframe>)|(<embed.*>))\W*$/i,e.FE.PLUGINS.video=function(t){function n(){var e=t.popups.get("video.insert"),n=e.find(".fr-video-by-url-layer input");n.val("").trigger("change");var i=e.find(".fr-video-embed-layer textarea");i.val("").trigger("change")}function i(){var e=t.$tb.find('.fr-command[data-cmd="insertVideo"]'),n=t.popups.get("video.insert");if(n||(n=r()),!n.hasClass("fr-active")){t.popups.refresh("video.insert"),t.popups.setContainer("video.insert",t.$tb);var i=e.offset().left+e.outerWidth()/2,o=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("video.insert",i,o,e.outerHeight())}}function o(){var n=t.popups.get("video.edit");n||(n=E()),t.popups.setContainer("video.edit",e(t.opts.scrollableContainer)),t.popups.refresh("video.edit");var i=j.find("iframe, embed, video"),o=i.offset().left+i.outerWidth()/2,r=i.offset().top+i.outerHeight();t.popups.show("video.edit",o,r,i.outerHeight())}function r(e){if(e)return t.popups.onRefresh("video.insert",n),!0;var i="";t.opts.videoInsertButtons.length>1&&(i='<div class="fr-buttons">'+t.button.buildList(t.opts.videoInsertButtons)+"</div>");var o="";t.opts.videoInsertButtons.indexOf("videoByURL")>=0&&(o='<div class="fr-video-by-url-layer fr-layer fr-active" id="fr-video-by-url-layer-'+t.id+'"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var r="";t.opts.videoInsertButtons.indexOf("videoEmbed")>=0&&(r='<div class="fr-video-embed-layer fr-layer" id="fr-video-embed-layer-'+t.id+'"><div class="fr-input-line"><textarea type="text" placeholder="'+t.language.translate("Embedded Code")+'" tabIndex="1" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2">'+t.language.translate("Insert")+"</button></div></div>");var s={buttons:i,by_url_layer:o,embed_layer:r},a=t.popups.create("video.insert",s);return a}function s(e){var n,i,o=t.popups.get("video.insert");if(!j&&!t.opts.toolbarInline){var r=t.$tb.find('.fr-command[data-cmd="insertVideo"]');n=r.offset().left+r.outerWidth()/2,i=r.offset().top+(t.opts.toolbarBottom?10:r.outerHeight()-10)}t.opts.toolbarInline&&(i=o.offset().top-t.helpers.getPX(o.css("margin-top")),o.hasClass("fr-above")&&(i+=o.outerHeight())),o.find(".fr-layer").removeClass("fr-active"),o.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("video.insert",n,i,0)}function a(e){var n=t.popups.get("video.insert");n.find(".fr-video-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active")}function l(e){var n=t.popups.get("video.insert");n.find(".fr-video-embed-layer").hasClass("fr-active")&&e.addClass("fr-active")}function c(e){t.events.focus(!0),t.selection.restore(),t.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-dv'+t.opts.videoDefaultDisplay[0]+("center"!=t.opts.videoDefaultAlign?" fr-fv"+t.opts.videoDefaultAlign[0]:"")+'">'+e+"</span>",!1,t.opts.videoSplitHTML),t.popups.hide("video.insert");var n=t.$el.find(".fr-jiv");n.removeClass("fr-jiv"),n.toggleClass("fr-draggable",t.opts.videoMove),t.events.trigger("video.inserted",[n])}function u(n){if("undefined"==typeof n){var i=t.popups.get("video.insert");n=i.find('.fr-video-by-url-layer input[type="text"]').val()||""}var o=null;if(t.helpers.isURL(n))for(var r=0;r<e.FE.VIDEO_PROVIDERS.length;r++){var s=e.FE.VIDEO_PROVIDERS[r];if(s.test_regex.test(n)){o=n.replace(s.url_regex,s.url_text),o=s.html.replace(/\{url\}/,o);break}}o?c(o):t.events.trigger("video.linkError",[n])}function d(n){if("undefined"==typeof n){var i=t.popups.get("video.insert");n=i.find(".fr-video-embed-layer textarea").val()||""}0!==n.length&&e.FE.VIDEO_EMBED_REGEX.test(n)?c(n):t.events.trigger("video.codeError",[n])}function h(n){if(!t.core.sameInstance(H))return!0;n.preventDefault(),n.stopPropagation();var i=n.pageX||(n.originalEvent.touches?n.originalEvent.touches[0].pageX:null),o=n.pageY||(n.originalEvent.touches?n.originalEvent.touches[0].pageY:null);return!(!i||!o)&&(t.undo.canDo()||t.undo.saveStep(),z=e(this),z.data("start-x",i),z.data("start-y",o),B.show(),t.popups.hideAll(),void x())}function f(e){if(!t.core.sameInstance(H))return!0;if(z){e.preventDefault();var n=e.pageX||(e.originalEvent.touches?e.originalEvent.touches[0].pageX:null),i=e.pageY||(e.originalEvent.touches?e.originalEvent.touches[0].pageY:null);if(!n||!i)return!1;var o=z.data("start-x"),r=z.data("start-y");z.data("start-x",n),z.data("start-y",i);var s=n-o,a=i-r,l=j.find("iframe, embed, video"),c=l.width(),u=l.height();(z.hasClass("fr-hnw")||z.hasClass("fr-hsw"))&&(s=0-s),(z.hasClass("fr-hnw")||z.hasClass("fr-hne"))&&(a=0-a),l.css("width",c+s),l.css("height",u+a),l.removeAttr("width"),l.removeAttr("height"),v()}}function p(e){return!t.core.sameInstance(H)||void(z&&j&&(e&&e.stopPropagation(),z=null,B.hide(),v(),o(),t.undo.saveStep()))}function m(e){return'<div class="fr-handler fr-h'+e+'"></div>'}function g(){var n;t.shared.$video_resizer?(H=t.shared.$video_resizer,B=t.shared.$vid_overlay,t.events.on("destroy",function(){H.removeClass("fr-active").appendTo(e("body"))},!0)):(t.shared.$video_resizer=e('<div class="fr-video-resizer"></div>'),H=t.shared.$video_resizer,t.events.$on(H,"mousedown",function(e){e.stopPropagation()},!0),t.opts.videoResize&&(H.append(m("nw")+m("ne")+m("sw")+m("se")),t.shared.$vid_overlay=e('<div class="fr-video-overlay"></div>'),B=t.shared.$vid_overlay,n=H.get(0).ownerDocument,e(n).find("body").append(B))),t.events.on("shared.destroy",function(){H.html("").removeData().remove(),H=null,t.opts.videoResize&&(B.remove(),B=null)},!0),t.helpers.isMobile()||t.events.$on(e(t.o_win),"resize.video",function(){y(!0)}),t.opts.videoResize&&(n=H.get(0).ownerDocument,t.events.$on(H,t._mousedown,".fr-handler",h),t.events.$on(e(n),t._mousemove,f),t.events.$on(e(n.defaultView||n.parentWindow),t._mouseup,p),t.events.$on(B,"mouseleave",p))}function v(){H||g(),(t.$wp||e(t.opts.scrollableContainer)).append(H),H.data("instance",t);var n=j.find("iframe, embed, video");H.css("top",(t.opts.iframe?n.offset().top-1:n.offset().top-t.$wp.offset().top-1)+t.$wp.scrollTop()).css("left",(t.opts.iframe?n.offset().left-1:n.offset().left-t.$wp.offset().left-1)+t.$wp.scrollLeft()).css("width",n.outerWidth()).css("height",n.height()).addClass("fr-active")}function b(n){if(n&&"touchend"==n.type&&W)return!0;if(n.preventDefault(),n.stopPropagation(),t.edit.isDisabled())return!1;for(var i=0;i<e.FE.INSTANCES.length;i++)e.FE.INSTANCES[i]!=t&&e.FE.INSTANCES[i].events.trigger("video.hideResizer");t.toolbar.disable(),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur()),j=e(this),e(this).addClass("fr-active"),t.opts.iframe&&t.size.syncIframe(),v(),o(),t.selection.clear(),t.button.bulkRefresh(),t.events.trigger("image.hideResizer")}function y(e){j&&(C()||e===!0)&&(H.removeClass("fr-active"),t.toolbar.enable(),j.removeClass("fr-active"),j=null,x())}function w(){t.shared.vid_exit_flag=!0}function x(){t.shared.vid_exit_flag=!1}function C(){return t.shared.vid_exit_flag}function S(){t.events.on("mousedown window.mousedown",w),t.events.on("window.touchmove",x),t.events.on("mouseup window.mouseup",y),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&y()}),t.events.on("blur video.hideResizer commands.undo commands.redo element.dropped",function(){y(!0)})}function E(){var e="";t.opts.videoEditButtons.length>=1&&(e+='<div class="fr-buttons">',e+=t.button.buildList(t.opts.videoEditButtons),e+="</div>");var n={buttons:e},i=t.popups.create("video.edit",n);return t.events.$on(t.$wp,"scroll.video-edit",function(){j&&t.popups.isVisible("video.edit")&&o()}),i}function T(){if(j){var e=t.popups.get("video.size"),n=j.find("iframe, embed, video");e.find('input[name="width"]').val(n.get(0).style.width||n.attr("width")).trigger("change"),e.find('input[name="height"]').val(n.get(0).style.height||n.attr("height")).trigger("change")}}function k(){var n=t.popups.get("video.size");n||(n=D()),t.popups.refresh("video.size"),t.popups.setContainer("video.size",e(t.opts.scrollableContainer));var i=j.find("iframe, embed, video"),o=i.offset().left+i.width()/2,r=i.offset().top+i.height();t.popups.show("video.size",o,r,i.height())}function D(e){if(e)return t.popups.onRefresh("video.size",T),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.videoSizeButtons)+"</div>";var i="";i='<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'+t.id+'"><div class="fr-video-group"><div class="fr-input-line"><input type="text" name="width" placeholder="'+t.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input type="text" name="height" placeholder="'+t.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>";var o={buttons:n,size_layer:i},r=t.popups.create("video.size",o);return t.events.$on(t.$wp,"scroll",function(){j&&t.popups.isVisible("video.size")&&k()}),r}function A(e){j.removeClass("fr-fvr fr-fvl"),"left"==e?j.addClass("fr-fvl"):"right"==e&&j.addClass("fr-fvr"),v(),o()}function N(e){return!!j&&void(j.hasClass("fr-fvl")?e.find("> *:first").replaceWith(t.icon.create("align-left")):j.hasClass("fr-fvr")?e.find("> *:first").replaceWith(t.icon.create("align-right")):e.find("> *:first").replaceWith(t.icon.create("align-justify")))}function _(e,t){var n="justify";j.hasClass("fr-fvl")?n="left":j.hasClass("fr-fvr")&&(n="right"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")}function M(e){j.removeClass("fr-dvi fr-dvb"),"inline"==e?j.addClass("fr-dvi"):"block"==e&&j.addClass("fr-dvb"),v(),o()}function F(e,t){var n="block";j.hasClass("fr-dvi")&&(n="inline"),t.find('.fr-command[data-param1="'+n+'"]').addClass("fr-active")}function O(){if(j&&t.events.trigger("video.beforeRemove",[j])!==!1){var e=j;t.popups.hideAll(),y(!0),t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),e.remove(),t.selection.restore(),t.html.fillEmptyBlocks(),t.events.trigger("video.removed",[e])}}function $(e){if(!e.hasClass("fr-dvi")&&!e.hasClass("fr-dvb")){var n=e.css("float");e.css("float","none"),"block"==e.css("display")?(e.css("float",n),0===parseInt(e.css("margin-left"),10)&&(e.attr("style")||"").indexOf("margin-right: auto")>=0?e.addClass("fr-fvl"):0===parseInt(e.css("margin-right"),10)&&(e.attr("style")||"").indexOf("margin-left: auto")>=0&&e.addClass("fr-fvr"),e.addClass("fr-dvb")):(e.css("float",n),"left"==e.css("float")?e.addClass("fr-fvl"):"right"==e.css("float")&&e.addClass("fr-fvr"),e.addClass("fr-dvi")),e.css("margin",""),e.css("float",""),e.css("display",""),e.css("z-index",""),e.css("position",""),e.css("overflow",""),e.css("vertical-align","")}t.opts.videoTextNear||e.removeClass("fr-dvi").addClass("fr-dvb")}function I(){t.$el.find("video").filter(function(){return 0===e(this).parents("span.fr-video").length}).wrap('<span class="fr-video" contenteditable="false"></span>'),t.$el.find("embed, iframe").filter(function(){if(t.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),e(this).parents("span.fr-video").length>0)return!1;for(var n=e(this).attr("src"),i=0;i<e.FE.VIDEO_PROVIDERS.length;i++){var o=e.FE.VIDEO_PROVIDERS[i];if(o.test_regex.test(n))return!0}return!1}).map(function(){return 0===e(this).parents("object").length?this:e(this).parents("object").get(0)}).wrap('<span class="fr-video" contenteditable="false"></span>');for(var n=t.$el.find("span.fr-video"),i=0;i<n.length;i++)$(e(n[i]));n.toggleClass("fr-draggable",t.opts.videoMove)}function L(){S(),t.helpers.isMobile()&&(t.events.$on(t.$el,"touchstart","span.fr-video",function(){W=!1}),t.events.$on(t.$el,"touchmove",function(){W=!0})),t.events.on("html.set",I),I(),t.events.$on(t.$el,"mousedown","span.fr-video",function(e){e.stopPropagation()}),t.events.$on(t.$el,"click touchend","span.fr-video",b),t.events.on("keydown",function(n){var i=n.which;return!j||i!=e.FE.KEYCODE.BACKSPACE&&i!=e.FE.KEYCODE.DELETE?j&&i==e.FE.KEYCODE.ESC?(y(!0),n.preventDefault(),!1):j&&!t.keys.ctrlKey(n)?(n.preventDefault(),!1):void 0:(n.preventDefault(),O(),!1)},!0),t.events.on("keydown",function(){t.$el.find("span.fr-video:empty").remove()}),r(!0),D(!0)}function R(){j?j.trigger("click"):(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("video.insert"),t.toolbar.showInline())}function P(e,n){if(j){var i=t.popups.get("video.size"),o=j.find("iframe, embed, video");o.css("width",e||i.find('input[name="width"]').val()),o.css("height",n||i.find('input[name="height"]').val()),o.get(0).style.width&&o.removeAttr("width"),o.get(0).style.height&&o.removeAttr("height"),i.find("input").blur(),setTimeout(function(){j.trigger("click")},t.helpers.isAndroid()?50:0)}}function U(){return j}var B,z,H,j,W;return t.shared.vid_exit_flag=!1,{_init:L,showInsertPopup:i,showLayer:s,refreshByURLButton:a,refreshEmbedButton:l,insertByURL:u,insertEmbed:d,insert:c,align:A,refreshAlign:N,refreshAlignOnShow:_,display:M,refreshDisplayOnShow:F,remove:O,showSizePopup:k,back:R,setSize:P,get:U}},e.FE.RegisterCommand("insertVideo",{title:"Insert Video",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("video.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("video.insert")):this.video.showInsertPopup()},plugin:"video"}),e.FE.DefineIcon("insertVideo",{NAME:"video-camera"}),e.FE.DefineIcon("videoByURL",{NAME:"link"}),e.FE.RegisterCommand("videoByURL",{title:"By URL",undo:!1,focus:!1,callback:function(){this.video.showLayer("video-by-url")},refresh:function(e){this.video.refreshByURLButton(e)}}),e.FE.DefineIcon("videoEmbed",{NAME:"code"}),e.FE.RegisterCommand("videoEmbed",{title:"Embedded Code",undo:!1,focus:!1,callback:function(){this.video.showLayer("video-embed")},refresh:function(e){this.video.refreshEmbedButton(e)}}),e.FE.RegisterCommand("videoInsertByURL",{undo:!0,focus:!0,callback:function(){this.video.insertByURL()}}),e.FE.RegisterCommand("videoInsertEmbed",{undo:!0,focus:!0,callback:function(){this.video.insertEmbed()}}),e.FE.DefineIcon("videoDisplay",{NAME:"star"}),e.FE.RegisterCommand("videoDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.video.display(t)},refresh:function(e){this.opts.videoTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.video.refreshDisplayOnShow(e,t)}}),e.FE.DefineIcon("videoAlign",{NAME:"align-center"}),e.FE.RegisterCommand("videoAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",justify:"None",right:"Align Right"},html:function(){var t='<ul class="fr-dropdown-list">',n=e.FE.COMMANDS.videoAlign.options;for(var i in n)n.hasOwnProperty(i)&&(t+='<li><a class="fr-command fr-title" data-cmd="videoAlign" data-param1="'+i+'" title="'+this.language.translate(n[i])+'">'+this.icon.create("align-"+i)+"</a></li>");
return t+="</ul>"},callback:function(e,t){this.video.align(t)},refresh:function(e){this.video.refreshAlign(e)},refreshOnShow:function(e,t){this.video.refreshAlignOnShow(e,t)}}),e.FE.DefineIcon("videoRemove",{NAME:"trash"}),e.FE.RegisterCommand("videoRemove",{title:"Remove",callback:function(){this.video.remove()}}),e.FE.DefineIcon("videoSize",{NAME:"arrows-alt"}),e.FE.RegisterCommand("videoSize",{undo:!1,focus:!1,title:"Change Size",callback:function(){this.video.showSizePopup()}}),e.FE.DefineIcon("videoBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("videoBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.video.back()},refresh:function(e){var t=this.video.get();t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("videoSetSize",{undo:!0,focus:!1,callback:function(){this.video.setSize()}})}),function(e){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),function(){"use strict";function e(t,i){function o(e,t){return function(){return e.apply(t,arguments)}}var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,l=0,c=s.length;l<c;l++)a[s[l]]=o(a[s[l]],a);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(e){r(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,s,a,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(c=e.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=u.tagName.toLowerCase(),"label"===a){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-s>100||i&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===a||(this.targetElement=null,e.preventDefault()),!1);return!(!i||o||(l=u.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,o,r;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(r>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(){"use strict";function e(e){function t(t,i){var r,m,g=t==window,v=i&&void 0!==i.message?i.message:void 0;if(i=e.extend({},e.blockUI.defaults,i||{}),!i.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(i.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,i.overlayCSS||{}),r=e.extend({},e.blockUI.defaults.css,i.css||{}),i.onOverlayClick&&(i.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,i.themedCSS||{}),v=void 0===v?i.message:v,g&&f&&n(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var b=v.jquery?v[0]:v,y={};e(t).data("blockUI.history",y),y.el=b,y.parent=b.parentNode,y.display=b.style.display,y.position=b.style.position,y.parent&&y.parent.removeChild(b)}e(t).data("blockUI.onUnblock",i.onUnblock);var w,x,C,S,E=i.baseZ;w=e(u||i.forceIframe?'<iframe class="blockUI" style="z-index:'+E++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+i.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),x=e(i.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+E++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+E++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),i.theme&&g?(S='<div class="blockUI '+i.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:fixed">',i.title&&(S+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),S+='<div class="ui-widget-content ui-dialog-content"></div>',S+="</div>"):i.theme?(S='<div class="blockUI '+i.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:absolute">',i.title&&(S+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),S+='<div class="ui-widget-content ui-dialog-content"></div>',S+="</div>"):S=g?'<div class="blockUI '+i.blockMsgClass+' blockPage" style="z-index:'+(E+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+i.blockMsgClass+' blockElement" style="z-index:'+(E+10)+';display:none;position:absolute"></div>',C=e(S),v&&(i.theme?(C.css(m),C.addClass("ui-widget-content")):C.css(r)),i.theme||x.css(i.overlayCSS),x.css("position",g?"fixed":"absolute"),(u||i.forceIframe)&&w.css("opacity",0);var T=[w,x,C],k=e(g?"body":t);e.each(T,function(){this.appendTo(k)}),i.theme&&i.draggable&&e.fn.draggable&&C.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var D=h&&(!e.support.boxModel||e("object,embed",g?null:t).length>0);if(d||D){if(g&&i.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(d||!e.support.boxModel)&&!g)var A=l(t,"borderTopWidth"),N=l(t,"borderLeftWidth"),_=A?"(0 - "+A+")":0,M=N?"(0 - "+N+")":0;e.each(T,function(e,t){var n=t[0].style;if(n.position="absolute",e<2)g?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+i.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),M&&n.setExpression("left",M),_&&n.setExpression("top",_);else if(i.centerY)g&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!i.centerY&&g){var o=i.css&&i.css.top?parseInt(i.css.top,10):0,r="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+o+') + "px"';n.setExpression("top",r)}})}if(v&&(i.theme?C.find(".ui-widget-content").append(v):C.append(v),(v.jquery||v.nodeType)&&e(v).show()),(u||i.forceIframe)&&i.showOverlay&&w.show(),i.fadeIn){var F=i.onBlock?i.onBlock:c,O=i.showOverlay&&!v?F:c,$=v?F:c;i.showOverlay&&x._fadeIn(i.fadeIn,O),v&&C._fadeIn(i.fadeIn,$)}else i.showOverlay&&x.show(),v&&C.show(),i.onBlock&&i.onBlock.bind(C)();if(o(1,t,i),g?(f=C[0],p=e(i.focusableElements,f),i.focusInput&&setTimeout(s,20)):a(C[0],i.centerX,i.centerY),i.timeout){var I=setTimeout(function(){g?e.unblockUI(i):e(t).unblock(i)},i.timeout);e(t).data("blockUI.timeout",I)}}}function n(t,n){var r,s=t==window,a=e(t),l=a.data("blockUI.history"),c=a.data("blockUI.timeout");c&&(clearTimeout(c),a.removeData("blockUI.timeout")),n=e.extend({},e.blockUI.defaults,n||{}),o(0,t,n),null===n.onUnblock&&(n.onUnblock=a.data("blockUI.onUnblock"),a.removeData("blockUI.onUnblock"));var u;u=s?e("body").children().filter(".blockUI").add("body > .blockUI"):a.find(">.blockUI"),n.cursorReset&&(u.length>1&&(u[1].style.cursor=n.cursorReset),u.length>2&&(u[2].style.cursor=n.cursorReset)),s&&(f=p=null),n.fadeOut?(r=u.length,u.stop().fadeOut(n.fadeOut,function(){0===--r&&i(u,l,n,t)})):i(u,l,n,t)}function i(t,n,i,o){var r=e(o);if(!r.data("blockUI.isBlocked")){t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.el.style.cursor="default",n.parent&&n.parent.appendChild(n.el),r.removeData("blockUI.history")),r.data("blockUI.static")&&r.css("position","static"),"function"==typeof i.onUnblock&&i.onUnblock(o,i);var s=e(document.body),a=s.width(),l=s[0].style.width;s.width(a-1).width(a),s[0].style.width=l}}function o(t,n,i){var o=n==window,s=e(n);if((t||(!o||f)&&(o||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",t),o&&i.bindEvents&&(!t||i.showOverlay))){var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(a,i,r):e(document).unbind(a,r)}}function r(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&f&&t.data.constrainTabKey){var n=p,i=!t.shiftKey&&t.target===n[n.length-1],o=t.shiftKey&&t.target===n[0];if(i||o)return setTimeout(function(){s(o)},10),!1}var r=t.data,a=e(t.target);return a.hasClass("blockOverlay")&&r.onOverlayClick&&r.onOverlayClick(t),a.parents("div."+r.blockMsgClass).length>0||0===a.parents().children().filter("div.blockUI").length}function s(e){if(p){var t=p[e===!0?p.length-1:0];t&&t.focus()}}function a(e,t,n){var i=e.parentNode,o=e.style,r=(i.offsetWidth-e.offsetWidth)/2-l(i,"borderLeftWidth"),s=(i.offsetHeight-e.offsetHeight)/2-l(i,"borderTopWidth");t&&(o.left=r>0?r+"px":"0"),n&&(o.top=s>0?s+"px":"0")}function l(t,n){return parseInt(e.css(t,n),10)||0}e.fn._fadeIn=e.fn.fadeIn;var c=e.noop||function(){},u=/MSIE/.test(navigator.userAgent),d=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),h=(document.documentMode||0,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){n(window,e)},e.growlUI=function(t,n,i,o){var r=e('<div class="growlUI"></div>');t&&r.append("<h1>"+t+"</h1>"),n&&r.append("<h2>"+n+"</h2>"),void 0===i&&(i=3e3);var s=function(t){t=t||{},e.blockUI({message:r,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:i,centerY:!1,showOverlay:!1,onUnblock:o,css:e.blockUI.defaults.growlCSS})};s();r.css("opacity");r.mouseover(function(){s({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(n){if(this[0]===window)return e.blockUI(n),this;var i=e.extend({},e.blockUI.defaults,n||{});return this.each(function(){var t=e(this);i.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,n)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){n(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var f=null,p=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(e){var t=!1,n=!1,i=5e3,o=2e3,r=0,s=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),l=["ms","moz","webkit","o"],c=window.requestAnimationFrame||!1,u=window.cancelAnimationFrame||!1;if(!c)for(var d in l){var h=l[d];c||(c=window[h+"RequestAnimationFrame"]),u||(u=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"])}var f=window.MutationObserver||window.WebKitMutationObserver||!1,p={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},m=!1,g=function(){if(m)return m;var e=document.createElement("DIV"),t={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};t.isopera="opera"in window,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),t.isie="all"in document&&"attachEvent"in e&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in e.style),t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||7==document.documentMode),t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode,t.isie9=t.isie&&"performance"in window&&9<=document.documentMode,t.isie10=t.isie&&"performance"in window&&10<=document.documentMode,t.isie9mobile=/iemobile.9/i.test(navigator.userAgent),t.isie9mobile&&(t.isie9=!1),t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent),t.ismozilla="MozAppearance"in e.style,t.iswebkit="WebkitAppearance"in e.style,t.ischrome="chrome"in window,t.ischrome22=t.ischrome&&t.haspointerlock,t.ischrome26=t.ischrome&&"transition"in e.style,t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,t.hasmstouch=window.navigator.msPointerEnabled||!1,t.ismac=/^mac$/i.test(navigator.platform),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),t.isios4=t.isios&&!("seal"in Object),t.isandroid=/android/i.test(navigator.userAgent),t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1;for(var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<n.length;i++)if("undefined"!=typeof e.style[n[i]]){t.trstyle=n[i];break}t.hastransform=0!=t.trstyle,t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle])),t.transitionstyle=!1,t.prefixstyle="",t.transitionend=!1;for(var n="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),o=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),r="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<n.length;i++)if(n[i]in e.style){t.transitionstyle=n[i],t.prefixstyle=o[i],t.transitionend=r[i];break}t.ischrome26&&(t.prefixstyle=o[1]),t.hastransition=t.transitionstyle;e:{for(n=["-moz-grab","-webkit-grab","grab"],(t.ischrome&&!t.ischrome22||t.isie)&&(n=[]),i=0;i<n.length;i++)if(o=n[i],e.style.cursor=o,e.style.cursor==o){n=o;break e}n="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return t.cursorgrabvalue=n,t.hasmousecapture="setCapture"in e,t.hasMutationObserver=!1!==f,m=t},v=function(a,l){function d(){var e=y.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function h(e,t,n){return t=e.css(t),e=parseFloat(t),isNaN(e)?(e=S[t]||0,n=3==e?n?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&e&&(e+=1),n?e:0):e}function m(e,t,n,i){y._bind(e,t,function(i){i=i?i:window.event;var o={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(o.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(o.deltaX=-.025*i.wheelDeltaX)):o.deltaY=i.detail,n.call(e,o)},i)}function v(e,t,n){var i,o;if(0==e.deltaMode?(i=-Math.floor(e.deltaX*(y.opt.mousescrollstep/54)),o=-Math.floor(e.deltaY*(y.opt.mousescrollstep/54))):1==e.deltaMode&&(i=-Math.floor(e.deltaX*y.opt.mousescrollstep),o=-Math.floor(e.deltaY*y.opt.mousescrollstep)),t&&y.opt.oneaxismousemode&&0==i&&o&&(i=o,o=0),i&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=i,y.debounced("mousewheelx",function(){var e=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(e)},120)),o){if(y.opt.nativeparentscrolling&&n&&!y.ispage&&!y.zoomactive)if(0>o){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=o,y.debounced("mousewheely",function(){var e=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(e)},120)}return e.stopImmediatePropagation(),e.preventDefault()}var y=this;if(this.version="3.5.0",this.name="nicescroll",this.me=l,this.opt={doc:e("body"),win:!1},e.extend(this.opt,p),this.opt.snapbackspeed=80,a)for(var w in y.opt)"undefined"!=typeof a[w]&&(y.opt[w]=a[w]);this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+o++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=g();var x=e.extend({},this.detected);if(this.ishwscroll=(this.canhwscroll=x.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.istouchcapable=!1,x.cantouch&&x.ischrome&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),x.cantouch&&x.ismozilla&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),y.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.delayed=function(e,t,n,i){var o=y.delaylist[e],r=(new Date).getTime();return!(!i&&o&&o.tt)&&(o&&o.tt&&clearTimeout(o.tt),void(o&&o.last+n>r&&!o.tt?y.delaylist[e]={last:r+n,tt:setTimeout(function(){y.delaylist[e].tt=0,t.call()},n)}:o&&o.tt||(y.delaylist[e]={last:r,tt:0},setTimeout(function(){t.call()},0))))},this.debounced=function(e,t,n){var i=y.delaylist[e];(new Date).getTime(),y.delaylist[e]=t,i||setTimeout(function(){var t=y.delaylist[e];y.delaylist[e]=!1,t.call()},n)},this.synched=function(e,t){return y.synclist[e]=t,function(){y.onsync||(c(function(){y.onsync=!1;for(e in y.synclist){var t=y.synclist[e];t&&t.call(y),y.synclist[e]=!1}}),y.onsync=!0)}(),e},this.unsynched=function(e){y.synclist[e]&&(y.synclist[e]=!1)},this.css=function(e,t){for(var n in t)y.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])},this.scrollTop=function(e){return"undefined"==typeof e?y.getScrollTop():y.setScrollTop(e)},this.scrollLeft=function(e){return"undefined"==typeof e?y.getScrollLeft():y.setScrollLeft(e)},BezierClass=function(e,t,n,i,o,r,s){this.st=e,this.ed=t,this.spd=n,this.p1=i||0,this.p2=o||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden");var C=function(){var e=y.doc.css(x.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)};this.getScrollTop=function(e){if(!e){if(e=C())return 16==e.length?-e[13]:-e[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=C())return 16==e.length?-e[12]:-e[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(t)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll"),t.cancelBubble=!0}:function(e,t){},x.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(x.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=-1*e+"px",y.doc.css(x.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(x.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=-1*e+"px",y.doc.css(x.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(e){return y.docscroll.scrollTop(e)},this.getScrollLeft=function(){return y.docscroll.scrollLeft()},this.setScrollLeft=function(e){return y.docscroll.scrollLeft(e)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var n=e.target||e.srcElement||e||!1;n&&n.id!=t;)n=n.parentNode||!1;return!1!==n};var S={thin:1,medium:3,thick:5};this.getOffset=function(){if(y.isfixed)return{top:parseFloat(y.win.css("top")),left:parseFloat(y.win.css("left"))};if(!y.viewport)return y.win.offset();var e=y.win.offset(),t=y.viewport.offset();return{top:e.top-t.top+y.viewport.scrollTop(),left:e.left-t.left+y.viewport.scrollLeft()
}},this.updateScrollBar=function(e){if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()}),y.railh&&y.railh.css({width:y.win.innerWidth()});else{var t=y.getOffset(),n=t.top,i=t.left,n=n+h(y.win,"border-top-width",!0);y.win.outerWidth(),y.win.innerWidth();var i=i+(y.rail.align?y.win.outerWidth()-h(y.win,"border-right-width")-y.rail.width:h(y.win,"border-left-width")),o=y.opt.railoffset;o&&(o.top&&(n+=o.top),y.rail.align&&o.left&&(i+=o.left)),y.locked||y.rail.css({top:n,left:i,height:e?e.h:y.win.innerHeight()}),y.zoom&&y.zoom.css({top:n+1,left:1==y.rail.align?i-20:i+y.rail.width+4}),y.railh&&!y.locked&&(n=t.top,i=t.left,e=y.railh.align?n+h(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:n+h(y.win,"border-top-width",!0),i+=h(y.win,"border-left-width"),y.railh.css({top:e,left:i,width:y.railh.width}))}},this.doRailClick=function(e,t,n){var i;y.locked||(y.cancelEvent(e),t?(t=n?y.doScrollLeft:y.doScrollTop,i=n?(e.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(e.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,t(i)):(t=n?y.doScrollLeftBy:y.doScrollBy,i=n?y.scroll.x:y.scroll.y,e=n?e.pageX-y.railh.offset().left:e.pageY-y.rail.offset().top,n=n?y.view.w:y.view.h,t(i>=e?n:-n)))},y.hasanimationframe=c,y.hascancelanimationframe=u,y.hasanimationframe?y.hascancelanimationframe||(u=function(){y.cancelAnimationFrame=!0}):(c=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},u=clearInterval),this.init=function(){if(y.saved.css=[],x.isie7mobile||x.isoperamini)return!0;if(x.hasmstouch&&y.css(y.ispage?e("html"):y.win,{"-ms-touch-action":"none"}),y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:d()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>r&&(r=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var o=y.docscroll;y.ispage&&(o=y.haswrapper?y.win:y.doc),x.isie9mobile||y.css(o,{"overflow-y":"hidden"}),y.ispage&&x.isie7&&("BODY"==y.doc[0].nodeName?y.css(e("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(e("body"),{"overflow-y":"hidden"})),x.isios&&!y.ispage&&!y.haswrapper&&y.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var a=e(document.createElement("div"));a.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),a.hborder=parseFloat(a.outerHeight()-a.innerHeight()),y.cursor=a;var l=e(document.createElement("div"));l.attr("id",y.id),l.addClass("nicescroll-rails");var c,u,h,p=["left","right"];for(h in p)u=p[h],(c=y.opt.railpadding[u])?l.css("padding-"+u,c+"px"):y.opt.railpadding[u]=0;if(l.append(a),l.width=Math.max(parseFloat(y.opt.cursorwidth),a.outerWidth())+y.opt.railpadding.left+y.opt.railpadding.right,l.css({width:l.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),l.visibility=!0,l.scrollable=!0,l.align="left"==y.opt.railalign?0:1,y.rail=l,a=y.rail.drag=!1,y.opt.boxzoom&&!y.ispage&&!x.isieold&&(a=document.createElement("div"),y.bind(a,"click",y.doZoom),y.zoom=e(a),y.zoom.css({cursor:"pointer","z-index":y.zindex,backgroundImage:"url("+s+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),x.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(e){return 1.5<e.scale&&y.doZoomIn(e),.8>e.scale&&y.doZoomOut(e),y.cancelEvent(e)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1,y.opt.horizrailenabled){y.css(o,{"overflow-x":"hidden"}),a=e(document.createElement("div")),a.css({position:"relative",top:0,height:y.opt.cursorwidth,width:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),a.wborder=parseFloat(a.outerWidth()-a.innerWidth()),y.cursorh=a;var m=e(document.createElement("div"));m.attr("id",y.id+"-hr"),m.addClass("nicescroll-rails"),m.height=Math.max(parseFloat(y.opt.cursorwidth),a.outerHeight()),m.css({height:m.height+"px",zIndex:y.zindex,background:y.opt.background}),m.append(a),m.visibility=!0,m.scrollable=!0,m.align="top"==y.opt.railvalign?0:1,y.railh=m,y.railh.drag=!1}if(y.ispage?(l.css({position:"fixed",top:"0px",height:"100%"}),l.align?l.css({right:"0px"}):l.css({left:"0px"}),y.body.append(l),y.railh&&(m.css({position:"fixed",left:"0px",width:"100%"}),m.align?m.css({bottom:"0px"}):m.css({top:"0px"}),y.body.append(m))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),o="HTML"==y.win[0].nodeName?y.body:y.win,y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":l.width+4}),o.append(y.zoom)),l.css({position:"absolute",top:0}),l.align?l.css({right:0}):l.css({left:0}),o.append(l),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),o.append(m))):(y.isfixed="fixed"==y.win.css("position"),o=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|relative|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),l.css({position:o}),y.zoom&&y.zoom.css({position:o}),y.updateScrollBar(),y.body.append(l),y.zoom&&y.body.append(y.zoom),y.railh&&(m.css({position:o}),y.body.append(m))),x.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),x.iswebkit&&y.opt.disableoutline&&y.win.css({outline:"none"})),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode||"leave"===y.opt.autohidemode?(y.autohidedom=e().add(y.rail),x.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&x.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=e().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=e().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.locked=!1),x.isie9mobile)y.scrollmom=new b(y),y.onmangotouch=function(e){e=y.getScrollTop();var t=y.getScrollLeft();if(e==y.scrollmom.lastscrolly&&t==y.scrollmom.lastscrollx)return!0;var n=e-y.mangotouch.sy,i=t-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(n,2)))){var o=0>n?-1:1,r=0>i?-1:1,s=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<s-y.mangotouch.tm||y.mangotouch.dry!=o||y.mangotouch.drx!=r?(y.scrollmom.stop(),y.scrollmom.reset(t,e),y.mangotouch.sy=e,y.mangotouch.ly=e,y.mangotouch.sx=t,y.mangotouch.lx=t,y.mangotouch.dry=o,y.mangotouch.drx=r,y.mangotouch.tm=s):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-i,y.mangotouch.sy-n),y.mangotouch.tm=s,n=Math.max(Math.abs(y.mangotouch.ly-e),Math.abs(y.mangotouch.lx-t)),y.mangotouch.ly=e,y.mangotouch.lx=t,2<n&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},l=y.getScrollTop(),m=y.getScrollLeft(),y.mangotouch={sy:l,ly:l,dry:0,sx:m,lx:m,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(x.cantouch||y.istouchcapable||y.opt.touchbehavior||x.hasmstouch){y.scrollmom=new b(y),y.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType)return!1;if(!y.locked){if(x.hasmstouch)for(var n=!!t.target&&t.target;n;){var i=e(n).getNiceScroll();if(0<i.length&&i[0].me==y.me)break;if(0<i.length)return!1;if("DIV"==n.nodeName&&n.id==y.id)break;n=!!n.parentNode&&n.parentNode}if(y.cancelScroll(),(n=y.getTarget(t))&&/INPUT/i.test(n.nodeName)&&/range/i.test(n.type))return y.stopPropagation(t);if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen&&(i=t,t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY),y.rail.drag={x:t.clientX,y:t.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var i=e(window).width(),o=e(window).height(),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),o=Math.max(0,s-o),i=Math.max(0,r-i);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?0<o&&"v":!(!y.rail.scrollable||y.railh.scrollable)&&(0<i&&"h"),y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&x.isie&&(i=y.win.position(),y.rail.drag.x+=i.left,y.rail.drag.y+=i.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(t.clientX,t.clientY),!x.cantouch&&!this.istouchcapable&&!x.hasmstouch){if(!n||!/INPUT|SELECT|TEXTAREA/i.test(n.nodeName))return!y.ispage&&x.hasmousecapture&&n.setCapture(),y.opt.touchbehavior?y.cancelEvent(t):y.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(e(n).attr("type"))&&(pc={tg:n,click:!1},y.preventclick=pc)}}},y.ontouchend=function(e){return(!e.pointerType||2==e.pointerType)&&(y.rail.drag&&2==y.rail.drag.pt&&(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.hasmoving=!1,y.lastmouseup=!0,y.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))?y.cancelEvent(e):void 0)};var g=y.opt.touchbehavior&&y.isiframe&&!x.hasmousecapture;y.ontouchmove=function(t,n){if(t.pointerType&&2!=t.pointerType)return!1;if(y.rail.drag&&2==y.rail.drag.pt){if(x.cantouch&&"undefined"==typeof t.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),t=e.extend({original:t},t),"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen){var i=t;t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY}if(i=ofy=0,g&&!n){var o=y.win.position(),i=-o.left;ofy=-o.top}var r=t.clientY+ofy,o=r-y.rail.drag.y,s=t.clientX+i,a=s-y.rail.drag.x,l=y.rail.drag.st-o;if(y.ishwscroll&&y.opt.bouncescroll?0>l?l=Math.round(l/2):l>y.page.maxh&&(l=y.page.maxh+Math.round((l-y.page.maxh)/2)):(0>l&&(r=l=0),l>y.page.maxh&&(l=y.page.maxh,r=0)),y.railh&&y.railh.scrollable){var c=y.rail.drag.sl-a;y.ishwscroll&&y.opt.bouncescroll?0>c?c=Math.round(c/2):c>y.page.maxw&&(c=y.page.maxw+Math.round((c-y.page.maxw)/2)):(0>c&&(s=c=0),c>y.page.maxw&&(c=y.page.maxw,s=0))}if(i=!1,y.rail.drag.dl)i=!0,"v"==y.rail.drag.dl?c=y.rail.drag.sl:"h"==y.rail.drag.dl&&(l=y.rail.drag.st);else{var o=Math.abs(o),a=Math.abs(a),u=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(o>u&&a<=.3*o)return y.rail.drag=!1,!0;a>u&&(y.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(a>u&&o<=.3*a)return y.rail.drag=!1,!0;o>u&&(y.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(l),y.scrollmom.update(s,r),y.railh&&y.railh.scrollable?(y.setScrollLeft(c),y.showCursor(l,c)):y.showCursor(l),x.isie10&&document.selection.clear())}),x.ischrome&&y.istouchcapable&&(i=!1),i)return y.cancelEvent(t)}}}if(y.onmousedown=function(e,t){if(!y.rail.drag||1==y.rail.drag.pt){if(y.locked)return y.cancelEvent(e);y.cancelScroll(),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!t};var n=y.getTarget(e);return!y.ispage&&x.hasmousecapture&&n.setCapture(),y.isiframe&&!x.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.cancelEvent(e)}},y.onmouseup=function(e){if(y.rail.drag&&(x.hasmousecapture&&document.releaseCapture(),y.isiframe&&!x.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),1==y.rail.drag.pt))return y.rail.drag=!1,y.cancelEvent(e)},y.onmousemove=function(e){if(y.rail.drag&&1==y.rail.drag.pt){if(x.ischrome&&0==e.which)return y.onmouseup(e);if(y.cursorfreezed=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var t=y.scrollvaluemaxw;y.scroll.x>t&&(y.scroll.x=t)}else y.scroll.y=y.rail.drag.sy+(e.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),t=y.scrollvaluemax,y.scroll.y>t&&(y.scroll.y=t);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(e)}},x.cantouch||y.opt.touchbehavior)y.onpreventclick=function(e){if(y.preventclick)return y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(e)},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=!x.isios&&function(e){return!y.lastmouseup||(y.lastmouseup=!1,y.cancelEvent(e))},y.opt.grabcursorenabled&&x.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:x.cursorgrabvalue}),y.css(y.rail,{cursor:x.cursorgrabvalue}));else{var v=function(e){if(y.selectiondrag){if(e){var t=y.win.outerHeight();e=e.pageY-y.selectiondrag.top,0<e&&e<t&&(e=0),e>=t&&(e-=t),y.selectiondrag.df=e}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){v()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(e){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(e){y.selectiondrag=!1},y.onselectiondrag=function(e){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){v(e)},250)}}x.hasmstouch&&(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(e){e.preventDefault()}),y.bind(y.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.bind(y.cursorh,"mouseup",function(e){if(!y.rail.drag||2!=y.rail.drag.pt)return y.rail.drag=!1,y.hasmoving=!1,y.hideCursor(),x.hasmousecapture&&document.releaseCapture(),y.cancelEvent(e)})),(y.opt.cursordragontouch||!x.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(e){y.doRailClick(e,!1,!1)}),y.bind(y.rail,"dblclick",function(e){y.doRailClick(e,!0,!1)}),y.bind(y.cursor,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursor,"dblclick",function(e){y.cancelEvent(e)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(e){y.doRailClick(e,!1,!0)}),y.bind(y.railh,"dblclick",function(e){y.doRailClick(e,!0,!0)}),y.bind(y.cursorh,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursorh,"dblclick",function(e){y.cancelEvent(e)})))),x.cantouch||y.opt.touchbehavior?(y.bind(x.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch&&(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mousemove",y.onmousemove),y.cursorh&&y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.cursorh&&y.bind(y.cursorh,"mousemove",y.onmousemove))):(y.bind(x.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.bind(x.isie&&y.ispage?document:y.win,"mousewheel",y.onmousewheel),y.bind(y.rail,"mousewheel",y.onmousewheel),y.railh&&y.bind(y.railh,"mousewheel",y.onmousewheelhr)),!y.ispage&&!x.cantouch&&!/HTML|BODY/.test(y.win[0].nodeName)&&(y.win.attr("tabindex")||y.win.attr({tabindex:i++}),y.jqbind(y.win,"focus",function(e){t=y.getTarget(e).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(e){t=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(e){n=y.getTarget(e).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){n=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(e){if(y.locked&&0==y.page.maxh)return!0;e=e?e:window.e;var i=y.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)&&(!i.getAttribute("type")&&!i.type||!/submit|button|cancel/i.tp))return!0;if(y.hasfocus||y.hasmousefocus&&!t||y.ispage&&!t&&!n){if(i=e.keyCode,y.locked&&27!=i)return y.cancelEvent(e);var o=e.ctrlKey||!1,r=e.shiftKey||!1,s=!1;switch(i){case 38:case 63233:y.doScrollBy(72),s=!0;break;case 40:case 63235:y.doScrollBy(-72),s=!0;break;case 37:case 63232:y.railh&&(o?y.doScrollLeft(0):y.doScrollLeftBy(72),s=!0);break;case 39:case 63234:y.railh&&(o?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),s=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),s=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),s=!0;break;case 36:case 63273:y.railh&&o?y.doScrollPos(0,0):y.doScrollTo(0),s=!0;break;case 35:case 63275:y.railh&&o?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),s=!0;break;case 32:y.opt.spacebarenabled&&(r?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h),s=!0);break;case 27:y.zoomactive&&(y.doZoom(),s=!0)}if(s)return y.cancelEvent(e)}},y.opt.enablekeyboard&&y.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",y.onkeypress),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),x.ischrome&&!y.ispage&&!y.haswrapper){var w=y.win.attr("style"),l=parseFloat(y.win.css("width"))+1;y.win.css("width",l),y.synched("chromefix",function(){y.win.attr("style",w)})}y.onAttributeChange=function(e){y.lazyResize(250)},!y.ispage&&!y.haswrapper&&(!1!==f?(y.observer=new f(function(e){e.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new f(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(e.removedNodes[t]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),x.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(e){e.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&y.bind(y.win,"mouseup",y.lazyResize),y.checkrtlmode=!0,y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var C=function(t){y.iframexd=!1;try{var n="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(i){y.iframexd=!0,n=!1}return y.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:e(n),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=e(y.iframe.body)),!x.isios&&y.opt.iframeautoresize&&!y.isiframe&&(y.win.scrollTop(0),y.doc.height(""),t=Math.max(n.getElementsByTagName("html")[0].scrollHeight,n.body.scrollHeight),y.doc.height(t)),y.lazyResize(30),x.isie7&&y.css(e(y.iframe.html),{"overflow-y":"hidden"}),y.css(e(y.iframe.body),{"overflow-y":"hidden"}),x.isios&&y.haswrapper&&y.css(e(n.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(n,"scroll",y.onscroll),y.opt.enablemousewheel&&y.bind(n,"mousewheel",y.onmousewheel),y.opt.enablekeyboard&&y.bind(n,x.isopera?"keypress":"keydown",y.onkeypress),(x.cantouch||y.opt.touchbehavior)&&(y.bind(n,"mousedown",y.ontouchstart),y.bind(n,"mousemove",function(e){y.ontouchmove(e,!0)}),y.opt.grabcursorenabled&&x.cursorgrabvalue&&y.css(e(n.body),{cursor:x.cursorgrabvalue})),y.bind(n,"mouseup",y.ontouchend),void(y.zoom&&(y.opt.dblclickzoom&&y.bind(n,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(n,"gestureend",y.ongesturezoom))))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){C.call(y.doc[0],!1)},500),y.bind(this.doc,"load",C)}},this.showCursor=function(e,t){y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail&&(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||("undefined"!=typeof e&&!1!==e&&(y.scroll.y=Math.round(1*e/y.scrollratio.y)),"undefined"!=typeof t&&(y.scroll.x=Math.round(1*t/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh&&(!y.rail.align&&y.rail.visibility?y.cursorh.css({width:y.cursorwidth,left:y.scroll.x+y.rail.width}):y.cursorh.css({width:y.cursorwidth,left:y.scroll.x}),y.cursoractive=!0),y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax}))},this.hideCursor=function(e){!y.cursortimeout&&y.rail&&y.autohidedom&&!(y.hasmousefocus&&"leave"==y.opt.autohidemode)&&(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},e||y.opt.hidecursordelay))},this.noticeCursor=function(e,t,n){y.showCursor(t,n),y.rail.active||y.hideCursor(e)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;!y.hidden&&!y.visibility&&y.showRail().showRailHr()}var n=y.page.maxh,i=y.page.maxw,o=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=t?t:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==n&&y.page.maxw==i&&y.view.w==o){if(y.ispage)return y;if(n=y.win.offset(),y.lastposition&&(i=y.lastposition,i.top==n.top&&i.left==n.left))return y;y.lastposition=n}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail.scrollable=!1):y.rail.scrollable=!0,0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh.scrollable=!1):y.railh.scrollable=!0,y.locked=0==y.page.maxh&&0==y.page.maxw,y.locked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?!y.hidden&&!y.railh.visibility&&y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h*(y.view.h/y.page.h))),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w*(y.view.w/y.page.w))),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder,y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder),y.checkrtlmode&&y.railh&&(y.checkrtlmode=!1,y.opt.rtlmode&&0==y.scroll.x&&y.setScrollLeft(y.page.maxw)),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,y.delayed("resize",y.resize,e),y},this._bind=function(e,t,n,i){y.events.push({e:e,n:t,f:n,b:i,q:!1}),e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},this.jqbind=function(t,n,i){y.events.push({e:t,n:n,f:i,q:!0}),e(t).bind(n,i)},this.bind=function(e,t,n,i){var o="jquery"in e?e[0]:e;"mousewheel"==t?"onwheel"in y.win?y._bind(o,"wheel",n,i||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",m(o,e,n,i||!1),"DOMMouseScroll"==e&&m(o,"MozMousePixelScroll",n,i||!1)):o.addEventListener?(x.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&y._bind(o,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e,n.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,n.call(this,t))},i||!1),y._bind(o,t,n,i||!1),x.cantouch&&"mouseup"==t&&y._bind(o,"touchcancel",n,i||!1)):y._bind(o,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==n.call(o,e)&&!1!==i||y.cancelEvent(e)})},this._unbind=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=!1},this.unbindAll=function(){for(var e=0;e<y.events.length;e++){var t=y.events[e];t.q?t.e.unbind(t.n,t.f):y._unbind(t.e,t.n,t.f,t.b)}},this.cancelEvent=function(e){return!!(e=e.original?e.original:e?e:window.event||!1)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1)},this.stopPropagation=function(e){return!!(e=e.original?e.original:e?e:window.event||!1)&&(e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1))},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.locked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.locked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout),y.doZoomOut(),y.unbindAll(),x.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove();for(var t=0;t<y.saved.css.length;t++){var n=y.saved.css[t];n[0].css(n[1],"undefined"==typeof n[2]?"":n[2])}y.saved=!1,y.me.data("__nicescroll","");var i=e.nicescroll;i.each(function(e){if(this&&this.id===y.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];i.length--,i.length&&delete i[i.length]}});for(var o in y)y[o]=null,delete y[o];y=null},this.scrollstart=function(e){return this.onscrollstart=e,y},this.scrollend=function(e){return this.onscrollend=e,y},this.scrollcancel=function(e){return this.onscrollcancel=e,y},this.zoomin=function(e){return this.onzoomin=e,y},this.zoomout=function(e){return this.onzoomout=e,y},this.isScrollable=function(t){if(t=t.target?t.target:t,"OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var n=e(t),n=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(n))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(t){for(t=!(!t||!t.parentNode)&&t.parentNode;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var n=e(t);if(/fixed|absolute/.test(n.css("position")))return n;var i=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(i)&&t.clientHeight!=t.scrollHeight||0<n.getNiceScroll().length)return n;t=!!t.parentNode&&t.parentNode}return!1},this.onmousewheel=function(e){if(y.locked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(e);if("auto"==y.opt.oneaxismousemode&&0!=e.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==e.deltaX&&!y.rail.scrollable)return!y.railh||!y.railh.scrollable||y.onmousewheelhr(e);var t=+new Date,n=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),n=!0),y.checkarea=t,!!y.nativescrollingarea||((e=v(e,!1,n))&&(y.checkarea=0),e)},this.onmousewheelhr=function(e){if(y.locked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(e);var t=+new Date,n=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),n=!0),y.checkarea=t,!!y.nativescrollingarea||(y.locked?y.cancelEvent(e):v(e,!0,n))},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(e){var t=Math.round(10*y.opt.scrollspeed);return e=Math.min(t,Math.round(e/20*y.opt.scrollspeed)),20<e?e:0},y.opt.smoothscroll?y.ishwscroll&&x.hastransition&&y.opt.usetransition?(this.prepareTransition=function(e,t){var n=t?20<e?e:0:y.getTransitionSpeed(e),i=n?x.prefixstyle+"transform "+n+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==i||(y.lasttransitionstyle=i,y.doc.css(x.transitionstyle,i)),n},this.doScrollLeft=function(e,t){var n=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=y.scrollrunning?y.newscrollx:y.getScrollLeft();
y.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var i=y.getScrollTop(),o=y.getScrollLeft();return(0>(y.newscrolly-i)*(t-i)||0>(y.newscrollx-o)*(e-o))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw)),(!y.scrollrunning||e!=y.newscrollx||t!=y.newscrolly)&&(y.newscrolly=t,y.newscrollx=e,y.newscrollspeed=n||!1,!y.timer&&void(y.timer=setTimeout(function(){var n,i,o=y.getScrollTop(),r=y.getScrollLeft();n=e-r,i=t-o,n=Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(i,2))),n=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(n),y.newscrollspeed&&1>=y.newscrollspeed&&(n*=y.newscrollspeed),y.prepareTransition(n,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),0<n&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:r,y:o},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:n}),x.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,x.transitionend,y.onScrollEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollEnd,n)),y.timerscroll={bz:new BezierClass(o,y.newscrolly,n,0,0,.58,1),bh:new BezierClass(r,y.newscrollx,n,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var e=y.getScrollTop(),t=y.getScrollLeft();return y.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc,x.transitionend,y.onScrollEnd),y.prepareTransition(0),y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(e,t),y},this.onScrollEnd=function(){y.scrollendtrapped&&y._unbind(y.doc,x.transitionend,y.onScrollEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var e=y.getScrollTop(),t=y.getScrollLeft();return y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.noticeCursor(!1,e,t),y.cursorfreezed=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),e!=y.newscrolly||t!=y.newscrollx?y.doScrollPos(t,e,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.onscrollend.call(y,{type:"scrollend",current:{x:t,y:e},end:{x:y.newscrollx,y:y.newscrolly}}),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(e,t){var n=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){function i(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,d=1-d)return y.timer=c(i)||1;var e=0,t=sy=y.getScrollTop();if(y.dst.ay){var t=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,n=t-sy;(0>n&&t<y.newscrolly||0<n&&t>y.newscrolly)&&(t=y.newscrolly),y.setScrollTop(t),t==y.newscrolly&&(e=1)}else e=1;var o=sx=y.getScrollLeft();y.dst.ax?(o=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,n=o-sx,(0>n&&o<y.newscrollx||0<n&&o>y.newscrollx)&&(o=y.newscrollx),y.setScrollLeft(o),o==y.newscrollx&&(e+=1)):e+=1,2==e?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>o?o=0:o>y.page.maxw&&(o=y.page.maxw),o!=y.newscrollx||t!=y.newscrolly?y.doScrollPos(o,t):y.onscrollend&&y.onscrollend.call(y,{type:"scrollend",current:{x:sx,y:sy},end:{x:y.newscrollx,y:y.newscrolly}})):y.timer=c(i)||1}if(t="undefined"==typeof t||!1===t?y.getScrollTop(!0):t,y.timer&&y.newscrolly==t&&y.newscrollx==e)return!0;y.timer&&u(y.timer),y.timer=0;var o=y.getScrollTop(),r=y.getScrollLeft();(0>(y.newscrolly-o)*(t-o)||0>(y.newscrollx-r)*(e-r))&&y.cancelScroll(),y.newscrolly=t,y.newscrollx=e,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=e-r,y.dst.y=t-o,y.dst.px=r,y.dst.py=o;var s=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/s,y.dst.ay=y.dst.y/s;var a=0,l=s;if(0==y.dst.x?(a=o,l=t,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(a=r,l=e,y.dst.ax=1,y.dst.px=0),s=y.getTransitionSpeed(s),n&&1>=n&&(s*=n),y.bzscroll=0<s&&(y.bzscroll?y.bzscroll.update(l,s):new BezierClass(a,l,s,0,1,0,1)),!y.timer){(o==y.page.maxh&&t>=y.page.maxh||r==y.page.maxw&&e>=y.page.maxw)&&y.checkContentSize();var d=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:r,y:o},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:s}),i(),(o==y.page.maxh&&t>=o||r==y.page.maxw&&e>=r)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&u(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(e,t){var n=y.getScrollTop();y.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=y.getScrollLeft();y.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var i=e>y.page.maxw?y.page.maxw:e;0>i&&(i=0);var o=t>y.page.maxh?y.page.maxh:t;0>o&&(o=0),y.synched("scroll",function(){y.setScrollTop(o),y.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var n=0,n=t?Math.floor((y.scroll.y-e)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.h/2);n<-i?n=-i:n>y.page.maxh+i&&(n=y.page.maxh+i)}return y.cursorfreezed=!1,py=y.getScrollTop(!0),0>n&&0>=py?y.noticeCursor():n>y.page.maxh&&py>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(n)},this.doScrollLeftBy=function(e,t){var n=0,n=t?Math.floor((y.scroll.x-e)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.w/2);n<-i?n=-i:n>y.page.maxw+i&&(n=y.page.maxw+i)}return y.cursorfreezed=!1,px=y.getScrollLeft(!0),0>n&&0>=px||n>y.page.maxw&&px>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(n)},this.doScrollTo=function(e,t){t&&Math.round(e*y.scrollratio.y),y.cursorfreezed=!1,y.doScrollTop(e)},this.checkContentSize=function(){var e=y.getContentSize();(e.h!=y.page.h||e.w!=y.page.w)&&y.resize(!1,e)},y.onscroll=function(e){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(t){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var n,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),o=y.win[0].style;for(n in i){var s=i[n];y.zoomrestore.style[s]="undefined"!=typeof o[s]?o[s]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},x.isios4&&(y.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),y.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,"z-index":r+100,margin:"0px"}),i=y.win.css("backgroundColor"),(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&y.win.css("backgroundColor","#fff"),y.rail.css({"z-index":r+101}),y.zoom.css({"z-index":r+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(t)}},this.doZoomOut=function(t){if(y.zoomactive)return y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),x.isios4&&e(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(t)},this.doZoom=function(e){return y.zoomactive?y.doZoomOut(e):y.doZoomIn(e)},this.resizeZoom=function(){if(y.zoomactive){var t=y.getScrollTop();y.win.css({width:e(window).width()-y.zoomrestore.padding.w+"px",height:e(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,t))}},this.init(),e.nicescroll.push(this)},b=function(e){var t=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,n){t.stop();var i=t.time();t.steptime=0,t.lasttime=i,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=n,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,n){var i=t.time();t.steptime=i-t.lasttime,t.lasttime=i;var i=n-t.lasty,o=e-t.lastx,r=t.nc.getScrollTop(),s=t.nc.getScrollLeft(),r=r+i,s=s+o;t.snapx=0>s||s>t.nc.page.maxw,t.snapy=0>r||r>t.nc.page.maxh,t.speedx=o,t.speedy=i,t.lastx=e,t.lasty=n},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,n){var i=!1;0>n?(n=0,i=!0):n>t.nc.page.maxh&&(n=t.nc.page.maxh,i=!0),0>e?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i&&t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed)},this.doMomentum=function(e){var n=t.time(),i=e?n+e:t.lasttime;e=t.nc.getScrollLeft();var o=t.nc.getScrollTop(),r=t.nc.page.maxh,s=t.nc.page.maxw;if(t.speedx=0<s?Math.min(60,t.speedx):0,t.speedy=0<r?Math.min(60,t.speedy):0,i=i&&60>=n-i,(0>o||o>r||0>e||e>s)&&(i=!1),e=!(!t.speedx||!i)&&t.speedx,t.speedy&&i&&t.speedy||e){var a=Math.max(16,t.steptime);50<a&&(e=a/50,t.speedx*=e,t.speedy*=e,a=50),t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var l=t.lastscrollx,c=t.lastscrolly,u=function(){var e=600<t.time()-n?.04:.02;t.speedx&&(l=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=l,0>l||l>s)&&(e=.1),t.speedy&&(c=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=c,0>c||c>r)&&(e=.1),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=l,t.nc.setScrollLeft(l)),t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=c,t.nc.setScrollTop(c)),t.timer||(t.nc.hideCursor(),t.doSnapy(l,c))}),1>t.demulxy?t.timer=setTimeout(u,a):(t.stop(),t.nc.hideCursor(),t.doSnapy(l,c))};u()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},y=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,n,i){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollTop():y.call(t)},set:function(t,n){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(n)):y.call(t,n),this}},e.fn.scrollTop=function(t){if("undefined"==typeof t){var n=!!this[0]&&(e.data(this[0],"__nicescroll")||!1);return n&&n.ishwscroll?n.getScrollTop():y.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):y.call(e(this),t)})};var w=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,n,i){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollLeft():w.call(t)},set:function(t,n){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(n)):w.call(t,n),this}},e.fn.scrollLeft=function(t){if("undefined"==typeof t){var n=!!this[0]&&(e.data(this[0],"__nicescroll")||!1);return n&&n.ishwscroll?n.getScrollLeft():w.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):w.call(e(this),t)})};var x=function(t){var n=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0,i=0;t<n.length;t++)e.call(n[t],i++);return n},this.push=function(e){n[n.length]=e,n.length++},this.eq=function(e){return n[e]},t)for(a=0;a<t.length;a++){var i=e.data(t[a],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};!function(e,t,n){for(var i=0;i<t.length;i++)n(e,t[i])}(x.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new x(this):this[t]&&e.data(this[t],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(t){return!!e.data(t,"__nicescroll")}}),e.fn.niceScroll=function(t,n){"undefined"==typeof n&&"object"==typeof t&&!("jquery"in t)&&(n=t,t=!1);var i=new x;"undefined"==typeof n&&(n={}),t&&(n.doc=e(t),n.win=e(this));var o=!("doc"in n);return!o&&!("win"in n)&&(n.win=e(this)),this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(n.doc=o?e(this):n.doc,t=new v(n,e(this)),e(this).data("__nicescroll",t)),i.push(t)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new x,e.nicescroll.options=p)}(jQuery),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,i){e(window).scrollTo(t,n,i)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var i=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},e.fn.scrollTo=function(i,o,r){return"object"==typeof o&&(r=o,o=0),"function"==typeof r&&(r={onAfter:r}),"max"==i&&(i=9e9),r=e.extend({},n.defaults,r),o=o||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(o/=2),r.offset=t(r.offset),r.over=t(r.over),this._scrollable().each(function(){function s(e){c.animate(d,o,r.easing,e&&function(){e.call(this,u,r)})}if(null!=i){var a,l=this,c=e(l),u=i,d={},h=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=e(u,this),!u.length)return;case"object":(u.is||u.style)&&(a=(u=e(u)).offset())}e.each(r.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",o=i.toLowerCase(),f="scroll"+i,p=l[f],m=n.max(l,t);if(a)d[f]=a[o]+(h?0:p-c.offset()[o]),r.margin&&(d[f]-=parseInt(u.css("margin"+i))||0,d[f]-=parseInt(u.css("border"+i+"Width"))||0),d[f]+=r.offset[o]||0,r.over[o]&&(d[f]+=u["x"==t?"width":"height"]()*r.over[o]);else{var g=u[o];d[f]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}r.limit&&/^\d+$/.test(d[f])&&(d[f]=d[f]<=0?0:Math.min(d[f],m)),!e&&r.queue&&(p!=d[f]&&s(r.onAfterFirst),delete d[f])}),s(r.onAfter)}}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",o="scroll"+i;if(!e(t).is("html,body"))return t[o]-e(t)[i.toLowerCase()]();var r="client"+i,s=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(s[o],a[o])-Math.min(s[r],a[r])}}(jQuery),function(e){e.fn.extend({slimScroll:function(n){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},o=e.extend(i,n);return this.each(function(){function i(t){if(u){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var i=t.target||t.srcTarget||t.srcElement;e(i).closest("."+o.wrapperClass).is(x.parent())&&r(n,!0),t.preventDefault&&!w&&t.preventDefault(),w||(t.returnValue=!1)}}function r(e,t,n){w=!1;var i=e,r=x.outerHeight()-k.outerHeight();if(t&&(i=parseInt(k.css("top"))+e*parseInt(o.wheelStep)/100*k.outerHeight(),i=Math.min(Math.max(i,0),r),i=e>0?Math.ceil(i):Math.floor(i),k.css({top:i+"px"})),g=parseInt(k.css("top"))/(x.outerHeight()-k.outerHeight()),i=g*(x[0].scrollHeight-x.outerHeight()),n){i=e;var s=i/x[0].scrollHeight*x.outerHeight();s=Math.min(Math.max(s,0),r),k.css({top:s+"px"})}x.scrollTop(i),x.trigger("slimscrolling",~~i),l(),c()}function s(e){window.addEventListener?(e.addEventListener("DOMMouseScroll",i,!1),e.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}function a(){m=Math.max(x.outerHeight()/x[0].scrollHeight*x.outerHeight(),y),k.css({height:m+"px"});var e=m==x.outerHeight()?"none":"block";k.css({display:e})}function l(){if(a(),clearTimeout(f),g==~~g){if(w=o.allowPageScroll,v!=g){var e=0==~~g?"top":"bottom";x.trigger("slimscroll",e)}}else w=!1;return v=g,m>=x.outerHeight()?void(w=!0):(k.stop(!0,!0).fadeIn("fast"),void(o.railVisible&&T.stop(!0,!0).fadeIn("fast")))}function c(){o.alwaysVisible||(f=setTimeout(function(){o.disableFadeOut&&u||d||h||(k.fadeOut("slow"),T.fadeOut("slow"))},1e3))}var u,d,h,f,p,m,g,v,b="<div></div>",y=30,w=!1,x=e(this);if(x.parent().hasClass(o.wrapperClass)){var C=x.scrollTop();if(k=x.closest("."+o.barClass),T=x.closest("."+o.railClass),a(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){x.parent().css("height","auto"),x.css("height","auto");var S=x.parent().parent().height();x.parent().css("height",S),x.css("height",S)}if("scrollTo"in n)C=parseInt(o.scrollTo);else if("scrollBy"in n)C+=parseInt(o.scrollBy);else if("destroy"in n)return k.remove(),T.remove(),void x.unwrap();r(C,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){o.height="auto"==o.height?x.parent().height():o.height;var E=e(b).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});x.css({overflow:"hidden",width:o.width,height:o.height});var T=e(b).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90}),k=e(b).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99}),D="right"==o.position?{right:o.distance}:{left:o.distance};T.css(D),k.css(D),x.wrap(E),x.parent().append(k),x.parent().append(T),o.railDraggable&&k.bind("mousedown",function(n){var i=e(document);return h=!0,t=parseFloat(k.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,k.css("top",currTop),r(0,k.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){h=!1,c(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),T.hover(function(){l()},function(){c()}),k.hover(function(){d=!0},function(){d=!1}),x.hover(function(){u=!0,l(),c()},function(){u=!1,c()}),x.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),x.bind("touchmove",function(e){if(w||e.originalEvent.preventDefault(),e.originalEvent.touches.length){var t=(p-e.originalEvent.touches[0].pageY)/o.touchScrollStep;r(t,!0),p=e.originalEvent.touches[0].pageY}}),a(),"bottom"===o.start?(k.css({top:x.outerHeight()-k.outerHeight()}),r(0,!0)):"top"!==o.start&&(r(e(o.start).position().top,null,!0),o.alwaysVisible||k.hide()),s(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(e){"use strict";function t(e){return null!==e&&e===e.window}function n(e){return t(e)?e:9===e.nodeType&&e.defaultView}function i(e){var t,i,o={top:0,left:0},r=e&&e.ownerDocument;return t=r.documentElement,"undefined"!=typeof e.getBoundingClientRect&&(o=e.getBoundingClientRect()),i=n(r),{top:o.top+i.pageYOffset-t.clientTop,left:o.left+i.pageXOffset-t.clientLeft}}function o(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}function r(e){if(u.allowEvent(e)===!1)return null;for(var t=null,n=e.target||e.srcElement;null!==n.parentElement;){if(!(n instanceof SVGElement||n.className.indexOf("waves-effect")===-1)){t=n;break}if(n.classList.contains("waves-effect")){t=n;break}n=n.parentElement}return t}function s(t){var n=r(t);null!==n&&(c.show(t,n),"ontouchstart"in e&&(n.addEventListener("touchend",c.hide,!1),n.addEventListener("touchcancel",c.hide,!1)),n.addEventListener("mouseup",c.hide,!1),n.addEventListener("mouseleave",c.hide,!1))}var a=a||{},l=document.querySelectorAll.bind(document),c={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,r=document.createElement("div");r.className="waves-ripple",n.appendChild(r);var s=i(n),a=e.pageY-s.top,l=e.pageX-s.left,u="scale("+n.clientWidth/100*10+")";"touches"in e&&(a=e.touches[0].pageY-s.top,l=e.touches[0].pageX-s.left),r.setAttribute("data-hold",Date.now()),r.setAttribute("data-scale",u),r.setAttribute("data-x",l),r.setAttribute("data-y",a);var d={top:a+"px",left:l+"px"};r.className=r.className+" waves-notransition",r.setAttribute("style",o(d)),r.className=r.className.replace("waves-notransition",""),d["-webkit-transform"]=u,d["-moz-transform"]=u,d["-ms-transform"]=u,d["-o-transform"]=u,d.transform=u,d.opacity="1",d["-webkit-transition-duration"]=c.duration+"ms",d["-moz-transition-duration"]=c.duration+"ms",d["-o-transition-duration"]=c.duration+"ms",d["transition-duration"]=c.duration+"ms",d["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",d["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",d["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",d["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",r.setAttribute("style",o(d))},hide:function(e){u.touchup(e);var t=this,n=(1.4*t.clientWidth,null),i=t.getElementsByClassName("waves-ripple");if(!(i.length>0))return!1;n=i[i.length-1];var r=n.getAttribute("data-x"),s=n.getAttribute("data-y"),a=n.getAttribute("data-scale"),l=Date.now()-Number(n.getAttribute("data-hold")),d=350-l;d<0&&(d=0),setTimeout(function(){var e={top:s+"px",left:r+"px",opacity:"0","-webkit-transition-duration":c.duration+"ms","-moz-transition-duration":c.duration+"ms","-o-transition-duration":c.duration+"ms","transition-duration":c.duration+"ms","-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a};n.setAttribute("style",o(e)),setTimeout(function(){try{t.removeChild(n)}catch(e){return!1}},c.duration)},d)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&i.className.indexOf("waves-effect")!==-1)continue;var o=document.createElement("i");o.className=n.className+" waves-input-wrapper";var r=n.getAttribute("style");r||(r=""),o.setAttribute("style",r),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(o,n),o.appendChild(n)}}}},u={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?u.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout(function(){u.touches>0&&(u.touches-=1)},500):"mousedown"===e.type&&u.touches>0&&(t=!1),t},touchup:function(e){u.allowEvent(e)}};a.displayEffect=function(t){t=t||{},"duration"in t&&(c.duration=t.duration),c.wrapInput(l(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},a.attach=function(t){"input"===t.tagName.toLowerCase()&&(c.wrapInput([t]),t=t.parentElement),"ontouchstart"in e&&t.addEventListener("touchstart",s,!1),t.addEventListener("mousedown",s,!1)},e.Waves=a,document.addEventListener("DOMContentLoaded",function(){a.displayEffect()},!1)}(window),!function(e){function t(e){var t=e.length,i=n.type(e);return"function"!==i&&!n.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return null!=e&&e==e.window},n.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?o[s.call(e)]||"object":typeof e},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(t in e);return void 0===t||r.call(e,t)},n.each=function(e,n,i){var o,r=0,s=e.length,a=t(e);if(i){if(a)for(;s>r&&(o=n.apply(e[r],i),o!==!1);r++);else for(r in e)if(o=n.apply(e[r],i),o===!1)break}else if(a)for(;s>r&&(o=n.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=n.call(e[r],r,e[r]),o===!1)break;return e},n.data=function(e,t,o){if(void 0===o){var r=e[n.expando],s=r&&i[r];if(void 0===t)return s;if(s&&t in s)return s[t]}else if(void 0!==t){var r=e[n.expando]||(e[n.expando]=++n.uuid);return i[r]=i[r]||{},i[r][t]=o,o}},n.removeData=function(e,t){var o=e[n.expando],r=o&&i[o];r&&n.each(t,function(e,t){delete r[t]})},n.extend=function(){var e,t,i,o,r,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==n.type(a)&&(a={}),l===c&&(a=this,l--);c>l;l++)if(null!=(r=arguments[l]))for(o in r)e=a[o],i=r[o],a!==i&&(u&&i&&(n.isPlainObject(i)||(t=n.isArray(i)))?(t?(t=!1,s=e&&n.isArray(e)?e:[]):s=e&&n.isPlainObject(e)?e:{},a[o]=n.extend(u,s,i)):void 0!==i&&(a[o]=i));return a},n.queue=function(e,i,o){function r(e,n){var i=n||[];return null!=e&&(t(Object(e))?!function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e}(i,"string"==typeof e?[e]:e):[].push.call(i,e)),i}if(e){i=(i||"fx")+"queue";var s=n.data(e,i);return o?(!s||n.isArray(o)?s=n.data(e,i,r(o)):s.push(o),s):s||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,i){t=t||"fx";var o=n.queue(i,t),r=o.shift();"inprogress"===r&&(r=o.shift()),r&&("fx"===t&&o.unshift("inprogress"),r.call(i,function(){n.dequeue(i,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),i=this.offset(),o=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:n(e).offset();return i.top-=parseFloat(t.style.marginTop)||0,i.left-=parseFloat(t.style.marginLeft)||0,e.style&&(o.top+=parseFloat(e.style.borderTopWidth)||0,o.left+=parseFloat(e.style.borderLeftWidth)||0),{top:i.top-o.top,left:i.left-o.left}}};var i={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var o={},r=o.hasOwnProperty,s=o.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<a.length;l++)o["[object "+a[l]+"]"]=a[l].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,n,i){function o(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var o=e[t];o&&i.push(o)}return i}function r(e){return m.isWrapped(e)?e=[].slice.call(e):m.isNode(e)&&(e=[e]),e}function s(e){var t=h.data(e,"velocity");return null===t?i:t}function a(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,n,i,o){function r(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,n){return((r(t,n)*e+s(t,n))*e+a(t))*e}function c(e,t,n){return 3*r(t,n)*e*e+2*s(t,n)*e+a(t)}function u(t,n){for(var o=0;m>o;++o){var r=c(n,e,i);if(0===r)return n;var s=l(n,e,i)-t;n-=s/r}return n}function d(){for(var t=0;y>t;++t)S[t]=l(t*w,e,i)}function h(t,n,o){var r,s,a=0;do s=n+(o-n)/2,r=l(s,e,i)-t,r>0?o=s:n=s;while(Math.abs(r)>v&&++a<b);return s}function f(t){for(var n=0,o=1,r=y-1;o!=r&&S[o]<=t;++o)n+=w;--o;var s=(t-S[o])/(S[o+1]-S[o]),a=n+s*w,l=c(a,e,i);return l>=g?u(t,a):0==l?a:h(t,n,n+w)}function p(){E=!0,(e!=n||i!=o)&&d()}var m=4,g=.001,v=1e-7,b=10,y=11,w=1/(y-1),x="Float32Array"in t;if(4!==arguments.length)return!1;for(var C=0;4>C;++C)if("number"!=typeof arguments[C]||isNaN(arguments[C])||!isFinite(arguments[C]))return!1;e=Math.min(e,1),i=Math.min(i,1),e=Math.max(e,0),i=Math.max(i,0);var S=x?new Float32Array(y):new Array(y),E=!1,T=function(t){return E||p(),e===n&&i===o?t:0===t?0:1===t?1:l(f(t),n,o)};T.getControlPoints=function(){return[{x:e,y:n},{x:i,y:o}]};var k="generateBezier("+[e,n,i,o]+")";return T.toString=function(){return k},T}function c(e,t){var n=e;return m.isString(e)?y.Easings[e]||(n=!1):n=m.isArray(e)&&1===e.length?a.apply(null,e):m.isArray(e)&&2===e.length?w.apply(null,e.concat([t])):!(!m.isArray(e)||4!==e.length)&&l.apply(null,e),n===!1&&(n=y.Easings[y.defaults.easing]?y.defaults.easing:b),n}function u(e){if(e){var t=(new Date).getTime(),n=y.State.calls.length;n>1e4&&(y.State.calls=o(y.State.calls));for(var r=0;n>r;r++)if(y.State.calls[r]){var a=y.State.calls[r],l=a[0],c=a[2],f=a[3],p=!!f,g=null;f||(f=y.State.calls[r][3]=t-16);for(var v=Math.min((t-f)/c.duration,1),b=0,w=l.length;w>b;b++){var C=l[b],E=C.element;if(s(E)){var T=!1;if(c.display!==i&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var k=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];h.each(k,function(e,t){x.setPropertyValue(E,"display",t)})}x.setPropertyValue(E,"display",c.display)}c.visibility!==i&&"hidden"!==c.visibility&&x.setPropertyValue(E,"visibility",c.visibility);for(var D in C)if("element"!==D){var A,N=C[D],_=m.isString(N.easing)?y.Easings[N.easing]:N.easing;if(1===v)A=N.endValue;else{var M=N.endValue-N.startValue;if(A=N.startValue+M*_(v,c,M),!p&&A===N.currentValue)continue}if(N.currentValue=A,"tween"===D)g=A;else{if(x.Hooks.registered[D]){var F=x.Hooks.getRoot(D),O=s(E).rootPropertyValueCache[F];O&&(N.rootPropertyValue=O)}var $=x.setPropertyValue(E,D,N.currentValue+(0===parseFloat(A)?"":N.unitType),N.rootPropertyValue,N.scrollData);x.Hooks.registered[D]&&(s(E).rootPropertyValueCache[F]=x.Normalizations.registered[F]?x.Normalizations.registered[F]("extract",null,$[1]):$[1]),"transform"===$[0]&&(T=!0)}}c.mobileHA&&s(E).transformCache.translate3d===i&&(s(E).transformCache.translate3d="(0px, 0px, 0px)",T=!0),T&&x.flushTransformCache(E)}}c.display!==i&&"none"!==c.display&&(y.State.calls[r][2].display=!1),c.visibility!==i&&"hidden"!==c.visibility&&(y.State.calls[r][2].visibility=!1),c.progress&&c.progress.call(a[1],a[1],v,Math.max(0,f+c.duration-t),f,g),1===v&&d(r)}}y.State.isTicking&&S(u)}function d(e,t){if(!y.State.calls[e])return!1;for(var n=y.State.calls[e][0],o=y.State.calls[e][1],r=y.State.calls[e][2],a=y.State.calls[e][4],l=!1,c=0,u=n.length;u>c;c++){var d=n[c].element;if(t||r.loop||("none"===r.display&&x.setPropertyValue(d,"display",r.display),"hidden"===r.visibility&&x.setPropertyValue(d,"visibility",r.visibility)),r.loop!==!0&&(h.queue(d)[1]===i||!/\.velocityQueueEntryFlag/i.test(h.queue(d)[1]))&&s(d)){s(d).isAnimating=!1,s(d).rootPropertyValueCache={};var f=!1;h.each(x.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,o=s(d).transformCache[t];s(d).transformCache[t]!==i&&new RegExp("^\\("+n+"[^.]").test(o)&&(f=!0,delete s(d).transformCache[t])}),r.mobileHA&&(f=!0,delete s(d).transformCache.translate3d),f&&x.flushTransformCache(d),x.Values.removeClass(d,"velocity-animating")}if(!t&&r.complete&&!r.loop&&c===u-1)try{r.complete.call(o,o)}catch(p){setTimeout(function(){throw p},1)}a&&r.loop!==!0&&a(o),s(d)&&r.loop===!0&&!t&&(h.each(s(d).tweensContainer,function(e,t){
/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),y(d,"reverse",{loop:!0,delay:r.delay})),r.queue!==!1&&h.dequeue(d,r.queue)}y.State.calls[e]=!1;for(var m=0,g=y.State.calls.length;g>m;m++)if(y.State.calls[m]!==!1){l=!0;break}l===!1&&(y.State.isTicking=!1,delete y.State.calls,y.State.calls=[])}var h,f=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return i}(),p=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-e)),e=i+n,setTimeout(function(){t(i+n)},n)}}(),m={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==i&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},g=!1;if(e.fn&&e.fn.jquery?(h=e,g=!0):h=t.Velocity.Utilities,8>=f&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=f)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,b="swing",y={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:h,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:b,begin:i,complete:i,progress:i,display:i,visibility:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){h.data(e,"velocity",{isSVG:m.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==i?(y.State.scrollAnchor=t,y.State.scrollPropertyLeft="pageXOffset",y.State.scrollPropertyTop="pageYOffset"):(y.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,y.State.scrollPropertyLeft="scrollLeft",y.State.scrollPropertyTop="scrollTop");var w=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var o={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function n(n,i){var o={dx:n.v,dv:e(n)},r=t(n,.5*i,o),s=t(n,.5*i,r),a=t(n,i,s),l=1/6*(o.dx+2*(r.dx+s.dx)+a.dx),c=1/6*(o.dv+2*(r.dv+s.dv)+a.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function i(e,t,o){var r,s,a,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,d=1e-4,h=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,o=o||null,l.tension=e,l.friction=t,r=null!==o,r?(u=i(e,t),s=u/o*h):s=h;a=n(a||l,s),c.push(1+a.x),u+=16,Math.abs(a.x)>d&&Math.abs(a.v)>d;);return r?function(e){return c[e*(c.length-1)|0]}:u}}();y.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},h.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){y.Easings[t[0]]=l.apply(null,t[1])});var x=y.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<x.Lists.colors.length;e++){var t="color"===x.Lists.colors[e]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,i,o;if(f)for(n in x.Hooks.templates){i=x.Hooks.templates[n],o=i[0].split(" ");var r=i[1].match(x.RegEx.valueSplit);"Color"===o[0]&&(o.push(o.shift()),r.push(r.shift()),x.Hooks.templates[n]=[o.join(" "),r.join(" ")])}for(n in x.Hooks.templates){i=x.Hooks.templates[n],o=i[0].split(" ");for(var e in o){var s=n+o[e],a=e;x.Hooks.registered[s]=[n,a]}}},getRoot:function(e){var t=x.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return x.RegEx.valueUnwrap.test(t)&&(t=t.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(t)&&(t=x.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=x.Hooks.registered[e];if(n){var i=n[0],o=n[1];return t=x.Hooks.cleanRootPropertyValue(i,t),t.toString().match(x.RegEx.valueSplit)[o]}return t},injectValue:function(e,t,n){var i=x.Hooks.registered[e];if(i){var o,r,s=i[0],a=i[1];return n=x.Hooks.cleanRootPropertyValue(s,n),o=n.toString().match(x.RegEx.valueSplit),o[a]=t,r=o.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var i;return x.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=n.toString().match(x.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return y.State.isFirefox?"filter":"-webkit-filter";case"extract":var i=parseFloat(n);if(!i&&0!==i){var o=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=o?o[1]:0}return i;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(8>=f)switch(e){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=f||y.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var e=0;e<x.Lists.transformsBase.length;e++)!function(){var t=x.Lists.transformsBase[e];x.Normalizations.registered[t]=function(e,n,o){switch(e){case"name":return"transform";case"extract":return s(n)===i||s(n).transformCache[t]===i?/^scale/i.test(t)?1:0:s(n).transformCache[t].replace(/[()]/g,"");case"inject":var r=!1;switch(t.substr(0,t.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":y.State.isAndroid&&s(n).transformCache[t]===i&&1>o&&(o=1),r=!/(\d)$/i.test(o);break;case"skew":r=!/(deg|\d)$/i.test(o);break;case"rotate":r=!/(deg|\d)$/i.test(o)}return r||(s(n).transformCache[t]="("+o+")"),s(n).transformCache[t]}}}();for(var e=0;e<x.Lists.colors.length;e++)!function(){var t=x.Lists.colors[e];x.Normalizations.registered[t]=function(e,n,o){switch(e){case"name":return t;case"extract":var r;if(x.RegEx.wrappedValueAlreadyExtracted.test(o))r=o;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?s=a[o]!==i?a[o]:a.black:x.RegEx.isHex.test(o)?s="rgb("+x.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(s=a.black),r=(s||o).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=f||3!==r.split(" ").length||(r+=" 1"),r;case"inject":return 8>=f?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(8>=f?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(f||y.State.isAndroid&&!y.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(y.State.prefixMatches[e])return[y.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,i=t.length;i>n;n++){var o;if(o=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),m.isString(y.State.prefixElement.style[o]))return y.State.prefixMatches[e]=o,[o,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,i){return t+t+n+n+i+i}),t=i.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,n,o,r){function a(e,n){function o(){c&&x.setPropertyValue(e,"display","none")}var l=0;if(8>=f)l=h.css(e,n);else{var c=!1;if(/^(width|height)$/.test(n)&&0===x.getPropertyValue(e,"display")&&(c=!0,x.setPropertyValue(e,"display",x.Values.getDisplayType(e))),!r){if("height"===n&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetHeight-(parseFloat(x.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(e,"paddingBottom"))||0);return o(),u}if("width"===n&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetWidth-(parseFloat(x.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(e,"paddingRight"))||0);return o(),d}}var p;p=s(e)===i?t.getComputedStyle(e,null):s(e).computedStyle?s(e).computedStyle:s(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),l=9===f&&"filter"===n?p.getPropertyValue(n):p[n],(""===l||null===l)&&(l=e.style[n]),o()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var m=a(e,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(n))&&(l=h(e).position()[n]+"px")}return l}var l;if(x.Hooks.registered[n]){var c=n,u=x.Hooks.getRoot(c);o===i&&(o=x.getPropertyValue(e,x.Names.prefixCheck(u)[0])),x.Normalizations.registered[u]&&(o=x.Normalizations.registered[u]("extract",e,o)),l=x.Hooks.extractValue(c,o)}else if(x.Normalizations.registered[n]){var d,p;d=x.Normalizations.registered[n]("name",e),"transform"!==d&&(p=a(e,x.Names.prefixCheck(d)[0]),x.Values.isCSSNullValue(p)&&x.Hooks.templates[n]&&(p=x.Hooks.templates[n][1])),l=x.Normalizations.registered[n]("extract",e,p)}if(!/^[\d-]/.test(l))if(s(e)&&s(e).isSVG&&x.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=e.getBBox()[n]}catch(m){l=0}else l=e.getAttribute(n);else l=a(e,x.Names.prefixCheck(n)[0]);return x.Values.isCSSNullValue(l)&&(l=0),y.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(e,n,i,o,r){var a=n;if("scroll"===n)r.container?r.container["scroll"+r.direction]=i:"Left"===r.direction?t.scrollTo(i,r.alternateValue):t.scrollTo(r.alternateValue,i);else if(x.Normalizations.registered[n]&&"transform"===x.Normalizations.registered[n]("name",e))x.Normalizations.registered[n]("inject",e,i),a="transform",i=s(e).transformCache[n];else{if(x.Hooks.registered[n]){var l=n,c=x.Hooks.getRoot(n);o=o||x.getPropertyValue(e,c),i=x.Hooks.injectValue(l,i,o),n=c}if(x.Normalizations.registered[n]&&(i=x.Normalizations.registered[n]("inject",e,i),n=x.Normalizations.registered[n]("name",e)),a=x.Names.prefixCheck(n)[0],8>=f)try{e.style[a]=i}catch(u){y.debug&&console.log("Browser does not support ["+i+"] for ["+a+"]")}else s(e)&&s(e).isSVG&&x.Names.SVGAttribute(n)?e.setAttribute(n,i):e.style[a]=i;y.debug>=2&&console.log("Set "+n+" ("+a+"): "+i)}return[a,i]},flushTransformCache:function(e){function t(t){return parseFloat(x.getPropertyValue(e,t))}var n="";if((f||y.State.isAndroid&&!y.State.isChrome)&&s(e).isSVG){var i={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};h.each(s(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(n+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var o,r;h.each(s(e).transformCache,function(t){return o=s(e).transformCache[t],"transformPerspective"===t?(r=o,!0):(9===f&&"rotateZ"===t&&(t="rotate"),void(n+=t+o+" "))}),r&&(n="perspective"+r+" "+n)}x.setPropertyValue(e,"transform",n)}};x.Hooks.register(),x.Normalizations.register(),y.hook=function(e,t,n){var o=i;return e=r(e),h.each(e,function(e,r){if(s(r)===i&&y.init(r),n===i)o===i&&(o=y.CSS.getPropertyValue(r,t));else{var a=y.CSS.setPropertyValue(r,t,n);"transform"===a[0]&&y.CSS.flushTransformCache(r),o=a}}),o};var C=function(){function e(){return a?D.promise||null:l}function o(){function e(e){function d(e,t){var n=i,o=i,s=i;return m.isArray(e)?(n=e[0],!m.isArray(e[1])&&/^[\d-]/.test(e[1])||m.isFunction(e[1])||x.RegEx.isHex.test(e[1])?s=e[1]:(m.isString(e[1])&&!x.RegEx.isHex.test(e[1])||m.isArray(e[1]))&&(o=t?e[1]:c(e[1],a.duration),e[2]!==i&&(s=e[2]))):n=e,t||(o=o||a.easing),m.isFunction(n)&&(n=n.call(r,E,S)),m.isFunction(s)&&(s=s.call(r,E,S)),[n||0,o,s]}function f(e,t){var n,i;return i=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=x.Values.getUnitType(e)),[i,n]}function v(){var e={myParent:r.parentNode||n.body,position:x.getPropertyValue(r,"position"),fontSize:x.getPropertyValue(r,"fontSize")},i=e.position===$.lastPosition&&e.myParent===$.lastParent,o=e.fontSize===$.lastFontSize;$.lastParent=e.myParent,$.lastPosition=e.position,$.lastFontSize=e.fontSize;var a=100,l={};if(o&&i)l.emToPx=$.lastEmToPx,l.percentToPxWidth=$.lastPercentToPxWidth,l.percentToPxHeight=$.lastPercentToPxHeight;else{var c=s(r).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");y.init(c),e.myParent.appendChild(c),h.each(["overflow","overflowX","overflowY"],function(e,t){y.CSS.setPropertyValue(c,t,"hidden")}),y.CSS.setPropertyValue(c,"position",e.position),y.CSS.setPropertyValue(c,"fontSize",e.fontSize),y.CSS.setPropertyValue(c,"boxSizing","content-box"),h.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){y.CSS.setPropertyValue(c,t,a+"%")}),y.CSS.setPropertyValue(c,"paddingLeft",a+"em"),l.percentToPxWidth=$.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(c,"width",null,!0))||1)/a,l.percentToPxHeight=$.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(c,"height",null,!0))||1)/a,l.emToPx=$.lastEmToPx=(parseFloat(x.getPropertyValue(c,"paddingLeft"))||1)/a,e.myParent.removeChild(c)}return null===$.remToPx&&($.remToPx=parseFloat(x.getPropertyValue(n.body,"fontSize"))||16),null===$.vwToPx&&($.vwToPx=parseFloat(t.innerWidth)/100,$.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=$.remToPx,l.vwToPx=$.vwToPx,l.vhToPx=$.vhToPx,y.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),r),l}if(a.begin&&0===E)try{a.begin.call(p,p)}catch(w){setTimeout(function(){throw w},1)}if("scroll"===A){var C,T,k,N=/^x$/i.test(a.axis)?"Left":"Top",_=parseFloat(a.offset)||0;a.container?m.isWrapped(a.container)||m.isNode(a.container)?(a.container=a.container[0]||a.container,C=a.container["scroll"+N],k=C+h(r).position()[N.toLowerCase()]+_):a.container=null:(C=y.State.scrollAnchor[y.State["scrollProperty"+N]],T=y.State.scrollAnchor[y.State["scrollProperty"+("Left"===N?"Top":"Left")]],k=h(r).offset()[N.toLowerCase()]+_),l={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:k,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:N,alternateValue:T}},element:r},y.debug&&console.log("tweensContainer (scroll): ",l.scroll,r)}else if("reverse"===A){if(!s(r).tweensContainer)return void h.dequeue(r,a.queue);"none"===s(r).opts.display&&(s(r).opts.display="auto"),"hidden"===s(r).opts.visibility&&(s(r).opts.visibility="visible"),s(r).opts.loop=!1,s(r).opts.begin=null,s(r).opts.complete=null,b.easing||delete a.easing,b.duration||delete a.duration,a=h.extend({},s(r).opts,a);var M=h.extend(!0,{},s(r).tweensContainer);for(var F in M)if("element"!==F){var O=M[F].startValue;M[F].startValue=M[F].currentValue=M[F].endValue,M[F].endValue=O,m.isEmptyObject(b)||(M[F].easing=a.easing),y.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(M[F]),r)}l=M}else if("start"===A){var M;s(r).tweensContainer&&s(r).isAnimating===!0&&(M=s(r).tweensContainer),h.each(g,function(e,t){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(e)){var n=d(t,!0),o=n[0],r=n[1],s=n[2];if(x.RegEx.isHex.test(o)){for(var a=["Red","Green","Blue"],l=x.Values.hexToRgb(o),c=s?x.Values.hexToRgb(s):i,u=0;u<a.length;u++){var h=[l[u]];r&&h.push(r),c!==i&&h.push(c[u]),g[e+a[u]]=h}delete g[e]}}});for(var L in g){var R=d(g[L]),P=R[0],U=R[1],B=R[2];L=x.Names.camelCase(L);var z=x.Hooks.getRoot(L),H=!1;if(s(r).isSVG||"tween"===z||x.Names.prefixCheck(z)[1]!==!1||x.Normalizations.registered[z]!==i){(a.display!==i&&null!==a.display&&"none"!==a.display||a.visibility!==i&&"hidden"!==a.visibility)&&/opacity|filter/.test(L)&&!B&&0!==P&&(B=0),a._cacheValues&&M&&M[L]?(B===i&&(B=M[L].endValue+M[L].unitType),H=s(r).rootPropertyValueCache[z]):x.Hooks.registered[L]?B===i?(H=x.getPropertyValue(r,z),B=x.getPropertyValue(r,L,H)):H=x.Hooks.templates[z][1]:B===i&&(B=x.getPropertyValue(r,L));var j,W,q,Y=!1;if(j=f(L,B),B=j[0],q=j[1],j=f(L,P),P=j[0].replace(/^([+-\/*])=/,function(e,t){return Y=t,""}),W=j[1],B=parseFloat(B)||0,P=parseFloat(P)||0,"%"===W&&(/^(fontSize|lineHeight)$/.test(L)?(P/=100,W="em"):/^scale/.test(L)?(P/=100,W=""):/(Red|Green|Blue)$/i.test(L)&&(P=P/100*255,W="")),/[\/*]/.test(Y))W=q;else if(q!==W&&0!==B)if(0===P)W=q;else{o=o||v();var V=/margin|padding|left|right|width|text|word|letter/i.test(L)||/X$/.test(L)||"x"===L?"x":"y";switch(q){case"%":B*="x"===V?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:B*=o[q+"ToPx"]}switch(W){case"%":B*=1/("x"===V?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:B*=1/o[W+"ToPx"]}}switch(Y){case"+":P=B+P;break;case"-":P=B-P;break;case"*":P=B*P;break;case"/":P=B/P}l[L]={rootPropertyValue:H,startValue:B,currentValue:B,endValue:P,unitType:W,easing:U},y.debug&&console.log("tweensContainer ("+L+"): "+JSON.stringify(l[L]),r)}else y.debug&&console.log("Skipping ["+z+"] due to a lack of browser support.")}l.element=r}l.element&&(x.Values.addClass(r,"velocity-animating"),I.push(l),""===a.queue&&(s(r).tweensContainer=l,s(r).opts=a),s(r).isAnimating=!0,E===S-1?(y.State.calls.push([I,p,a,null,D.resolver]),y.State.isTicking===!1&&(y.State.isTicking=!0,u())):E++)}var o,r=this,a=h.extend({},y.defaults,b),l={};switch(s(r)===i&&y.init(r),parseFloat(a.delay)&&a.queue!==!1&&h.queue(r,a.queue,function(e){y.velocityQueueEntryFlag=!0,s(r).delayTimer={setTimeout:setTimeout(e,parseFloat(a.delay)),next:e}}),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=v;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}y.mock!==!1&&(y.mock===!0?a.duration=a.delay=1:(a.duration*=parseFloat(y.mock)||1,a.delay*=parseFloat(y.mock)||1)),a.easing=c(a.easing,a.duration),a.begin&&!m.isFunction(a.begin)&&(a.begin=null),a.progress&&!m.isFunction(a.progress)&&(a.progress=null),a.complete&&!m.isFunction(a.complete)&&(a.complete=null),a.display!==i&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=y.CSS.Values.getDisplayType(r))),a.visibility!==i&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&y.State.isMobile&&!y.State.isGingerbread,a.queue===!1?a.delay?setTimeout(e,a.delay):e():h.queue(r,a.queue,function(t,n){return n===!0?(D.promise&&D.resolver(p),!0):(y.velocityQueueEntryFlag=!0,void e(t))}),""!==a.queue&&"fx"!==a.queue||"inprogress"===h.queue(r)[0]||h.dequeue(r)}var a,l,f,p,g,b,w=arguments[0]&&(arguments[0].p||h.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(a=!1,f=0,p=this,l=this):(a=!0,f=1,p=w?arguments[0].elements||arguments[0].e:arguments[0]),p=r(p)){w?(g=arguments[0].properties||arguments[0].p,b=arguments[0].options||arguments[0].o):(g=arguments[f],b=arguments[f+1]);var S=p.length,E=0;if(!/^(stop|finish)$/i.test(g)&&!h.isPlainObject(b)){var T=f+1;b={};for(var k=T;k<arguments.length;k++)m.isArray(arguments[k])||!/^(fast|normal|slow)$/i.test(arguments[k])&&!/^\d/.test(arguments[k])?m.isString(arguments[k])||m.isArray(arguments[k])?b.easing=arguments[k]:m.isFunction(arguments[k])&&(b.complete=arguments[k]):b.duration=arguments[k]}var D={promise:null,resolver:null,rejecter:null};a&&y.Promise&&(D.promise=new y.Promise(function(e,t){D.resolver=e,D.rejecter=t}));var A;switch(g){case"scroll":A="scroll";break;case"reverse":A="reverse";break;case"finish":case"stop":h.each(p,function(e,t){s(t)&&s(t).delayTimer&&(clearTimeout(s(t).delayTimer.setTimeout),s(t).delayTimer.next&&s(t).delayTimer.next(),delete s(t).delayTimer)});var N=[];return h.each(y.State.calls,function(e,t){t&&h.each(t[1],function(n,o){var r=b===i?"":b;return r!==!0&&t[2].queue!==r&&(b!==i||t[2].queue!==!1)||void h.each(p,function(n,i){i===o&&((b===!0||m.isString(b))&&(h.each(h.queue(i,m.isString(b)?b:""),function(e,t){m.isFunction(t)&&t(null,!0)}),h.queue(i,m.isString(b)?b:"",[])),"stop"===g?(s(i)&&s(i).tweensContainer&&r!==!1&&h.each(s(i).tweensContainer,function(e,t){t.endValue=t.currentValue}),N.push(e)):"finish"===g&&(t[2].duration=1))})})}),"stop"===g&&(h.each(N,function(e,t){d(t,!0)}),D.promise&&D.resolver(p)),e();default:if(!h.isPlainObject(g)||m.isEmptyObject(g)){if(m.isString(g)&&y.Redirects[g]){var _=h.extend({},b),M=_.duration,F=_.delay||0;return _.backwards===!0&&(p=h.extend(!0,[],p).reverse()),h.each(p,function(e,t){parseFloat(_.stagger)?_.delay=F+parseFloat(_.stagger)*e:m.isFunction(_.stagger)&&(_.delay=F+_.stagger.call(t,e,S)),_.drag&&(_.duration=parseFloat(M)||(/^(callout|transition)/.test(g)?1e3:v),_.duration=Math.max(_.duration*(_.backwards?1-e/S:(e+1)/S),.75*_.duration,200)),y.Redirects[g].call(t,t,_||{},e,S,p,D.promise?D:i)}),e()}var O="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return D.promise?D.rejecter(new Error(O)):console.log(O),e()}A="start"}var $={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},I=[];h.each(p,function(e,t){m.isNode(t)&&o.call(t)});var L,_=h.extend({},y.defaults,b);if(_.loop=parseInt(_.loop),L=2*_.loop-1,_.loop)for(var R=0;L>R;R++){var P={delay:_.delay,progress:_.progress};R===L-1&&(P.display=_.display,P.visibility=_.visibility,P.complete=_.complete),C(p,"reverse",P)}return e()}};y=h.extend(C,y),y.animate=C;var S=t.requestAnimationFrame||p;return y.State.isMobile||n.hidden===i||n.addEventListener("visibilitychange",function(){n.hidden?(S=function(e){return setTimeout(function(){e(!0)},16)},u()):S=t.requestAnimationFrame||p}),e.Velocity=y,e!==t&&(e.fn.velocity=C,e.fn.velocity.defaults=y.defaults),h.each(["Down","Up"],function(e,t){y.Redirects["slide"+t]=function(e,n,o,r,s,a){var l=h.extend({},n),c=l.begin,u=l.complete,d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},f={};l.display===i&&(l.display="Down"===t?"inline"===y.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){c&&c.call(s,s);for(var n in d){f[n]=e.style[n];var i=y.CSS.getPropertyValue(e,n);d[n]="Down"===t?[i,0]:[0,i]}f.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in f)e.style[t]=f[t];u&&u.call(s,s),a&&a.resolver(s)},y(e,d,l)}}),h.each(["In","Out"],function(e,t){y.Redirects["fade"+t]=function(e,n,o,r,s,a){var l=h.extend({},n),c={opacity:"In"===t?1:0},u=l.complete;l.complete=o!==r-1?l.begin=null:function(){u&&u.call(s,s),a&&a.resolver(s)},l.display===i&&(l.display="In"===t?"auto":"none"),y(this,c,l)}}),y}(window.jQuery||window.Zepto||window,window,document)}),!function(e,t,n,i){"use strict";function o(e,t,n){return setTimeout(u(e,n),t)}function r(e,t,n){return!!Array.isArray(e)&&(s(e,n[t],n),!0)}function s(e,t,n){var o;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(o=0;o<e.length;)t.call(n,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function a(e,t,n){for(var o=Object.keys(t),r=0;r<o.length;)(!n||n&&e[o[r]]===i)&&(e[o[r]]=t[o[r]]),r++;return e}function l(e,t){return a(e,t,!0)}function c(e,t,n){var i,o=t.prototype;i=e.prototype=Object.create(o),i.constructor=e,i._super=o,n&&a(i,n)}function u(e,t){return function(){return e.apply(t,arguments)}}function d(e,t){return typeof e==ue?e.apply(t?t[0]||i:i,t):e}function h(e,t){return e===i?t:e}function f(e,t,n){s(v(t),function(t){e.addEventListener(t,n,!1)})}function p(e,t,n){s(v(t),function(t){e.removeEventListener(t,n,!1)})}function m(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function b(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function y(e){return Array.prototype.slice.call(e,0)}function w(e,t,n){for(var i=[],o=[],r=0;r<e.length;){var s=t?e[r][t]:e[r];b(o,s)<0&&i.push(e[r]),o[r]=s,r++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function x(e,t){for(var n,o,r=t[0].toUpperCase()+t.slice(1),s=0;s<le.length;){if(n=le[s],o=n?n+r:t,o in e)return o;s++}return i}function C(){return pe++}function S(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function E(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){d(e.options.enable,[e])&&n.handler(t)},this.init()}function T(e){var t,n=e.options.inputClass;return new(t=n?n:ve?U:be?H:ge?W:P)(e,k)}function k(e,t,n){var i=n.pointers.length,o=n.changedPointers.length,r=t&Ee&&0===i-o,s=t&(ke|De)&&0===i-o;n.isFirst=!!r,n.isFinal=!!s,r&&(e.session={}),n.eventType=t,D(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function D(e,t){var n=e.session,i=t.pointers,o=i.length;n.firstInput||(n.firstInput=_(t)),o>1&&!n.firstMultiple?n.firstMultiple=_(t):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,a=s?s.center:r.center,l=t.center=M(i);t.timeStamp=fe(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=I(a,l),t.distance=$(a,l),A(n,t),t.offsetDirection=O(t.deltaX,t.deltaY),t.scale=s?R(s.pointers,i):1,t.rotation=s?L(s.pointers,i):0,N(n,t);var c=e.element;m(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function A(e,t){var n=t.center,i=e.offsetDelta||{},o=e.prevDelta||{},r=e.prevInput||{};(t.eventType===Ee||r.eventType===ke)&&(o=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-i.x),t.deltaY=o.y+(n.y-i.y)}function N(e,t){var n,o,r,s,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=De&&(l>Se||a.velocity===i)){var c=a.deltaX-t.deltaX,u=a.deltaY-t.deltaY,d=F(l,c,u);o=d.x,r=d.y,n=he(d.x)>he(d.y)?d.x:d.y,s=O(c,u),e.lastInterval=t}else n=a.velocity,o=a.velocityX,r=a.velocityY,s=a.direction;t.velocity=n,t.velocityX=o,t.velocityY=r,t.direction=s}function _(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:de(e.pointers[n].clientX),clientY:de(e.pointers[n].clientY)},n++;return{timeStamp:fe(),pointers:t,center:M(t),deltaX:e.deltaX,deltaY:e.deltaY}}function M(e){var t=e.length;if(1===t)return{x:de(e[0].clientX),y:de(e[0].clientY)};for(var n=0,i=0,o=0;t>o;)n+=e[o].clientX,i+=e[o].clientY,o++;return{x:de(n/t),y:de(i/t)}}function F(e,t,n){return{x:t/e||0,y:n/e||0}}function O(e,t){return e===t?Ae:he(e)>=he(t)?e>0?Ne:_e:t>0?Me:Fe}function $(e,t,n){n||(n=Le);var i=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(i*i+o*o)}function I(e,t,n){n||(n=Le);var i=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,i)/Math.PI}function L(e,t){return I(t[1],t[0],Re)-I(e[1],e[0],Re)}function R(e,t){return $(t[0],t[1],Re)/$(e[0],e[1],Re)}function P(){this.evEl=Ue,this.evWin=Be,this.allow=!0,this.pressed=!1,E.apply(this,arguments)}function U(){this.evEl=je,this.evWin=We,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Ye,this.evWin=Ve,this.started=!1,E.apply(this,arguments)}function z(e,t){var n=y(e.touches),i=y(e.changedTouches);return t&(ke|De)&&(n=w(n.concat(i),"identifier",!0)),[n,i]}function H(){this.evTarget=Ke,this.targetIds={},E.apply(this,arguments)}function j(e,t){var n=y(e.touches),i=this.targetIds;if(t&(Ee|Te)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,s=y(e.changedTouches),a=[],l=this.target;if(r=n.filter(function(e){return m(e.target,l)}),t===Ee)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;for(o=0;o<s.length;)i[s[o].identifier]&&a.push(s[o]),t&(ke|De)&&delete i[s[o].identifier],o++;return a.length?[w(r.concat(a),"identifier",!0),a]:void 0}function W(){E.apply(this,arguments);var e=u(this.handler,this);this.touch=new H(this.manager,e),this.mouse=new P(this.manager,e)}function q(e,t){this.manager=e,this.set(t)}function Y(e){if(g(e,tt))return tt;var t=g(e,nt),n=g(e,it);return t&&n?nt+" "+it:t||n?t?nt:it:g(e,et)?et:Je}function V(e){this.id=C(),this.manager=null,this.options=l(e||{},this.defaults),this.options.enable=h(this.options.enable,!0),this.state=ot,this.simultaneous={},this.requireFail=[]}function X(e){return e&ct?"cancel":e&at?"end":e&st?"move":e&rt?"start":""}function K(e){return e==Fe?"down":e==Me?"up":e==Ne?"left":e==_e?"right":""}function G(e,t){var n=t.manager;return n?n.get(e):e;
}function Q(){V.apply(this,arguments)}function Z(){Q.apply(this,arguments),this.pX=null,this.pY=null}function J(){Q.apply(this,arguments)}function ee(){V.apply(this,arguments),this._timer=null,this._input=null}function te(){Q.apply(this,arguments)}function ne(){Q.apply(this,arguments)}function ie(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function oe(e,t){return t=t||{},t.recognizers=h(t.recognizers,oe.defaults.preset),new re(e,t)}function re(e,t){t=t||{},this.options=l(t,oe.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=T(this),this.touchAction=new q(this,this.options.touchAction),se(this,!0),s(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function se(e,t){var n=e.element;s(e.options.cssProps,function(e,i){n.style[x(n.style,i)]=t?e:""})}function ae(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var le=["","webkit","moz","MS","ms","o"],ce=t.createElement("div"),ue="function",de=Math.round,he=Math.abs,fe=Date.now,pe=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,ge="ontouchstart"in e,ve=x(e,"PointerEvent")!==i,be=ge&&me.test(navigator.userAgent),ye="touch",we="pen",xe="mouse",Ce="kinect",Se=25,Ee=1,Te=2,ke=4,De=8,Ae=1,Ne=2,_e=4,Me=8,Fe=16,Oe=Ne|_e,$e=Me|Fe,Ie=Oe|$e,Le=["x","y"],Re=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(S(this.element),this.evWin,this.domHandler)}};var Pe={mousedown:Ee,mousemove:Te,mouseup:ke},Ue="mousedown",Be="mousemove mouseup";c(P,E,{handler:function(e){var t=Pe[e.type];t&Ee&&0===e.button&&(this.pressed=!0),t&Te&&1!==e.which&&(t=ke),this.pressed&&this.allow&&(t&ke&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:xe,srcEvent:e}))}});var ze={pointerdown:Ee,pointermove:Te,pointerup:ke,pointercancel:De,pointerout:De},He={2:ye,3:we,4:xe,5:Ce},je="pointerdown",We="pointermove pointerup pointercancel";e.MSPointerEvent&&(je="MSPointerDown",We="MSPointerMove MSPointerUp MSPointerCancel"),c(U,E,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),o=ze[i],r=He[e.pointerType]||e.pointerType,s=r==ye,a=b(t,e.pointerId,"pointerId");o&Ee&&(0===e.button||s)?0>a&&(t.push(e),a=t.length-1):o&(ke|De)&&(n=!0),0>a||(t[a]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(a,1))}});var qe={touchstart:Ee,touchmove:Te,touchend:ke,touchcancel:De},Ye="touchstart",Ve="touchstart touchmove touchend touchcancel";c(B,E,{handler:function(e){var t=qe[e.type];if(t===Ee&&(this.started=!0),this.started){var n=z.call(this,e,t);t&(ke|De)&&0===n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ye,srcEvent:e})}}});var Xe={touchstart:Ee,touchmove:Te,touchend:ke,touchcancel:De},Ke="touchstart touchmove touchend touchcancel";c(H,E,{handler:function(e){var t=Xe[e.type],n=j.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ye,srcEvent:e})}}),c(W,E,{handler:function(e,t,n){var i=n.pointerType==ye,o=n.pointerType==xe;if(i)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;t&(ke|De)&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ge=x(ce.style,"touchAction"),Qe=Ge!==i,Ze="compute",Je="auto",et="manipulation",tt="none",nt="pan-x",it="pan-y";q.prototype={set:function(e){e==Ze&&(e=this.compute()),Qe&&(this.manager.element.style[Ge]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){d(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Y(e.join(" "))},preventDefaults:function(e){if(!Qe){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,o=g(i,tt),r=g(i,it),s=g(i,nt);return o||r&&n&Oe||s&&n&$e?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ot=1,rt=2,st=4,at=8,lt=at,ct=16,ut=32;V.prototype={defaults:{},set:function(e){return a(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(r(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=G(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return r(e,"dropRecognizeWith",this)?this:(e=G(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(r(e,"requireFailure",this))return this;var t=this.requireFail;return e=G(e,this),-1===b(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(r(e,"dropRequireFailure",this))return this;e=G(e,this);var t=b(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(n.options.event+(t?X(i):""),e)}var n=this,i=this.state;at>i&&t(!0),t(),i>=at&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=ut)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(ut|ot)))return!1;e++}return!0},recognize:function(e){var t=a({},e);return d(this.options.enable,[this,t])?(this.state&(lt|ct|ut)&&(this.state=ot),this.state=this.process(t),void(this.state&(rt|st|at|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=ut))},process:function(){},getTouchAction:function(){},reset:function(){}},c(Q,V,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(rt|st),o=this.attrTest(e);return i&&(n&De||!o)?t|ct:i||o?n&ke?t|at:t&rt?t|st:rt:ut}}),c(Z,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ie},getTouchAction:function(){var e=this.options.direction,t=[];return e&Oe&&t.push(it),e&$e&&t.push(nt),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,o=e.direction,r=e.deltaX,s=e.deltaY;return o&t.direction||(t.direction&Oe?(o=0===r?Ae:0>r?Ne:_e,n=r!=this.pX,i=Math.abs(e.deltaX)):(o=0===s?Ae:0>s?Me:Fe,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=o,n&&i>t.threshold&&o&t.direction},attrTest:function(e){return Q.prototype.attrTest.call(this,e)&&(this.state&rt||!(this.state&rt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=K(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),c(J,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&rt)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),c(ee,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Je]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(ke|De)&&!r)this.reset();else if(e.eventType&Ee)this.reset(),this._timer=o(function(){this.state=lt,this.tryEmit()},t.time,this);else if(e.eventType&ke)return lt;return ut},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===lt&&(e&&e.eventType&ke?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=fe(),this.manager.emit(this.options.event,this._input)))}}),c(te,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&rt)}}),c(ne,Q,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Oe|$e,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Oe|$e)?t=e.velocity:n&Oe?t=e.velocityX:n&$e&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&he(t)>this.options.velocity&&e.eventType&ke},emit:function(e){var t=K(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ie,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[et]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&Ee&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=ke)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||$(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=o(function(){this.state=lt,this.tryEmit()},t.interval,this),rt):lt}return ut},failTimeout:function(){return this._timer=o(function(){this.state=ut},this.options.interval,this),ut},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==lt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),oe.VERSION="2.0.4",oe.defaults={domEvents:!1,touchAction:Ze,enable:!0,inputTarget:null,inputClass:null,preset:[[te,{enable:!1}],[J,{enable:!1},["rotate"]],[ne,{direction:Oe}],[Z,{direction:Oe},["swipe"]],[ie],[ie,{event:"doubletap",taps:2},["tap"]],[ee]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var dt=1,ht=2;re.prototype={set:function(e){return a(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?ht:dt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&lt)&&(o=t.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],t.stopped===ht||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(rt|st|at)&&(o=t.curRecognizer=n),r++}},get:function(e){if(e instanceof V)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(r(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(r(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(b(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return s(v(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return s(v(e),function(e){t?n[e].splice(b(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&ae(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&se(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(oe,{INPUT_START:Ee,INPUT_MOVE:Te,INPUT_END:ke,INPUT_CANCEL:De,STATE_POSSIBLE:ot,STATE_BEGAN:rt,STATE_CHANGED:st,STATE_ENDED:at,STATE_RECOGNIZED:lt,STATE_CANCELLED:ct,STATE_FAILED:ut,DIRECTION_NONE:Ae,DIRECTION_LEFT:Ne,DIRECTION_RIGHT:_e,DIRECTION_UP:Me,DIRECTION_DOWN:Fe,DIRECTION_HORIZONTAL:Oe,DIRECTION_VERTICAL:$e,DIRECTION_ALL:Ie,Manager:re,Input:E,TouchAction:q,TouchInput:H,MouseInput:P,PointerEventInput:U,TouchMouseInput:W,SingleTouchInput:B,Recognizer:V,AttrRecognizer:Q,Tap:ie,Pan:Z,Swipe:ne,Pinch:J,Rotate:te,Press:ee,on:f,off:p,each:s,merge:l,extend:a,inherit:c,bindFn:u,prefixed:x}),typeof define==ue&&define.amd?define(function(){return oe}):"undefined"!=typeof module&&module.exports?module.exports=oe:e[n]=oe}(window,document,"Hammer"),function(e){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],e):"object"==typeof exports?e(require("jquery"),require("hammerjs")):e(jQuery,Hammer)}(function(e,t){function n(n,i){var o=e(n);o.data("hammer")||o.data("hammer",new t(o[0],i))}e.fn.hammer=function(e){return this.each(function(){n(this,e)})},t.Manager.prototype.emit=function(t){return function(n,i){t.call(this,n,i),e(this.element).trigger({type:n,gesture:i})}}(t.Manager.prototype.emit)});var methods={init:function(){return this.each(function(){var e=$(this);$(window).width();e.width("100%");var t=$(this).children("li").length;e.children("li").each(function(){$(this).width(100/t+"%")});var n,i,o=e.find("li.tab a"),r=e.width(),s=e.find("li").first().outerWidth(),a=0;n=$(o.filter('[href="'+location.hash+'"]')),0===n.length&&(n=$(this).find("li.tab a.active").first()),0===n.length&&(n=$(this).find("li.tab a").first()),n.addClass("active"),a=o.index(n),a<0&&(a=0),i=$(n[0].hash),e.append('<div class="indicator"></div>');var l=e.find(".indicator");e.is(":visible")&&(l.css({right:r-(a+1)*s}),l.css({left:a*s})),$(window).resize(function(){r=e.width(),s=e.find("li").first().outerWidth(),a<0&&(a=0),0!==s&&0!==r&&(l.css({right:r-(a+1)*s}),l.css({left:a*s}))}),o.not(n).each(function(){$(this.hash).hide()}),e.on("click","a",function(t){r=e.width(),s=e.find("li").first().outerWidth(),n.removeClass("active"),i.hide(),n=$(this),i=$(this.hash),o=e.find("li.tab a"),n.addClass("active");var c=a;a=o.index($(this)),a<0&&(a=0),i.show(),a-c>=0?(l.velocity({right:r-(a+1)*s},{duration:300,queue:!1,easing:"easeOutQuad"}),l.velocity({left:a*s},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})):(l.velocity({left:a*s},{duration:300,queue:!1,easing:"easeOutQuad"}),l.velocity({right:r-(a+1)*s},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})),t.preventDefault()})})},select_tab:function(e){this.find('a[href="#'+e+'"]').trigger("click")}};$.fn.tabs=function(e){return methods[e]?methods[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.tooltip"):methods.init.apply(this,arguments)},$(document).ready(function(){$("ul.tabs").tabs()}),function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){}return e.prototype.extend=function(e,t){var n,i;for(n in e)i=e[n],null!=i&&(t[n]=i);return t},e.prototype.isMobile=function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},e}(),t=this.WeakMap||(t=function(){function e(){this.keys=[],this.values=[]}return e.prototype.get=function(e){var t,n,i,o,r;for(r=this.keys,t=i=0,o=r.length;o>i;t=++i)if(n=r[t],n===e)return this.values[t]},e.prototype.set=function(e,t){var n,i,o,r,s;for(s=this.keys,n=o=0,r=s.length;r>o;n=++o)if(i=s[n],i===e)return void(this.values[n]=t);return this.keys.push(e),this.values.push(t)},e}()),this.WOW=function(){function i(e){null==e&&(e={}),this.scrollCallback=n(this.scrollCallback,this),this.scrollHandler=n(this.scrollHandler,this),this.start=n(this.start,this),this.scrolled=!0,this.config=this.util().extend(e,this.defaults),this.animationNameCache=new t}return i.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0},i.prototype.init=function(){var e;return this.element=window.document.documentElement,"interactive"===(e=document.readyState)||"complete"===e?this.start():document.addEventListener("DOMContentLoaded",this.start)},i.prototype.start=function(){var e,t,n,i;if(this.boxes=this.element.getElementsByClassName(this.config.boxClass),this.boxes.length){if(this.disabled())return this.resetStyle();for(i=this.boxes,t=0,n=i.length;n>t;t++)e=i[t],this.applyStyle(e,!0);return window.addEventListener("scroll",this.scrollHandler,!1),window.addEventListener("resize",this.scrollHandler,!1),this.interval=setInterval(this.scrollCallback,50)}},i.prototype.stop=function(){return window.removeEventListener("scroll",this.scrollHandler,!1),window.removeEventListener("resize",this.scrollHandler,!1),null!=this.interval?clearInterval(this.interval):void 0},i.prototype.show=function(e){return this.applyStyle(e),e.className=""+e.className+" "+this.config.animateClass},i.prototype.applyStyle=function(e,t){var n,i,o;return i=e.getAttribute("data-wow-duration"),n=e.getAttribute("data-wow-delay"),o=e.getAttribute("data-wow-iteration"),this.animate(function(r){return function(){return r.customStyle(e,t,i,n,o)}}(this))},i.prototype.animate=function(){return"requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()}}(),i.prototype.resetStyle=function(){var e,t,n,i,o;for(i=this.boxes,o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(e.setAttribute("style","visibility: visible;"));return o},i.prototype.customStyle=function(e,t,n,i,o){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",n&&this.vendorSet(e.style,{animationDuration:n}),i&&this.vendorSet(e.style,{animationDelay:i}),o&&this.vendorSet(e.style,{animationIterationCount:o}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e},i.prototype.vendors=["moz","webkit"],i.prototype.vendorSet=function(e,t){var n,i,o,r;r=[];for(n in t)i=t[n],e[""+n]=i,r.push(function(){var t,r,s,a;for(s=this.vendors,a=[],t=0,r=s.length;r>t;t++)o=s[t],a.push(e[""+o+n.charAt(0).toUpperCase()+n.substr(1)]=i);return a}.call(this));return r},i.prototype.vendorCSS=function(e,t){var n,i,o,r,s,a;for(i=window.getComputedStyle(e),n=i.getPropertyCSSValue(t),a=this.vendors,r=0,s=a.length;s>r;r++)o=a[r],n=n||i.getPropertyCSSValue("-"+o+"-"+t);return n},i.prototype.animationName=function(e){var t;try{t=this.vendorCSS(e,"animation-name").cssText}catch(n){t=window.getComputedStyle(e).getPropertyValue("animation-name")}return"none"===t?"":t},i.prototype.cacheAnimationName=function(e){return this.animationNameCache.set(e,this.animationName(e))},i.prototype.cachedAnimationName=function(e){return this.animationNameCache.get(e)},i.prototype.scrollHandler=function(){return this.scrolled=!0},i.prototype.scrollCallback=function(){var e;return this.scrolled&&(this.scrolled=!1,this.boxes=function(){var t,n,i,o;for(i=this.boxes,o=[],t=0,n=i.length;n>t;t++)e=i[t],e&&(this.isVisible(e)?this.show(e):o.push(e));return o}.call(this),!this.boxes.length)?this.stop():void 0},i.prototype.offsetTop=function(e){for(var t;void 0===e.offsetTop;)e=e.parentNode;for(t=e.offsetTop;e=e.offsetParent;)t+=e.offsetTop;return t},i.prototype.isVisible=function(e){var t,n,i,o,r;return n=e.getAttribute("data-wow-offset")||this.config.offset,r=window.pageYOffset,o=r+this.element.clientHeight-n,i=this.offsetTop(e),t=i+e.clientHeight,o>=i&&t>=r},i.prototype.util=function(){return this._util||(this._util=new e)},i.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},i}()}.call(this),!function(e){"use strict";var t=function(){this.$body=e("body"),this.$openLeftBtn=e(".open-left"),this.$menuItem=e("#sidebar-menu a")};t.prototype.openLeftBar=function(){e("#wrapper").toggleClass("enlarged"),e("#wrapper").addClass("forced"),e("#wrapper").hasClass("enlarged")&&e("body").hasClass("fixed-left")?e("body").removeClass("fixed-left").addClass("fixed-left-void"):!e("#wrapper").hasClass("enlarged")&&e("body").hasClass("fixed-left-void")&&e("body").removeClass("fixed-left-void").addClass("fixed-left"),e("#wrapper").hasClass("enlarged")?e(".left ul").removeAttr("style"):e(".subdrop").siblings("ul:first").show(),toggle_slimscroll(".slimscrollleft"),e("body").trigger("resize")},t.prototype.menuItemClick=function(t){e("#wrapper").hasClass("enlarged")||(e(this).parent().hasClass("has_sub")&&t.preventDefault(),e(this).hasClass("subdrop")?e(this).hasClass("subdrop")&&(e(this).removeClass("subdrop"),e(this).next("ul").slideUp(350),e(".pull-right i",e(this).parent()).removeClass("md-remove").addClass("md-add")):(e("ul",e(this).parents("ul:first")).slideUp(350),e("a",e(this).parents("ul:first")).removeClass("subdrop"),e("#sidebar-menu .pull-right i").removeClass("md-remove").addClass("md-add"),e(this).next("ul").slideDown(350),e(this).addClass("subdrop"),e(".pull-right i",e(this).parents(".has_sub:last")).removeClass("md-add").addClass("md-remove"),e(".pull-right i",e(this).siblings("ul")).removeClass("md-remove").addClass("md-add")))},t.prototype.init=function(){var t=this;e(".open-left").click(function(e){e.stopPropagation(),t.openLeftBar()}),t.$menuItem.on("click",t.menuItemClick),e("#sidebar-menu ul li.has_sub a.active").parents("li:last").children("a:first").addClass("active").trigger("click")},e.Sidemenu=new t,e.Sidemenu.Constructor=t}(window.jQuery),function(e){"use strict";var t=function(){this.$body=e("body"),this.$fullscreenBtn=e("#btn-fullscreen")};t.prototype.launchFullscreen=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},t.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},t.prototype.toggle_fullscreen=function(){var e=this,t=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled;t&&(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?e.exitFullscreen():e.launchFullscreen(document.documentElement))},t.prototype.init=function(){var e=this;e.$fullscreenBtn.on("click",function(){e.toggle_fullscreen()})},e.FullScreen=new t,e.FullScreen.Constructor=t}(window.jQuery),function(e){"use strict";var t=function(){this.$body=e("body"),this.$portletIdentifier=".portlet",this.$portletCloser='.portlet a[data-toggle="remove"]',this.$portletRefresher='.portlet a[data-toggle="reload"]'};t.prototype.init=function(){var t=this;e(document).on("click",this.$portletCloser,function(n){n.preventDefault();var i=e(this).closest(t.$portletIdentifier),o=i.parent();i.remove(),0==o.children().length&&o.remove()}),e(document).on("click",this.$portletRefresher,function(n){n.preventDefault();var i=e(this).closest(t.$portletIdentifier);i.append('<div class="panel-disabled"><div class="loader-1"></div></div>');var o=i.find(".panel-disabled");setTimeout(function(){o.fadeOut("fast",function(){o.remove()})},500+300*(5*Math.random()))})},e.Portlet=new t,e.Portlet.Constructor=t}(window.jQuery),function(e){"use strict";var t=function(){this.VERSION="1.1.0",this.AUTHOR="Coderthemes",this.SUPPORT="coderthemes@gmail.com",this.pageScrollElement="html, body",this.$body=e("body")};t.prototype.initTooltipPlugin=function(){e.fn.tooltip&&e('[data-toggle="tooltip"]').tooltip()},t.prototype.initPopoverPlugin=function(){e.fn.popover&&e('[data-toggle="popover"]').popover()},t.prototype.initNiceScrollPlugin=function(){e.fn.niceScroll&&e(".nicescroll").niceScroll({cursorcolor:"#9d9ea5",cursorborderradius:"0px"})},t.prototype.onDocReady=function(t){FastClick.attach(document.body),resizefunc.push("initscrolls"),resizefunc.push("changeptype"),e(".animate-number").each(function(){e(this).animateNumbers(e(this).attr("data-value"),!0,parseInt(e(this).attr("data-duration")))}),e(window).resize(debounce(resizeitems,100)),e("body").trigger("resize"),e(".right-bar-toggle").on("click",function(t){t.preventDefault(),e("#wrapper").toggleClass("right-bar-enabled")})},t.prototype.init=function(){var t=this;this.initTooltipPlugin(),this.initPopoverPlugin(),this.initNiceScrollPlugin(),e(document).ready(t.onDocReady),e.Portlet.init(),e.Sidemenu.init(),e.FullScreen.init()},e.MoltranApp=new t,e.MoltranApp.Constructor=t}(window.jQuery),function(e){"use strict";e.MoltranApp.init()}(window.jQuery);var toggle_fullscreen=function(){},w,h,dw,dh,changeptype=function(){w=$(window).width(),h=$(window).height(),dw=$(document).width(),dh=$(document).height(),jQuery.browser.mobile===!0&&$("body").addClass("mobile").removeClass("fixed-left"),$("#wrapper").hasClass("forced")||(w>990?($("body").removeClass("smallscreen").addClass("widescreen"),$("#wrapper").removeClass("enlarged")):($("body").removeClass("widescreen").addClass("smallscreen"),$("#wrapper").addClass("enlarged"),$(".left ul").removeAttr("style")),$("#wrapper").hasClass("enlarged")&&$("body").hasClass("fixed-left")?$("body").removeClass("fixed-left").addClass("fixed-left-void"):!$("#wrapper").hasClass("enlarged")&&$("body").hasClass("fixed-left-void")&&$("body").removeClass("fixed-left-void").addClass("fixed-left")),toggle_slimscroll(".slimscrollleft")},debounce=function(e,t,n){var i,o;return function(){var r=this,s=arguments,a=function(){i=null,n||(o=e.apply(r,s))},l=n&&!i;return clearTimeout(i),i=setTimeout(a,t),l&&(o=e.apply(r,s)),o}},wow=new WOW({boxClass:"wow",animateClass:"animated",offset:50,mobile:!1});wow.init(),function(e,t){"use strict";function n(n){var i=t.console;o[n]||(o[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function i(e,t,i,o){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return n(o),i}})}e.migrateVersion="3.0.0",function(){var n=t.console&&t.console.log&&function(){t.console.log.apply(t.console,arguments)},i=/^[12]\./;n&&(e&&!i.test(e.fn.jquery)||n("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),e.migrateWarnings&&n("JQMIGRATE: Migrate plugin loaded multiple times"),n("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion))}();var o={};e.migrateWarnings=[],void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&n("jQuery is not compatible with Quirks Mode");var r=e.fn.init,s=e.isNumeric,a=e.find,l=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,c=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;e.fn.init=function(e){var t=Array.prototype.slice.call(arguments);return"string"==typeof e&&"#"===e&&(n("jQuery( '#' ) is not a valid selector"),t[0]=[]),r.apply(this,t)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&l.test(e))try{document.querySelector(e)}catch(i){e=e.replace(c,function(e,t,n,i){return"["+t+n+'"'+i+'"]'});try{document.querySelector(e),n("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(o){n("Attribute selector with '#' was not fixed: "+t[0])}}return a.apply(this,t)};var u;for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&(e.find[u]=a[u]);e.fn.size=function(){return n("jQuery.fn.size() is deprecated; use the .length property"),this.length},e.parseJSON=function(){return n("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},e.isNumeric=function(t){function i(t){var n=t&&t.toString();return!e.isArray(t)&&n-parseFloat(n)+1>=0}var o=s(t),r=i(t);return o!==r&&n("jQuery.isNumeric() should not be called on constructed objects"),r},i(e,"unique",e.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),i(e.expr,"filters",e.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),i(e.expr,":",e.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var d=e.ajax;e.ajax=function(){var e=d.apply(this,arguments);return e.promise&&(i(e,"success",e.done,"jQXHR.success is deprecated and removed"),i(e,"error",e.fail,"jQXHR.error is deprecated and removed"),i(e,"complete",e.always,"jQXHR.complete is deprecated and removed")),e};var h=e.fn.removeAttr,f=e.fn.toggleClass,p=/\S+/g;e.fn.removeAttr=function(t){var i=this;return e.each(t.match(p),function(t,o){e.expr.match.bool.test(o)&&(n("jQuery.fn.removeAttr no longer sets boolean properties: "+o),i.prop(o,!1))}),h.apply(this,arguments)},e.fn.toggleClass=function(t){return void 0!==t&&"boolean"!=typeof t?f.apply(this,arguments):(n("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var n=this.getAttribute&&this.getAttribute("class")||"";n&&e.data(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||t===!1?"":e.data(this,"__className__")||"")}))};var m=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,n){var i=e.cssHooks[n]&&e.cssHooks[n].get;i&&(e.cssHooks[n].get=function(){var e;return m=!0,e=i.apply(this,arguments),m=!1,e})}),e.swap=function(e,t,i,o){var r,s,a={};m||n("jQuery.swap() is undocumented and deprecated");for(s in t)a[s]=e.style[s],e.style[s]=t[s];r=i.apply(e,o||[]);for(s in t)e.style[s]=a[s];return r};var g=e.data;e.data=function(t,i,o){var r;return i&&i!==e.camelCase(i)&&(r=e.hasData(t)&&g.call(this,t),r&&i in r)?(n("jQuery.data() always sets/gets camelCased names: "+i),arguments.length>2&&(r[i]=o),r[i]):g.apply(this,arguments)};var v=e.Tween.prototype.run;e.Tween.prototype.run=function(t){e.easing[this.easing].length>1&&(n('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),e.easing[this.easing]=e.easing[this.easing].bind(e.easing,t,this.options.duration*t,0,1,this.options.duration)),v.apply(this,arguments)};var b=e.fn.load,y=e.event.fix;e.event.props=[],e.event.fixHooks={},e.event.fix=function(t){var i,o=t.type,r=this.fixHooks[o],s=e.event.props;if(s.length)for(n("jQuery.event.props are deprecated and removed: "+s.join());s.length;)e.event.addProp(s.pop());if(r&&!r._migrated_&&(r._migrated_=!0,n("jQuery.event.fixHooks are deprecated and removed: "+o),(s=r.props)&&s.length))for(;s.length;)e.event.addProp(s.pop());return i=y.call(this,t),r&&r.filter?r.filter(i,t):i},e.each(["load","unload","error"],function(t,i){e.fn[i]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof e[0]?b.apply(this,e):(n("jQuery.fn."+i+"() is deprecated"),e.splice(0,0,i),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),e(function(){e(document).triggerHandler("ready")}),e.event.special.ready={setup:function(){this===document&&n("'ready' event is deprecated")}},e.fn.extend({bind:function(e,t,i){return n("jQuery.fn.bind() is deprecated"),this.on(e,null,t,i)},unbind:function(e,t){return n("jQuery.fn.unbind() is deprecated"),this.off(e,null,t)},delegate:function(e,t,i,o){return n("jQuery.fn.delegate() is deprecated"),this.on(t,e,i,o)},undelegate:function(e,t,i){return n("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var w=e.fn.offset;e.fn.offset=function(){var t,i=this[0],o={top:0,left:0};return i&&i.nodeType?(t=(i.ownerDocument||document).documentElement,e.contains(t,i)?w.apply(this,arguments):(n("jQuery.fn.offset() requires an element connected to a document"),o)):(n("jQuery.fn.offset() requires a valid DOM element"),o)};var x=e.param;e.param=function(t,i){var o=e.ajaxSettings&&e.ajaxSettings.traditional;return void 0===i&&o&&(n("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),i=o),x.call(this,t,i)};var C=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return n("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),C.apply(this,arguments)};var S=e.Deferred,E=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){
var i=S(),o=i.promise();return i.pipe=o.pipe=function(){var t=arguments;return n("deferred.pipe() is deprecated"),e.Deferred(function(n){e.each(E,function(r,s){var a=e.isFunction(t[r])&&t[r];i[s[1]](function(){var t=a&&a.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===o?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},t&&t.call(i,i),i}}(jQuery,window),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(t){function i(){var i,o;return!n.settings.submitHandler||(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),o=n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),void 0!==o&&o)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t,i=i.concat(n.errorList)}),n.errorList=i),t},rules:function(t,n){var i,o,r,s,a,l,c=this[0];if(t)switch(i=e.data(c.form,"validator").settings,o=i.rules,r=e.validator.staticRules(c),t){case"add":e.extend(r,e.validator.normalizeRule(n)),delete r.messages,o[c.name]=r,n.messages&&(i.messages[c.name]=e.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),function(t,n){l[n]=r[n],delete r[n],"required"===n&&e(c).removeAttr("aria-required")}),l):(delete o[c.name],r)}return s=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c),s.required&&(a=s.required,delete s.required,s=e.extend({required:a},s),e(c).attr("aria-required","true")),s.remote&&(a=s.remote,delete s.remote,s=e.extend(s,{remote:a})),s}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,n){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(t)||-1!==e.inArray(n.keyCode,i)||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this.form,"validator"),i="on"+t.type.replace(/^validate/,""),o=n.settings;o[i]&&!e(this).is(o.ignore)&&o[i].call(n,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){i[n]=t})}),n=this.settings.rules,e.each(n,function(t,i){n[t]=e.validator.normalizeRule(i)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n=this.clean(t),i=this.validationTargetFor(n),o=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=e(i),o=this.check(i)!==!1,o?delete this.invalid[i.name]:this.invalid[i.name]=!0),e(t).attr("aria-invalid",!o),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),o},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var t,n=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;n[t];t++)this.settings.unhighlight.call(this,n[t],this.settings.errorClass,"");else n.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in n||!t.objectLength(e(this).rules()))&&(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i=e(t),o=t.type;return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&"undefined"!=typeof t.validity?!t.validity.badInput&&i.val():(n=i.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,o,r=e(t).rules(),s=e.map(r,function(e,t){return t}).length,a=!1,l=this.elementValue(t);for(i in r){o={method:i,parameters:r[i]};try{if(n=e.validator.methods[i].call(this,l,t,o.parameters),"dependency-mismatch"===n&&1===s){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,o),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",c),c instanceof TypeError&&(c.message+=".  Exception occurred when checking element "+t.id+", check the '"+o.method+"' method."),c}}if(!a)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),o=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):o.test(i)&&(i=e.validator.format(i.replace(o,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t,method:n.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i,o,r,s=this.errorsFor(t),a=this.idOrName(t),l=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=e("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(n||""),i=s,this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t),s.is("label")?s.attr("for",a):0===s.parents("label[for='"+a+"']").length&&(r=s.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+r+"\\b"))||(l+=" "+r):l=r,e(t).attr("aria-describedby",l),o=this.groups[t.name],o&&e.each(this.groups,function(t,n){n===o&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var n=this.idOrName(t),i=e(t).attr("aria-describedby"),o="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(o=o+", #"+i.replace(/\s+/g,", #")),this.errors().filter(o)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(e,t,n,i){/min|max/.test(n)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[n]=i:t===n&&"range"!==t&&(e[n]=!0)},attributeRules:function(t){var n,i,o={},r=e(t),s=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(i=t.getAttribute(n),""===i&&(i=!0),i=!!i):i=r.attr(n),this.normalizeAttributeRule(o,s,n,i);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(t){var n,i,o={},r=e(t),s=t.getAttribute("type");for(n in e.validator.methods)i=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(o,s,n,i);return o},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,o){if(o===!1)return void delete t[i];if(o.param||o.depends){var r=!0;switch(typeof o.depends){case"string":r=!!e(o.depends,n.form).length;break;case"function":r=o.depends.call(n,n)}r?t[i]=void 0===o.param||o.param:delete t[i]}}),e.each(t,function(i,o){t[i]=e.isFunction(o)?o(n):o}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var o=e(n).val();return o&&o.length>0}return this.checkable(n)?this.getLength(t,n)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,o=0,r=0,s=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(n=e.length-1;n>=0;n--)i=e.charAt(n),r=parseInt(i,10),s&&(r*=2)>9&&(r-=9),o+=r,s=!s;return o%10===0},minlength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||o>=i},maxlength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=o},rangelength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||o>=i[0]&&o<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var o=e(i);return this.settings.onfocusout&&o.off(".validate-equalTo").on("blur.validate-equalTo",function(){e(n).valid()}),t===o.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var o,r,s=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===t?s.valid:(s.old=t,o=this,this.startRequest(n),r={},r[n.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:r,context:o.currentForm,success:function(i){var r,a,l,c=i===!0||"true"===i;o.settings.messages[n.name].remote=s.originalMessage,c?(l=o.formSubmitted,o.prepareElement(n),o.formSubmitted=l,o.successList.push(n),delete o.invalid[n.name],o.showErrors()):(r={},a=i||o.defaultMessage(n,"remote"),r[n.name]=s.message=e.isFunction(a)?a(t):a,o.invalid[n.name]=!0,o.showErrors(r)),s.valid=c,o.stopRequest(n,c)}},i)),"pending")}}});var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var o=e.port;"abort"===e.mode&&(n[o]&&n[o].abort(),n[o]=i)}):(t=e.ajax,e.ajax=function(i){var o=("mode"in i?i:e.ajaxSettings).mode,r=("port"in i?i:e.ajaxSettings).port;return"abort"===o?(n[r]&&n[r].abort(),n[r]=t.apply(this,arguments),n[r]):t.apply(this,arguments)})}),function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var n=e(this).data("minwidth"),i=e(this).data("maxwidth"),o="",r=e(this),s=e("#"+e(this).data("tester_id"));if(o!==(o=r.val())){var a=o.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">");s.html(a);var l=s.width(),c=l+t.comfortZone>=n?l+t.comfortZone:n,u=r.width(),d=c<u&&c>=n||c>n&&c<i;d&&r.width(c)}},e.fn.resetAutosize=function(t){var n=e(this).data("minwidth")||t.minInputWidth||e(this).width(),i=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,o=e(this),r=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:o.css("fontSize"),fontFamily:o.css("fontFamily"),fontWeight:o.css("fontWeight"),letterSpacing:o.css("letterSpacing"),whiteSpace:"nowrap"}),s=e(this).attr("id")+"_autosize_tester";!e("#"+s).length>0&&(r.attr("id",s),r.appendTo("body")),o.data("minwidth",n),o.data("maxwidth",i),o.data("tester_id",s),o.css("width",n)},e.fn.addTag=function(i,o){return o=jQuery.extend({focus:!1,callback:!0},o),this.each(function(){var r=e(this).attr("id"),s=e(this).val().split(t[r]);if(""==s[0]&&(s=new Array),i=jQuery.trim(i),o.unique){var a=e(s).tagExist(i);1==a&&e("#"+r+"_tag").addClass("not_valid")}else var a=!1;if(""!=i&&1!=a){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("Â Â "),e("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return e("#"+r).removeTag(escape(i))})).insertBefore("#"+r+"_addTag"),s.push(i),e("#"+r+"_tag").val(""),o.focus?e("#"+r+"_tag").focus():e("#"+r+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,s),o.callback&&n[r]&&n[r].onAddTag){var l=n[r].onAddTag;l.call(this,i)}if(n[r]&&n[r].onChange){var c=s.length,l=n[r].onChange;l.call(this,e(this),s[c-1])}}}),!1},e.fn.removeTag=function(o){return o=unescape(o),this.each(function(){var r=e(this).attr("id"),s=e(this).val().split(t[r]);for(e("#"+r+"_tagsinput .tag").remove(),str="",i=0;i<s.length;i++)s[i]!=o&&(str=str+t[r]+s[i]);if(e.fn.tagsInput.importTags(this,str),n[r]&&n[r].onRemoveTag){var a=n[r].onRemoveTag;a.call(this,o)}}),!1},e.fn.tagExist=function(t){return jQuery.inArray(t,e(this))>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var o=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){o.hide&&e(this).hide();var i=e(this).attr("id");i&&!t[e(this).attr("id")]||(i=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var r=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},o);t[i]=r.delimiter,(o.onAddTag||o.onRemoveTag||o.onChange)&&(n[i]=new Array,n[i].onAddTag=o.onAddTag,n[i].onRemoveTag=o.onRemoveTag,n[i].onChange=o.onChange);var s='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(o.interactive&&(s=s+'<input id="'+i+'_tag" value="" data-default="'+o.defaultText+'" />'),s+='</div><div class="tags_clear"></div></div>',e(s).insertAfter(this),e(r.holder).css("width",o.width),e(r.holder).css("height",o.height),""!=e(r.real_input).val()&&e.fn.tagsInput.importTags(e(r.real_input),e(r.real_input).val()),o.interactive){if(e(r.fake_input).val(e(r.fake_input).attr("data-default")),e(r.fake_input).css("color",o.placeholderColor),e(r.fake_input).resetAutosize(o),e(r.holder).bind("click",r,function(t){e(t.data.fake_input).focus()}),e(r.fake_input).bind("focus",r,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#000000")}),void 0!=o.autocomplete_url){autocomplete_options={source:o.autocomplete_url};for(attrname in o.autocomplete)autocomplete_options[attrname]=o.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(r.fake_input).autocomplete(o.autocomplete_url,o.autocomplete),e(r.fake_input).bind("result",r,function(t,n,r){n&&e("#"+i).addTag(n[0]+"",{focus:!0,unique:o.unique})})):void 0!==jQuery.ui.autocomplete&&(e(r.fake_input).autocomplete(autocomplete_options),e(r.fake_input).bind("autocompleteselect",r,function(t,n){return e(t.data.real_input).addTag(n.item.value,{focus:!0,unique:o.unique}),!1}))}else e(r.fake_input).bind("blur",r,function(t){var n=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=n?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:o.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",o.placeholderColor)),!1});e(r.fake_input).bind("keypress",r,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:o.unique}),e(t.data.fake_input).resetAutosize(o),!1):void(t.data.autosize&&e(t.data.fake_input).doAutosize(o))}),r.removeWithBackspace&&e(r.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var n=e(this).closest(".tagsinput").find(".tag:last").text(),i=e(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,""),e("#"+i).removeTag(escape(n)),e(this).trigger("focus")}}),e(r.fake_input).blur(),r.unique&&e(r.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[Ã¡Ã©Ã­Ã³ÃºÃÃÃÃÃÃ±Ã,\/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(n,i){var o=e(n).attr("id");e(n).val(i.join(t[o]))},e.fn.tagsInput.importTags=function(o,r){e(o).val("");var s=e(o).attr("id"),a=r.split(t[s]);for(i=0;i<a.length;i++)e(o).addTag(a[i],{focus:!1,callback:!1});if(n[s]&&n[s].onChange){var l=n[s].onChange;l.call(o,o,a[i])}}}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return $n.apply(null,arguments)}function t(e){$n=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,i){return Ae(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=l()),e._pf}function u(e){if(null==e._isValid){var t=c(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(NaN);return null!=e?s(c(t),e):c(t).userInvalidated=!0,t}function h(e,t){var n,i,o;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=c(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ln.length>0)for(n in Ln)i=Ln[n],o=t[i],"undefined"!=typeof o&&(e[i]=o);return e}function f(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Rn===!1&&(Rn=!0,e.updateOffset(this),Rn=!1)}function p(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function m(e){return e<0?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function v(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;i<o;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&s++;return s+r}function b(){}function y(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,i,o,r=0;r<e.length;){for(o=y(e[r]).split("-"),t=o.length,n=y(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=x(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&v(o,n,!0)>=t-1)break;t--}r++}return null}function x(e){var t=null;if(!Pn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=In._abbr,require("./locale/"+e),C(t)}catch(n){}return Pn[e]}function C(e,t){var n;return e&&(n="undefined"==typeof t?E(e):S(e,t),n&&(In=n)),In._abbr}function S(e,t){return null!==t?(t.abbr=e,Pn[e]=Pn[e]||new b,Pn[e].set(t),C(e),Pn[e]):(delete Pn[e],null)}function E(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return In;if(!n(e)){if(t=x(e))return t;e=[e]}return w(e)}function T(e,t){var n=e.toLowerCase();Un[n]=Un[n+"s"]=Un[t]=e}function k(e){return"string"==typeof e?Un[e]||Un[e.toLowerCase()]:void 0}function D(e){var t,n,i={};for(n in e)r(e,n)&&(t=k(n),t&&(i[t]=e[n]));return i}function A(t,n){return function(i){return null!=i?(_(this,t,i),e.updateOffset(this,n),this):N(this,t)}}function N(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function _(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function M(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=k(e),"function"==typeof this[e])return this[e](t);return this}function F(e,t,n){var i=""+Math.abs(e),o=t-i.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function O(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(jn[e]=o),t&&(jn[t[0]]=function(){return F(o.apply(this,arguments),t[1],t[2])}),n&&(jn[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function $(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I(e){var t,n,i=e.match(Bn);for(t=0,n=i.length;t<n;t++)jn[i[t]]?i[t]=jn[i[t]]:i[t]=$(i[t]);return function(o){var r="";for(t=0;t<n;t++)r+=i[t]instanceof Function?i[t].call(o,e):i[t];return r}}function L(e,t){return e.isValid()?(t=R(t,e.localeData()),
Hn[t]=Hn[t]||I(t),Hn[t](e)):e.localeData().invalidDate()}function R(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(zn.lastIndex=0;i>=0&&zn.test(e);)e=e.replace(zn,n),zn.lastIndex=0,i-=1;return e}function P(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function U(e,t,n){oi[e]=P(t)?t:function(e){return e&&n?n:t}}function B(e,t){return r(oi,e)?oi[e](t._strict,t._locale):new RegExp(z(e))}function z(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)ri[e[n]]=i}function j(e,t){H(e,function(e,n,i,o){i._w=i._w||{},t(e,i._w,i,o)})}function W(e,t,n){null!=t&&r(ri,e)&&ri[e](t,n._a,n,e)}function q(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Y(e){return this._months[e.month()]}function V(e){return this._monthsShort[e.month()]}function X(e,t,n){var i,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function K(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function G(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):N(this,"Month")}function Q(){return q(this.year(),this.month())}function Z(e){var t,n=e._a;return n&&c(e).overflow===-2&&(t=n[ai]<0||n[ai]>11?ai:n[li]<1||n[li]>q(n[si],n[ai])?li:n[ci]<0||n[ci]>24||24===n[ci]&&(0!==n[ui]||0!==n[di]||0!==n[hi])?ci:n[ui]<0||n[ui]>59?ui:n[di]<0||n[di]>59?di:n[hi]<0||n[hi]>999?hi:-1,c(e)._overflowDayOfYear&&(t<si||t>li)&&(t=li),c(e).overflow=t),e}function J(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ee(e,t){var n=!0;return s(function(){return n&&(J(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function te(e,t){mi[e]||(J(t),mi[e]=!0)}function ne(e){var t,n,i=e._i,o=gi.exec(i);if(o){for(c(e).iso=!0,t=0,n=vi.length;t<n;t++)if(vi[t][1].exec(i)){e._f=vi[t][0];break}for(t=0,n=bi.length;t<n;t++)if(bi[t][1].exec(i)){e._f+=(o[6]||" ")+bi[t][0];break}i.match(ti)&&(e._f+="Z"),xe(e)}else e._isValid=!1}function ie(t){var n=yi.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(ne(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function oe(e,t,n,i,o,r,s){var a=new Date(e,t,n,i,o,r,s);return e<1970&&a.setFullYear(e),a}function re(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function se(e){return ae(e)?366:365}function ae(e){return e%4===0&&e%100!==0||e%400===0}function le(){return ae(this.year())}function ce(e,t,n){var i,o=n-t,r=n-e.day();return r>o&&(r-=7),r<o-7&&(r+=7),i=Ne(e).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ue(e){return ce(e,this._week.dow,this._week.doy).week}function de(){return this._week.dow}function he(){return this._week.doy}function fe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function pe(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function me(e,t,n,i,o){var r,s=6+o-i,a=re(e,0,1+s),l=a.getUTCDay();return l<o&&(l+=7),n=null!=n?1*n:o,r=1+s+7*(t-1)-l+n,{year:r>0?e:e-1,dayOfYear:r>0?r:se(e-1)+r}}function ge(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ve(e,t,n){return null!=e?e:null!=t?t:n}function be(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ye(e){var t,n,i,o,r=[];if(!e._d){for(i=be(e),e._w&&null==e._a[li]&&null==e._a[ai]&&we(e),e._dayOfYear&&(o=ve(e._a[si],i[si]),e._dayOfYear>se(o)&&(c(e)._overflowDayOfYear=!0),n=re(o,0,e._dayOfYear),e._a[ai]=n.getUTCMonth(),e._a[li]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ci]&&0===e._a[ui]&&0===e._a[di]&&0===e._a[hi]&&(e._nextDay=!0,e._a[ci]=0),e._d=(e._useUTC?re:oe).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ci]=24)}}function we(e){var t,n,i,o,r,s,a;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,s=4,n=ve(t.GG,e._a[si],ce(Ne(),1,4).year),i=ve(t.W,1),o=ve(t.E,1)):(r=e._locale._week.dow,s=e._locale._week.doy,n=ve(t.gg,e._a[si],ce(Ne(),r,s).year),i=ve(t.w,1),null!=t.d?(o=t.d,o<r&&++i):o=null!=t.e?t.e+r:r),a=me(n,i,o,s,r),e._a[si]=a.year,e._dayOfYear=a.dayOfYear}function xe(t){if(t._f===e.ISO_8601)return void ne(t);t._a=[],c(t).empty=!0;var n,i,o,r,s,a=""+t._i,l=a.length,u=0;for(o=R(t._f,t._locale).match(Bn)||[],n=0;n<o.length;n++)r=o[n],i=(a.match(B(r,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&c(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),jn[r]?(i?c(t).empty=!1:c(t).unusedTokens.push(r),W(r,i,t)):t._strict&&!i&&c(t).unusedTokens.push(r);c(t).charsLeftOver=l-u,a.length>0&&c(t).unusedInput.push(a),c(t).bigHour===!0&&t._a[ci]<=12&&t._a[ci]>0&&(c(t).bigHour=void 0),t._a[ci]=Ce(t._locale,t._a[ci],t._meridiem),ye(t),Z(t)}function Ce(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function Se(e){var t,n,i,o,r;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)r=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],xe(t),u(t)&&(r+=c(t).charsLeftOver,r+=10*c(t).unusedTokens.length,c(t).score=r,(null==i||r<i)&&(i=r,n=t));s(e,n||t)}function Ee(e){if(!e._d){var t=D(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ye(e)}}function Te(e){var t=new f(Z(ke(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ke(e){var t=e._i,o=e._f;return e._locale=e._locale||E(e._l),null===t||void 0===o&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new f(Z(t)):(n(o)?Se(e):o?xe(e):i(t)?e._d=t:De(e),e))}function De(t){var r=t._i;void 0===r?t._d=new Date:i(r)?t._d=new Date((+r)):"string"==typeof r?ie(t):n(r)?(t._a=o(r.slice(0),function(e){return parseInt(e,10)}),ye(t)):"object"==typeof r?Ee(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function Ae(e,t,n,i,o){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=e,r._f=t,r._strict=i,Te(r)}function Ne(e,t,n,i){return Ae(e,t,n,i,!1)}function _e(e,t){var i,o;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ne();for(i=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](i)||(i=t[o]);return i}function Me(){var e=[].slice.call(arguments,0);return _e("isBefore",e)}function Fe(){var e=[].slice.call(arguments,0);return _e("isAfter",e)}function Oe(e){var t=D(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=E(),this._bubble()}function $e(e){return e instanceof Oe}function Ie(e,t){O(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}function Le(e){var t=(e||"").match(ti)||[],n=t[t.length-1]||[],i=(n+"").match(Ei)||["-",0,0],o=+(60*i[1])+g(i[2]);return"+"===i[0]?o:-o}function Re(t,n){var o,r;return n._isUTC?(o=n.clone(),r=(p(t)||i(t)?+t:+Ne(t))-+o,o._d.setTime(+o._d+r),e.updateOffset(o,!1),o):Ne(t).local()}function Pe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ue(t,n){var i,o=this._offset||0;return null!=t?("string"==typeof t&&(t=Le(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Pe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?tt(this,Ge(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Pe(this)}function Be(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ze(e){return this.utcOffset(0,e)}function He(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Pe(this),"m")),this}function je(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Le(this._i)),this}function We(e){return e=e?Ne(e).utcOffset():0,(this.utcOffset()-e)%60===0}function qe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ye(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(h(e,this),e=ke(e),e._a){var t=e._isUTC?a(e._a):Ne(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ve(){return!this._isUTC}function Xe(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function Ge(e,t){var n,i,o,s=e,a=null;return $e(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(a=Ti.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:g(a[li])*n,h:g(a[ci])*n,m:g(a[ui])*n,s:g(a[di])*n,ms:g(a[hi])*n}):(a=ki.exec(e))?(n="-"===a[1]?-1:1,s={y:Qe(a[2],n),M:Qe(a[3],n),d:Qe(a[4],n),h:Qe(a[5],n),m:Qe(a[6],n),s:Qe(a[7],n),w:Qe(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=Je(Ne(s.from),Ne(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),i=new Oe(s),$e(e)&&r(e,"_locale")&&(i._locale=e._locale),i}function Qe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ze(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Je(e,t){var n;return t=Re(t,e),e.isBefore(t)?n=Ze(e,t):(n=Ze(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function et(e,t){return function(n,i){var o,r;return null===i||isNaN(+i)||(te(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=Ge(n,i),tt(this,o,e),this}}function tt(t,n,i,o){var r=n._milliseconds,s=n._days,a=n._months;o=null==o||o,r&&t._d.setTime(+t._d+r*i),s&&_(t,"Date",N(t,"Date")+s*i),a&&K(t,N(t,"Month")+a*i),o&&e.updateOffset(t,s||a)}function nt(e,t){var n=e||Ne(),i=Re(n,this).startOf("day"),o=this.diff(i,"days",!0),r=o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse";return this.format(t&&t[r]||this.localeData().calendar(r,this,Ne(n)))}function it(){return new f(this)}function ot(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:Ne(e),+this>+e):(n=p(e)?+e:+Ne(e),n<+this.clone().startOf(t))}function rt(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:Ne(e),+this<+e):(n=p(e)?+e:+Ne(e),+this.clone().endOf(t)<n)}function st(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function at(e,t){var n;return t=k(t||"millisecond"),"millisecond"===t?(e=p(e)?e:Ne(e),+this===+e):(n=+Ne(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function lt(e,t,n){var i,o,r=Re(e,this),s=6e4*(r.utcOffset()-this.utcOffset());return t=k(t),"year"===t||"month"===t||"quarter"===t?(o=ct(this,r),"quarter"===t?o/=3:"year"===t&&(o/=12)):(i=this-r,o="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?o:m(o)}function ct(e,t){var n,i,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return t-r<0?(n=e.clone().add(o-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(o+1,"months"),i=(t-r)/(n-r)),-(o+i)}function ut(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():L(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ht(t){var n=L(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ft(e,t){return this.isValid()?Ge({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pt(e){return this.from(Ne(),e)}function mt(e,t){return this.isValid()?Ge({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gt(e){return this.to(Ne(),e)}function vt(e){var t;return void 0===e?this._locale._abbr:(t=E(e),null!=t&&(this._locale=t),this)}function bt(){return this._locale}function yt(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function wt(e){return e=k(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function xt(){return+this._d-6e4*(this._offset||0)}function Ct(){return Math.floor(+this/1e3)}function St(){return this._offset?new Date((+this)):this._d}function Et(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function kt(){return u(this)}function Dt(){return s({},c(this))}function At(){return c(this).overflow}function Nt(e,t){O(0,[e,e.length],0,t)}function _t(e,t,n){return ce(Ne([e,11,31+t-n]),t,n).week}function Mt(e){var t=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Ft(e){var t=ce(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Ot(){return _t(this.year(),1,4)}function $t(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function It(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Lt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Rt(e){return this._weekdays[e.day()]}function Pt(e){return this._weekdaysShort[e.day()]}function Ut(e){return this._weekdaysMin[e.day()]}function Bt(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;t<7;t++)if(this._weekdaysParse[t]||(n=Ne([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function zt(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Lt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function jt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Wt(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qt(e,t){return t._meridiemParse}function Yt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Vt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Xt(e,t){t[hi]=g(1e3*("0."+e))}function Kt(){return this._isUTC?"UTC":""}function Gt(){return this._isUTC?"Coordinated Universal Time":""}function Qt(e){return Ne(1e3*e)}function Zt(){return Ne.apply(null,arguments).parseZone()}function Jt(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function en(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function tn(){return this._invalidDate}function nn(e){return this._ordinal.replace("%d",e)}function on(e){return e}function rn(e,t,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,i):o.replace(/%d/i,e)}function sn(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function an(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ln(e,t,n,i){var o=E(),r=a().set(i,t);return o[n](r,e)}function cn(e,t,n,i,o){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ln(e,t,n,o);var r,s=[];for(r=0;r<i;r++)s[r]=ln(e,r,n,o);return s}function un(e,t){return cn(e,t,"months",12,"month")}function dn(e,t){return cn(e,t,"monthsShort",12,"month")}function hn(e,t){return cn(e,t,"weekdays",7,"day")}function fn(e,t){return cn(e,t,"weekdaysShort",7,"day")}function pn(e,t){return cn(e,t,"weekdaysMin",7,"day")}function mn(){var e=this._data;return this._milliseconds=Ki(this._milliseconds),this._days=Ki(this._days),this._months=Ki(this._months),e.milliseconds=Ki(e.milliseconds),e.seconds=Ki(e.seconds),e.minutes=Ki(e.minutes),e.hours=Ki(e.hours),e.months=Ki(e.months),e.years=Ki(e.years),this}function gn(e,t,n,i){var o=Ge(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function vn(e,t){return gn(this,e,t,1)}function bn(e,t){return gn(this,e,t,-1)}function yn(e){return e<0?Math.floor(e):Math.ceil(e)}function wn(){var e,t,n,i,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*yn(Cn(a)+s),s=0,a=0),l.milliseconds=r%1e3,e=m(r/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,s+=m(n/24),o=m(xn(s)),a+=o,s-=yn(Cn(o)),i=m(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function xn(e){return 4800*e/146097}function Cn(e){return 146097*e/4800}function Sn(e){var t,n,i=this._milliseconds;if(e=k(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+xn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Cn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function En(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Tn(e){return function(){return this.as(e)}}function kn(e){return e=k(e),this[e+"s"]()}function Dn(e){return function(){return this._data[e]}}function An(){return m(this.days()/7)}function Nn(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function _n(e,t,n){var i=Ge(e).abs(),o=ho(i.as("s")),r=ho(i.as("m")),s=ho(i.as("h")),a=ho(i.as("d")),l=ho(i.as("M")),c=ho(i.as("y")),u=o<fo.s&&["s",o]||1===r&&["m"]||r<fo.m&&["mm",r]||1===s&&["h"]||s<fo.h&&["hh",s]||1===a&&["d"]||a<fo.d&&["dd",a]||1===l&&["M"]||l<fo.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Nn.apply(null,u)}function Mn(e,t){return void 0!==fo[e]&&(void 0===t?fo[e]:(fo[e]=t,!0))}function Fn(e){var t=this.localeData(),n=_n(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function On(){var e,t,n,i=po(this._milliseconds)/1e3,o=po(this._days),r=po(this._months);e=m(i/60),t=m(e/60),i%=60,e%=60,n=m(r/12),r%=12;var s=n,a=r,l=o,c=t,u=e,d=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var $n,In,Ln=e.momentProperties=[],Rn=!1,Pn={},Un={},Bn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hn={},jn={},Wn=/\d/,qn=/\d\d/,Yn=/\d{3}/,Vn=/\d{4}/,Xn=/[+-]?\d{6}/,Kn=/\d\d?/,Gn=/\d{1,3}/,Qn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Jn=/\d+/,ei=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,oi={},ri={},si=0,ai=1,li=2,ci=3,ui=4,di=5,hi=6;O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),O("MMMM",0,0,function(e){return this.localeData().months(this,e)}),T("month","M"),U("M",Kn),U("MM",Kn,qn),U("MMM",ii),U("MMMM",ii),H(["M","MM"],function(e,t){t[ai]=g(e)-1}),H(["MMM","MMMM"],function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[ai]=o:c(n).invalidMonth=e});var fi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};e.suppressDeprecationWarnings=!1;var gi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=ee("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),T("year","y"),U("Y",ei),U("YY",Kn,qn),U("YYYY",Qn,Vn),U("YYYYY",Zn,Xn),U("YYYYYY",Zn,Xn),H(["YYYYY","YYYYYY"],si),H("YYYY",function(t,n){n[si]=2===t.length?e.parseTwoDigitYear(t):g(t)}),H("YY",function(t,n){n[si]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var wi=A("FullYear",!1);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),U("w",Kn),U("ww",Kn,qn),U("W",Kn),U("WW",Kn,qn),j(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var xi={dow:0,doy:6};O("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),U("DDD",Gn),U("DDDD",Yn),H(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var Ci=ee("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ne.apply(null,arguments);return e<this?this:e}),Si=ee("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ne.apply(null,arguments);return e>this?this:e});Ie("Z",":"),Ie("ZZ",""),U("Z",ti),U("ZZ",ti),H(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Le(e)});var Ei=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ti=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ki=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ge.fn=Oe.prototype;var Di=et(1,"add"),Ai=et(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ni=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nt("gggg","weekYear"),Nt("ggggg","weekYear"),Nt("GGGG","isoWeekYear"),Nt("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),U("G",ei),U("g",ei),U("GG",Kn,qn),U("gg",Kn,qn),U("GGGG",Qn,Vn),U("gggg",Qn,Vn),U("GGGGG",Zn,Xn),U("ggggg",Zn,Xn),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),j(["gg","GG"],function(t,n,i,o){n[o]=e.parseTwoDigitYear(t)}),O("Q",0,0,"quarter"),T("quarter","Q"),U("Q",Wn),H("Q",function(e,t){t[ai]=3*(g(e)-1)}),O("D",["DD",2],"Do","date"),T("date","D"),U("D",Kn),U("DD",Kn,qn),U("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),H(["D","DD"],li),H("Do",function(e,t){t[li]=g(e.match(Kn)[0],10)});var _i=A("Date",!0);O("d",0,"do","day"),O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),U("d",Kn),U("e",Kn),U("E",Kn),U("dd",ii),U("ddd",ii),U("dddd",ii),j(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:c(n).invalidWeekday=e}),j(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var Mi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");O("H",["HH",2],0,"hour"),O("h",["hh",2],0,function(){return this.hours()%12||12}),Wt("a",!0),Wt("A",!1),T("hour","h"),U("a",qt),U("A",qt),U("H",Kn),U("h",Kn),U("HH",Kn,qn),U("hh",Kn,qn),H(["H","HH"],ci),H(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),H(["h","hh"],function(e,t,n){t[ci]=g(e),c(n).bigHour=!0});var $i=/[ap]\.?m?\.?/i,Ii=A("Hours",!0);O("m",["mm",2],0,"minute"),T("minute","m"),U("m",Kn),U("mm",Kn,qn),H(["m","mm"],ui);var Li=A("Minutes",!1);O("s",["ss",2],0,"second"),T("second","s"),U("s",Kn),U("ss",Kn,qn),H(["s","ss"],di);var Ri=A("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),U("S",Gn,Wn),U("SS",Gn,qn),U("SSS",Gn,Yn);var Pi;for(Pi="SSSS";Pi.length<=9;Pi+="S")U(Pi,Jn);for(Pi="S";Pi.length<=9;Pi+="S")H(Pi,Xt);var Ui=A("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var Bi=f.prototype;Bi.add=Di,Bi.calendar=nt,Bi.clone=it,Bi.diff=lt,Bi.endOf=wt,Bi.format=ht,Bi.from=ft,Bi.fromNow=pt,Bi.to=mt,Bi.toNow=gt,Bi.get=M,Bi.invalidAt=At,Bi.isAfter=ot,Bi.isBefore=rt,Bi.isBetween=st,Bi.isSame=at,Bi.isValid=kt,Bi.lang=Ni,Bi.locale=vt,Bi.localeData=bt,Bi.max=Si,Bi.min=Ci,Bi.parsingFlags=Dt,Bi.set=M,Bi.startOf=yt,Bi.subtract=Ai,Bi.toArray=Et,Bi.toObject=Tt,Bi.toDate=St,Bi.toISOString=dt,Bi.toJSON=dt,Bi.toString=ut,Bi.unix=Ct,Bi.valueOf=xt,Bi.year=wi,Bi.isLeapYear=le,Bi.weekYear=Mt,Bi.isoWeekYear=Ft,Bi.quarter=Bi.quarters=It,Bi.month=G,Bi.daysInMonth=Q,Bi.week=Bi.weeks=fe,Bi.isoWeek=Bi.isoWeeks=pe,Bi.weeksInYear=$t,Bi.isoWeeksInYear=Ot,Bi.date=_i,Bi.day=Bi.days=zt,Bi.weekday=Ht,Bi.isoWeekday=jt,Bi.dayOfYear=ge,Bi.hour=Bi.hours=Ii,Bi.minute=Bi.minutes=Li,Bi.second=Bi.seconds=Ri,Bi.millisecond=Bi.milliseconds=Ui,Bi.utcOffset=Ue,Bi.utc=ze,Bi.local=He,Bi.parseZone=je,Bi.hasAlignedHourOffset=We,Bi.isDST=qe,Bi.isDSTShifted=Ye,Bi.isLocal=Ve,Bi.isUtcOffset=Xe,Bi.isUtc=Ke,Bi.isUTC=Ke,Bi.zoneAbbr=Kt,Bi.zoneName=Gt,Bi.dates=ee("dates accessor is deprecated. Use date instead.",_i),Bi.months=ee("months accessor is deprecated. Use month instead",G),Bi.years=ee("years accessor is deprecated. Use year instead",wi),Bi.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Be);var zi=Bi,Hi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ji={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Wi="Invalid date",qi="%d",Yi=/\d{1,2}/,Vi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Xi=b.prototype;Xi._calendar=Hi,Xi.calendar=Jt,Xi._longDateFormat=ji,Xi.longDateFormat=en,Xi._invalidDate=Wi,Xi.invalidDate=tn,Xi._ordinal=qi,Xi.ordinal=nn,Xi._ordinalParse=Yi,Xi.preparse=on,Xi.postformat=on,Xi._relativeTime=Vi,Xi.relativeTime=rn,Xi.pastFuture=sn,Xi.set=an,Xi.months=Y,Xi._months=fi,Xi.monthsShort=V,Xi._monthsShort=pi,Xi.monthsParse=X,Xi.week=ue,Xi._week=xi,Xi.firstDayOfYear=he,Xi.firstDayOfWeek=de,Xi.weekdays=Rt,Xi._weekdays=Mi,Xi.weekdaysMin=Ut,Xi._weekdaysMin=Oi,Xi.weekdaysShort=Pt,Xi._weekdaysShort=Fi,Xi.weekdaysParse=Bt,Xi.isPM=Yt,Xi._meridiemParse=$i,Xi.meridiem=Vt,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=ee("moment.lang is deprecated. Use moment.locale instead.",C),e.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",E);var Ki=Math.abs,Gi=Tn("ms"),Qi=Tn("s"),Zi=Tn("m"),Ji=Tn("h"),eo=Tn("d"),to=Tn("w"),no=Tn("M"),io=Tn("y"),oo=Dn("milliseconds"),ro=Dn("seconds"),so=Dn("minutes"),ao=Dn("hours"),lo=Dn("days"),co=Dn("months"),uo=Dn("years"),ho=Math.round,fo={s:45,m:45,h:22,d:26,M:11},po=Math.abs,mo=Oe.prototype;mo.abs=mn,mo.add=vn,mo.subtract=bn,mo.as=Sn,mo.asMilliseconds=Gi,mo.asSeconds=Qi,mo.asMinutes=Zi,mo.asHours=Ji,mo.asDays=eo,mo.asWeeks=to,mo.asMonths=no,mo.asYears=io,mo.valueOf=En,mo._bubble=wn,mo.get=kn,mo.milliseconds=oo,mo.seconds=ro,mo.minutes=so,mo.hours=ao,mo.days=lo,mo.weeks=An,mo.months=co,mo.years=uo,mo.humanize=Fn,mo.toISOString=On,mo.toString=On,mo.toJSON=On,mo.locale=vt,mo.localeData=bt,mo.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",On),mo.lang=Ni,O("X",0,0,"unix"),O("x",0,0,"valueOf"),U("x",ei),U("X",ni),H("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),H("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.6",t(Ne),e.fn=zi,e.min=Me,e.max=Fe,e.utc=a,e.unix=Qt,e.months=un,e.isDate=i,e.locale=C,e.invalid=d,e.duration=Ge,e.isMoment=p,e.weekdays=hn,e.parseZone=Zt,e.localeData=E,e.isDuration=$e,e.monthsShort=dn,e.weekdaysMin=pn,e.defineLocale=S,e.weekdaysShort=fn,e.normalizeUnits=k,e.relativeTimeThreshold=Mn;var go=e;return go}),!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,o=this.length;++i<o&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function i(e){function t(e){return B[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function o(e,t){for(var n=0,i=t.length;i>n;n+=1)if(s(e,t[n]))return n;return-1}function r(){var t=e(U);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function s(e,n){return e===n||e!==t&&n!==t&&(null!==e&&null!==n&&(e.constructor===String?e+""==n+"":n.constructor===String&&n+""==e+""))}function a(t,n){var i,o,r;if(null===t||t.length<1)return[];for(i=t.split(n),o=0,r=i.length;r>o;o+=1)i[o]=e.trim(i[o]);return i}function l(e){return e.outerWidth(!1)-e.width()}function c(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var o=e.data(n,i);o!==t&&n.val()!==o&&(e.removeData(n,i),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var i=P;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n);
})}function d(e,n,i){i=i||t;var o;return function(){var t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(i,t)},e)}}function h(e,t){var n=d(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){o(e.target,t.get())>=0&&n(e)})}function f(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus();var o=n.offsetWidth>0||n.offsetHeight>0;o&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function p(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var o=document.selection.createRange();i=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),n=o.text.length-i}return{offset:n,length:i}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!I){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);I=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),e("body").append(I)}return I.text(t.val()),I.width()}function b(t,n,i){var o,r,s=[];o=t.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),o=n.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(r=i(this),r&&s.push(r))})),t.attr("class",s.join(" "))}function y(e,t,n,o){var r=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),s=t.length;return 0>r?void n.push(o(e)):(n.push(o(e.substring(0,r))),n.push("<span class='select2-match'>"),n.push(o(e.substring(r,r+s))),n.push("</span>"),void n.push(o(e.substring(r+s,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function x(n){var i,o=null,r=n.quietMillis||100,s=n.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,r=s,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);i=i?i.call(a,l.term,l.page,l.context):null,r="function"==typeof r?r.call(a,l.term,l.page,l.context):r,o&&"function"==typeof o.abort&&o.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(a)):e.extend(d,n.params)),e.extend(d,{url:r,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page);l.callback(t)}}),o=c.call(a,d)},r)}}function C(t){var n,i,o=t,r=function(e){return""+e.text};e.isArray(o)&&(i=o,o={results:i}),e.isFunction(o)===!1&&(i=o,o=function(){return i});var s=o();return s.text&&(r=s.text,e.isFunction(r)||(n=s.text,r=function(e){return e[n]})),function(t){var n,i=t.term,s={results:[]};return""===i?void t.callback(o()):(n=function(o,s){var a,l;if(o=o[0],o.children){a={};for(l in o)o.hasOwnProperty(l)&&(a[l]=o[l]);a.children=[],e(o.children).each2(function(e,t){n(t,a.children)}),(a.children.length||t.matcher(i,r(a),o))&&s.push(a)}else t.matcher(i,r(o),o)&&s.push(o)},e(o().results).each2(function(e,t){n(t,s.results)}),void t.callback(s))}}function S(n){var i=e.isFunction(n);return function(o){var r=o.term,s={results:[]},a=i?n(o):n;e.isArray(a)&&(e(a).each(function(){var e=this.text!==t,n=e?this.text:this;(""===r||o.matcher(r,n))&&s.results.push(e?this:{id:this,text:this})}),o.callback(s))}}function E(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function T(t){if(e.isFunction(t)){var n=Array.prototype.slice.call(arguments,1);return t.apply(null,n)}return t}function k(t){var n=0;return e.each(t,function(e,t){t.children?n+=k(t.children):n++}),n}function D(e,n,i,o){var r,a,l,c,u,d=e,h=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],a=e.indexOf(u),!(a>=0));l++);if(0>a)break;if(r=e.substring(0,a),e=e.substring(a+u.length),r.length>0&&(r=o.createSearchChoice.call(this,r,n),r!==t&&null!==r&&o.id(r)!==t&&null!==o.id(r))){for(h=!1,l=0,c=n.length;c>l;l++)if(s(o.id(r),o.id(n[l]))){h=!0;break}h||i(r)}}return d!==e?e:void 0}function A(){var e=this;Array.prototype.forEach.call(arguments,function(t){e[t].remove(),e[t]=null})}function N(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var _,M,F,O,$,I,L,R,P={x:0,y:0},_={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case _.LEFT:case _.RIGHT:case _.UP:case _.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case _.SHIFT:case _.CTRL:case _.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},U="<div class='select2-measure-scrollbar'></div>",B={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z"};L=e(document),$=function(){var e=1;return function(){return e++}}(),L.on("mousemove",function(e){P.x=e.pageX,P.y=e.pageY}),M=N(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,o,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+$()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e("body"),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(T(n.containerCss)),this.container.addClass(T(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=i=this.container.find(s),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),u(this.results),this.dropdown.on("mousemove-filtered",s,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",s,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",s,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",s,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),h(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,o){var r=i.scrollTop();o>0&&0>=r-o?(i.scrollTop(0),m(e)):0>o&&i.get(0).scrollHeight-i.scrollTop()+o<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),m(e))}),c(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var l=n.element.prop("readonly");l===t&&(l=!1),this.readonly(l),R=R||r(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),A.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:s(e.attr("locked"),"locked")||s(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,o,r,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,o,r){var s,a=this.opts.id,l=this.liveRegion;(s=function(i,o,u){var d,h,f,p,m,g,v,b,y,w;for(i=n.sortResults(i,o,r),d=0,h=i.length;h>d;d+=1)f=i[d],m=f.disabled===!0,p=!m&&a(f)!==t,g=f.children&&f.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(f)),v.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+$()),b.attr("role","option"),w=n.formatResult(f,b,r,c.opts.escapeMarkup),w!==t&&(b.html(w),v.append(b)),g&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),s(f.children,y,u+1),v.append(y)),v.data("select2-data",f),o.append(v);l.text(n.formatMatches(i.length))})(o,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(r=n.id,n.id=function(e){return e[r]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(o?(n.query=this.bind(function(e){var n,o,r,s={results:[],more:!1},a=e.term;r=function(t,n){var i;t.is("option")?e.matcher(a,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2(function(e,t){r(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(o=this.getPlaceholderOption(),o&&(n=n.not(o))),n.each2(function(e,t){r(t,s.results)}),e.callback(s)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=x.call(n.element,n.ajax)):"data"in n?n.query=C(n.data):"tags"in n&&(n.query=S(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var o=[];e(a(t.val(),n.separator)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){return s(this.id,t.id)?(t=this,!1):void 0}),o.push(t)}),i(o)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var e,n,i=this.opts.element;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",e)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){t.forEach(e)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,o,r,s=this.dropdown,a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),d=e(window),h=d.width(),f=d.height(),p=d.scrollLeft()+h,m=d.scrollTop()+f,g=a.top+l,v=a.left,b=m>=g+u,y=a.top-u>=d.scrollTop(),w=s.outerWidth(!1),x=p>=v+w,C=s.hasClass("select2-drop-above");C?(n=!0,!y&&b&&(i=!0,n=!1)):(n=!1,!b&&y&&(i=!0,n=!0)),i&&(s.hide(),a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),p=d.scrollLeft()+h,m=d.scrollTop()+f,g=a.top+l,v=a.left,w=s.outerWidth(!1),x=p>=v+w,s.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(r=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),w=s.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:R.width),w>c?c=w:w=c,u=s.outerHeight(!1),x=p>=v+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),g-=t.top,v-=t.left),x||(v=a.left+this.container.outerWidth(!1)-w),o={left:v,width:c},n?(o.top=a.top-u,o.bottom="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(o.top=g,o.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),o=e.extend(o,T(this.opts.dropdownCss)),s.css(o)},shouldOpen:function(){var t;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var t,i=this.containerEventName,o="scroll."+i,r="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){n(t);var o,r=e("#select2-drop");r.length>0&&(o=r.data("select2"),o.opts.selectOnBlur&&o.selectHighlighted({noFocus:!0}),o.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+o+" "+s,function(){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,i="resize."+t,o="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(o)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,i,o,r,s,a,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[n]),o=i.offset().top+i.outerHeight(!0),n===t.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(o=a.offset().top+a.outerHeight(!0))),r=l.offset().top+l.outerHeight(!0),o>r&&l.scrollTop(l.scrollTop()+(o-r)),s=i.offset().top-l.offset().top,0>s&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var o=e(n[i]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,i,r=this.findHighlightableChoices();return 0===arguments.length?o(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),n=e(r[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,o=this,r=this.search.val(),s=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(e){o.opened()&&(o.opts.populateResults.call(this,t,e.results,{term:r,page:i,context:s}),o.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(T(o.opts.formatLoadMore,i+1)),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):n.remove(),o.positionDropdown(),o.resultsPage=i,o.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),h.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.liveRegion.text(u.text()):h.liveRegion.text(h.opts.formatMatches(u.find(".select2-result-selectable").length))}function o(e){u.html(e),i()}var r,a,l,c=this.search,u=this.results,d=this.opts,h=this,f=c.val(),p=e.data(this.container,"select2-last-term");if((n===!0||!p||!s(f,p))&&(e.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(r=this.data(),e.isArray(r)&&r.length>=m&&E(d.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+T(d.formatSelectionTooBig,m)+"</li>");if(c.val().length<d.minimumInputLength)return o(E(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+T(d.formatInputTooShort,c.val(),d.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return void o(E(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+T(d.formatInputTooLong,c.val(),d.maximumInputLength)+"</li>":"");d.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+T(d.formatSearching)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&null!=a&&c.val(a),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(r){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(h,c.val(),r.results),a!==t&&null!==a&&h.id(a)!==t&&null!==h.id(a)&&0===e(r.results).filter(function(){return s(h.id(this),h.id(a))}).length&&this.opts.createSearchChoicePosition(r.results,a)),0===r.results.length&&E(d.formatNoMatches,"formatNoMatches"))return void o("<li class='select2-no-results'>"+T(d.formatNoMatches,c.val())+"</li>");u.empty(),h.opts.populateResults.call(this,u,r.results,{term:c.val(),page:this.resultsPage,context:null}),r.more===!0&&E(d.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(T(d.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(r,n),i(),this.opts.element.trigger({type:"select2-loaded",items:r})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,i,o,r,s,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),r=0,s=i.length;s>r;r+=1)if(a=i[r].replace(/\s/g,""),o=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),
null!==o&&o.length>=1)return o[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),F=N(M,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,o;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(o=this.search.val().length,n.setSelectionRange(o,o))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),A.call(this,"selection","focusser")},initContainer:function(){var t,i,o=this.container,r=this.dropdown,s=$();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=o.find(".select2-choice"),this.focusser=o.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),i=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===_.PAGE_UP||e.which===_.PAGE_DOWN)return void m(e);switch(e.which){case _.UP:case _.DOWN:return this.moveHighlight(e.which===_.UP?-1:1),void m(e);case _.ENTER:return this.selectHighlighted(),void m(e);case _.TAB:return void this.selectHighlighted({noFocus:!0});case _.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==_.TAB&&!_.isControl(e)&&!_.isFunctionKey(e)&&e.which!==_.ESC){if(this.opts.openOnEnter===!1&&e.which===_.ENTER)return void m(e);if(e.which==_.DOWN||e.which==_.UP||e.which==_.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==_.DELETE||e.which==_.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(i){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(i)})),r.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var o=this.getPlaceholderOption();this.opts.element.val(o?o.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=n.val(),r=null;t.query({matcher:function(e,n,i){var a=s(o,t.id(i));return a&&(r=i),a},callback:e.isFunction(i)?function(){i(r)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){return s(o.id(t.data("select2-data")),o.opts.element.val())?(i=e,!1):void 0}),n!==!1&&(t===!0&&i>=0?this.highlight(i):this.highlight(0)),t===!0){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(k(e.results)>=r)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),s(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,o=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),o.empty(),null!==e&&(n=this.opts.formatSelection(e,o,this.opts.escapeMarkup)),n!==t&&o.append(n),i=this.opts.formatSelectionCssClass(e,o),i!==t&&o.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,o=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=o.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:r});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){o.opts.element.val(e?o.id(e):""),o.updateSelection(e),o.setPlaceholder(),n&&o.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)))}}),O=N(M,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=a(n.val(),t.separator),r=[];t.query({matcher:function(n,i,a){var l=e.grep(o,function(e){return s(e,t.id(a))}).length;return l&&r.push(a),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<o.length;n++)for(var a=o[n],l=0;l<r.length;l++){var c=r[l];if(s(a,t.id(c))){e.push(c),r.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),A.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+$()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),o=n.next(".select2-search-choice:not(.select2-locked)"),r=p(this.search);if(n.length&&(e.which==_.LEFT||e.which==_.RIGHT||e.which==_.BACKSPACE||e.which==_.DELETE||e.which==_.ENTER)){var s=n;return e.which==_.LEFT&&i.length?s=i:e.which==_.RIGHT?s=o.length?o:null:e.which===_.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),s=i.length?i:o):e.which==_.DELETE?this.unselect(n.first())&&(this.search.width(10),s=o.length?o:null):e.which==_.ENTER&&(s=null),this.selectChoice(s),m(e),void(s&&s.length||this.open())}if((e.which===_.BACKSPACE&&1==this.keydowns||e.which==_.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case _.UP:case _.DOWN:return this.moveHighlight(e.which===_.UP?-1:1),void m(e);case _.ENTER:return this.selectHighlighted(),void m(e);case _.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case _.ESC:return this.cancel(e),void m(e)}if(e.which!==_.TAB&&!_.isControl(e)&&!_.isFunctionKey(e)&&e.which!==_.BACKSPACE&&e.which!==_.ESC){if(e.which===_.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===_.PAGE_UP||e.which===_.PAGE_DOWN)&&m(e),e.which===_.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],r=this;e(t).each(function(){o(r.id(this),n)<0&&(n.push(r.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,o,r=!n.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?s:a,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=t&&l.find("div").replaceWith("<div>"+i+"</div>"),o=this.opts.formatSelectionCssClass(n,l.find("div")),o!=t&&l.addClass(o),r&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,i,r=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var s=e.Event("select2-removing");if(s.val=this.id(n),s.choice=n,this.opts.element.trigger(s),s.isDefaultPrevented())return!1;for(;(i=o(this.id(n),r))>=0;)r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var i=this.getVal(),r=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;r.each2(function(e,t){var n=a.id(t.data("select2-data"));o(n,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&E(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+T(a.opts.formatNoMatches,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,n,i,o,r=l(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,o=n-(t-i)-r,e>o&&(o=n-r),40>o&&(o=n-r),0>=o&&(o=e),this.search.width(Math.floor(o))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){o(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)s(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var o,r=this;if(0===arguments.length)return this.getVal();if(o=this.data(),o.length||(o=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:o}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,r.id);r.setVal(n),r.updateSelection(t),r.clearSearch(),i&&r.triggerChange(r.buildChangeDetails(o,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,o,r=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(o=this.data(),t||(t=[]),i=e.map(t,function(e){return r.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),void(n&&this.triggerChange(this.buildChangeDetails(o,this.data()))))}}),e.fn.select2=function(){var n,i,r,s,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),i=a?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(o(l[0],c)<0)throw"Unknown method: "+l[0];if(s=t,i=e(this).data("select2"),i===t)return;if(r=l[0],"container"===r?s=i.container:"dropdown"===r?s=i.dropdown:(h[r]&&(r=h[r]),s=i[r].apply(i,l.slice(1))),o(l[0],u)>=0||o(l[0],d)>=0&&1==l.length)return!1}}),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var o=[];return y(e.text,n.term,o,i),o.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},formatMatches:function(e){return e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more resultsâ¦"},formatSearching:function(){return"Searchingâ¦"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:D,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return!t||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:x,local:C,tags:S},util:{debounce:d,markMatch:y,escapeMarkup:w,stripDiacritics:i},"class":{"abstract":M,single:F,multi:O}}}}(jQuery),function(e,t,n,i){function o(n,i){this.w=e(t),this.el=e(n),this.options=e.extend({},u,i),this.init()}var r="ontouchstart"in t,s=function(){var e=n.createElement("div"),i=n.documentElement;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",i.appendChild(e);var o=t.getComputedStyle&&"auto"===t.getComputedStyle(e,"").pointerEvents;return i.removeChild(e),!!o}(),a=r?"touchstart":"mousedown",l=r?"touchmove":"mousemove",c=r?"touchend":"mouseup";eCancel=r?"touchcancel":"mouseup";var u={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};o.prototype={init:function(){var n=this;n.reset(),n.el.data("nestable-group",this.options.group),n.placeEl=e('<div class="'+n.options.placeClass+'"/>'),e.each(this.el.find(n.options.itemNodeName),function(t,i){n.setParent(e(i))}),n.el.on("click","button",function(t){if(!n.dragEl&&(r||0===t.button)){var i=e(t.currentTarget),o=i.data("action"),s=i.parent(n.options.itemNodeName);"collapse"===o&&n.collapseItem(s),"expand"===o&&n.expandItem(s)}});var i=function(t){var i=e(t.target);if(!i.hasClass(n.options.handleClass)){if(i.closest("."+n.options.noDragClass).length)return;i=i.closest("."+n.options.handleClass)}!i.length||n.dragEl||!r&&0!==t.button||r&&1!==t.touches.length||(t.preventDefault(),n.dragStart(r?t.touches[0]:t))},o=function(e){n.dragEl&&(e.preventDefault(),n.dragMove(r?e.touches[0]:e))},s=function(e){n.dragEl&&(e.preventDefault(),n.dragStop(r?e.touches[0]:e))};r?(n.el[0].addEventListener(a,i,!1),t.addEventListener(l,o,!1),t.addEventListener(c,s,!1),t.addEventListener(eCancel,s,!1)):(n.el.on(a,i),n.w.on(l,o),n.w.on(c,s))},serialize:function(){var t,n=0,i=this;return step=function(t,n){var o=[],r=t.children(i.options.itemNodeName);return r.each(function(){var t=e(this),r=e.extend({},t.data()),s=t.children(i.options.listNodeName);s.length&&(r.children=step(s,n+1)),o.push(r)}),o},t=step(i.el.find(i.options.listNodeName).first(),n)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(e){e.removeClass(this.options.collapsedClass),e.children('[data-action="expand"]').hide(),e.children('[data-action="collapse"]').show(),e.children(this.options.listNodeName).show()},collapseItem:function(e){var t=e.children(this.options.listNodeName);t.length&&(e.addClass(this.options.collapsedClass),e.children('[data-action="collapse"]').hide(),e.children('[data-action="expand"]').show(),e.children(this.options.listNodeName).hide())},expandAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.expandItem(e(this))})},collapseAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.collapseItem(e(this))})},setParent:function(t){t.children(this.options.listNodeName).length&&(t.prepend(e(this.options.expandBtnHTML)),t.prepend(e(this.options.collapseBtnHTML))),t.children('[data-action="expand"]').hide()},unsetParent:function(e){e.removeClass(this.options.collapsedClass),e.children("[data-action]").remove(),e.children(this.options.listNodeName).remove()},dragStart:function(t){var o=this.mouse,r=e(t.target),s=r.closest(this.options.itemNodeName);this.placeEl.css("height",s.height()),o.offsetX=t.offsetX!==i?t.offsetX:t.pageX-r.offset().left,o.offsetY=t.offsetY!==i?t.offsetY:t.pageY-r.offset().top,o.startX=o.lastX=t.pageX,o.startY=o.lastY=t.pageY,this.dragRootEl=this.el,this.dragEl=e(n.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",s.width()),s.after(this.placeEl),s[0].parentNode.removeChild(s[0]),s.appendTo(this.dragEl),e(n.body).append(this.dragEl),this.dragEl.css({left:t.pageX-o.offsetX,top:t.pageY-o.offsetY});var a,l,c=this.dragEl.find(this.options.itemNodeName);for(a=0;a<c.length;a++)l=e(c[a]).parents(this.options.listNodeName).length,l>this.dragDepth&&(this.dragDepth=l)},dragStop:function(e){var t=this.dragEl.children(this.options.itemNodeName).first();t[0].parentNode.removeChild(t[0]),this.placeEl.replaceWith(t),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(i){var o,r,a,l,c,u=this.options,d=this.mouse;this.dragEl.css({left:i.pageX-d.offsetX,top:i.pageY-d.offsetY}),d.lastX=d.nowX,d.lastY=d.nowY,d.nowX=i.pageX,d.nowY=i.pageY,d.distX=d.nowX-d.lastX,d.distY=d.nowY-d.lastY,d.lastDirX=d.dirX,d.lastDirY=d.dirY,d.dirX=0===d.distX?0:d.distX>0?1:-1,d.dirY=0===d.distY?0:d.distY>0?1:-1;var h=Math.abs(d.distX)>Math.abs(d.distY)?1:0;if(!d.moving)return d.dirAx=h,void(d.moving=!0);d.dirAx!==h?(d.distAxX=0,d.distAxY=0):(d.distAxX+=Math.abs(d.distX),0!==d.dirX&&d.dirX!==d.lastDirX&&(d.distAxX=0),d.distAxY+=Math.abs(d.distY),0!==d.dirY&&d.dirY!==d.lastDirY&&(d.distAxY=0)),d.dirAx=h,d.dirAx&&d.distAxX>=u.threshold&&(d.distAxX=0,a=this.placeEl.prev(u.itemNodeName),d.distX>0&&a.length&&!a.hasClass(u.collapsedClass)&&(o=a.find(u.listNodeName).last(),c=this.placeEl.parents(u.listNodeName).length,c+this.dragDepth<=u.maxDepth&&(o.length?(o=a.children(u.listNodeName).last(),o.append(this.placeEl)):(o=e("<"+u.listNodeName+"/>").addClass(u.listClass),o.append(this.placeEl),a.append(o),
this.setParent(a)))),d.distX<0&&(l=this.placeEl.next(u.itemNodeName),l.length||(r=this.placeEl.parent(),this.placeEl.closest(u.itemNodeName).after(this.placeEl),r.children().length||this.unsetParent(r.parent()))));var f=!1;if(s||(this.dragEl[0].style.visibility="hidden"),this.pointEl=e(n.elementFromPoint(i.pageX-n.body.scrollLeft,i.pageY-(t.pageYOffset||n.documentElement.scrollTop))),s||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(u.handleClass)&&(this.pointEl=this.pointEl.parent(u.itemNodeName)),this.pointEl.hasClass(u.emptyClass))f=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(u.itemClass))return;var p=this.pointEl.closest("."+u.rootClass),m=this.dragRootEl.data("nestable-id")!==p.data("nestable-id");if(!d.dirAx||m||f){if(m&&u.group!==p.data("nestable-group"))return;if(c=this.dragDepth-1+this.pointEl.parents(u.listNodeName).length,c>u.maxDepth)return;var g=i.pageY<this.pointEl.offset().top+this.pointEl.height()/2;r=this.placeEl.parent(),f?(o=e(n.createElement(u.listNodeName)).addClass(u.listClass),o.append(this.placeEl),this.pointEl.replaceWith(o)):g?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),r.children().length||this.unsetParent(r.parent()),this.dragRootEl.find(u.itemNodeName).length||this.dragRootEl.append('<div class="'+u.emptyClass+'"/>'),m&&(this.dragRootEl=p,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},e.fn.nestable=function(t){var n=this,i=this;return n.each(function(){var n=e(this).data("nestable");n?"string"==typeof t&&"function"==typeof n[t]&&(i=n[t]()):(e(this).data("nestable",new o(this,t)),e(this).data("nestable-id",(new Date).getTime()))}),i||n}}(window.jQuery||window.Zepto,window,document),function(){var e,t,n,i,o,r,s,a,l=[].slice,c={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,o,r;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(o=0,r=n.length;o<r;o++)t=n[o],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,o,r,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(i=this._callbacks[e],!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(o=r=0,s=i.length;r<s;o=++r)if(n=i[o],n===t){i.splice(o,1);break}return this},e}(),e=function(e){function n(e,t){var o,r,s;if(this.element=e,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,o=null!=(s=n.optionsForElement(this.element))?s:{},this.options=i({},this.defaultOptions,o,null!=t?t:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=n.getElements(this.options.clickable,"clickable")),this.init()}var i,o;return u(n,e),n.prototype.Emitter=t,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload your company logo",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return s},forceFallback:!1,fallback:function(){var e,t,i,o,r,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),o=0,r=s.length;o<r;o++)e=s[o],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),i=t.getElementsByTagName("span")[0],i&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,o,r,s,a,l,c,u,d,h,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=n.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=d.length;r<l;r++)t=d[r],t.textContent=e.name;for(h=e.previewElement.querySelectorAll("[data-dz-size]"),s=0,c=h.length;s<c;s++)t=h[s],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(t){return function(i){return i.preventDefault(),i.stopPropagation(),e.status===n.UPLOADING?n.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?n.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),f=e.previewElement.querySelectorAll("[data-dz-remove]"),p=[],a=0,u=f.length;a<u;a++)o=f[a],p.push(o.addEventListener("click",i));return p}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,o,r;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),r=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,o=r.length;i<o;i++)n=r[i],n.alt=e.name,n.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var n,i,o,r,s;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=e.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],i=0,o=r.length;i<o;i++)n=r[i],s.push(n.textContent=t);return s}},errormultiple:s,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:s,uploadprogress:function(e,t,n){var i,o,r,s,a;if(e.previewElement){for(s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],o=0,r=s.length;o<r;o++)i=s[o],"PROGRESS"===i.nodeName?a.push(i.value=t):a.push(i.style.width=""+t+"%");return a}},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:s,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,queuecomplete:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var e,t,n,i,o,r,s;for(i=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],r=0,s=n.length;r<s;r++){t=n[r];for(e in t)o=t[e],i[e]=o}return i},n.prototype.getAcceptedFiles=function(){var e,t,n,i,o;for(i=this.files,o=[],t=0,n=i.length;t<n;t++)e=i[t],e.accepted&&o.push(e);return o},n.prototype.getRejectedFiles=function(){var e,t,n,i,o;for(i=this.files,o=[],t=0,n=i.length;t<n;t++)e=i[t],e.accepted||o.push(e);return o},n.prototype.getFilesWithStatus=function(e){var t,n,i,o,r;for(o=this.files,r=[],n=0,i=o.length;n<i;n++)t=o[n],t.status===e&&r.push(t);return r},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getActiveFiles=function(){var e,t,i,o,r;for(o=this.files,r=[],t=0,i=o.length;t<i;t++)e=o[t],e.status!==n.UPLOADING&&e.status!==n.QUEUED||r.push(e);return r},n.prototype.init=function(){var e,t,i,o,r,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(e){return function(){return e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,o,r;if(n=e.hiddenFileInput.files,n.length)for(o=0,r=n.length;o<r;o++)t=n[o],e.addFile(t);return i()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,o=0,r=a.length;o<r;o++)e=a[o],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(o){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){if(t!==e.element||i.target===e.element||n.elementInside(i.target,e.element.querySelector(".dz-message")))return e.hiddenFileInput.click()}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var e,t,n,i,o,r,s,a;if(i=0,n=0,e=this.getActiveFiles(),e.length){for(a=this.getActiveFiles(),r=0,s=a.length;r<s;r++)t=a[r],i+=t.upload.bytesSent,n+=t.upload.total;o=100*i/n}else o=100;return this.emit("totaluploadprogress",o,n,i)},n.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},n.prototype.getFallbackForm=function(){var e,t,i,o;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=n.createElement(i),"FORM"!==this.element.tagName?(o=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),o.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:t)},n.prototype.getExistingFallback=function(){var e,t,n,i,o,r;for(t=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},r=["div","form"],i=0,o=r.length;i<o;i++)if(n=r[i],e=t(this.element.getElementsByTagName(n)))return e},n.prototype.setupEventListeners=function(){var e,t,n,i,o,r,s;for(r=this.listeners,s=[],i=0,o=r.length;i<o;i++)e=r[i],s.push(function(){var i,o;i=e.events,o=[];for(t in i)n=i[t],o.push(e.element.addEventListener(t,n,!1));return o}());return s},n.prototype.removeEventListeners=function(){var e,t,n,i,o,r,s;for(r=this.listeners,s=[],i=0,o=r.length;i<o;i++)e=r[i],s.push(function(){var i,o;i=e.events,o=[];for(t in i)n=i[t],o.push(e.element.removeEventListener(t,n,!1));return o}());return s},n.prototype.disable=function(){var e,t,n,i,o;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,o=[],t=0,n=i.length;t<n;t++)e=i[t],o.push(this.cancelUpload(e));return o},n.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(e){var t,n,i,o,r,s,a,l;for(s=["TB","GB","MB","KB","b"],i=o=null,n=a=0,l=s.length;a<l;n=++a)if(r=s[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){i=e/Math.pow(this.options.filesizeBase,4-n),o=r;break}return i=Math.round(10*i)/10,"<strong>"+i+"</strong> "+o},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},n.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},n.prototype.handleFiles=function(e){var t,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(this.addFile(t));return o},n.prototype._addFilesFromItems=function(e){var t,n,i,o,r;for(r=[],i=0,o=e.length;i<o;i++)n=e[i],null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?r.push(this.addFile(n.getAsFile())):t.isDirectory?r.push(this._addFilesFromDirectory(t,t.name)):r.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?r.push(this.addFile(n.getAsFile())):r.push(void 0);return r},n.prototype._addFilesFromDirectory=function(e,t){var n,i;return n=e.createReader(),i=function(e){return function(n){var i,o,r;for(o=0,r=n.length;o<r;o++)i=n[o],i.isFile?i.file(function(n){if(!e.options.ignoreHiddenFiles||"."!==n.name.substring(0,1))return n.fullPath=""+t+"/"+n.name,e.addFile(n)}):i.isDirectory&&e._addFilesFromDirectory(i,""+t+"/"+i.name)}}(this),n.readEntries(i,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},n.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},n.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)t=e[n],this.enqueueFile(t);return null},n.prototype.enqueueFile=function(e){if(e.status!==n.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)},n.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this))},n.prototype.removeFile=function(e){if(e.status===n.UPLOADING&&this.cancelUpload(e),this.files=a(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},n.prototype.removeAllFiles=function(e){var t,i,o,r;for(null==e&&(e=!1),r=this.files.slice(),i=0,o=r.length;i<o;i++)t=r[i],(t.status!==n.UPLOADING||e)&&this.removeFile(t);return null},n.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},n.prototype.createThumbnailFromUrl=function(e,t,n){var i;return i=document.createElement("img"),i.onload=function(t){return function(){var o,s,a,l,c,u,d,h;if(e.width=i.width,e.height=i.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),o=document.createElement("canvas"),s=o.getContext("2d"),o.width=a.trgWidth,o.height=a.trgHeight,r(s,i,null!=(c=a.srcX)?c:0,null!=(u=a.srcY)?u:0,a.srcWidth,a.srcHeight,null!=(d=a.trgX)?d:0,null!=(h=a.trgY)?h:0,a.trgWidth,a.trgHeight),l=o.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=n)return n()}}(this),null!=n&&(i.onerror=n),i.src=t},n.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;e<t;){if(!i.length)return;this.processFile(i.shift()),e++}}},n.prototype.processFile=function(e){return this.processFiles([e])},n.prototype.processFiles=function(e){var t,i,o;for(i=0,o=e.length;i<o;i++)t=e[i],t.processing=!0,t.status=n.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},n.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,i,o,r;for(o=this.files,r=[],n=0,i=o.length;n<i;n++)t=o[n],t.xhr===e&&r.push(t);return r}.call(this)},n.prototype.cancelUpload=function(e){var t,i,o,r,s,a,l;if(e.status===n.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),o=0,s=i.length;o<s;o++)t=i[o],t.status=n.CANCELED;for(e.xhr.abort(),r=0,a=i.length;r<a;r++)t=i[r],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==n.ADDED&&l!==n.QUEUED||(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},o=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},n.prototype.uploadFile=function(e){return this.uploadFiles([e])},n.prototype.uploadFiles=function(e){var t,r,s,a,l,c,u,d,h,f,p,m,g,v,b,y,w,x,C,S,E,T,k,D,A,N,_,M,F,O,$,I,L,R;for(C=new XMLHttpRequest,S=0,D=e.length;S<D;S++)t=e[S],t.xhr=C;m=o(this.options.method,e),w=o(this.options.url,e),C.open(m,w,!0),C.withCredentials=!!this.options.withCredentials,b=null,s=function(n){return function(){var i,o,r;for(r=[],i=0,o=e.length;i<o;i++)t=e[i],r.push(n._errorProcessing(e,b||n.options.dictResponseError.replace("{{statusCode}}",C.status),C));return r}}(this),y=function(n){return function(i){var o,r,s,a,l,c,u,d,h;if(null!=i)for(r=100*i.loaded/i.total,s=0,c=e.length;s<c;s++)t=e[s],t.upload={progress:r,total:i.total,bytesSent:i.loaded};else{for(o=!0,r=100,a=0,u=e.length;a<u;a++)t=e[a],100===t.upload.progress&&t.upload.bytesSent===t.upload.total||(o=!1),t.upload.progress=r,t.upload.bytesSent=t.upload.total;if(o)return}for(h=[],l=0,d=e.length;l<d;l++)t=e[l],h.push(n.emit("uploadprogress",t,r,t.upload.bytesSent));return h}}(this),C.onload=function(t){return function(i){var o;if(e[0].status!==n.CANCELED&&4===C.readyState){if(b=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(r){i=r,b="Invalid JSON response from server."}return y(),200<=(o=C.status)&&o<300?t._finished(e,b,i):s()}}}(this),C.onerror=function(t){return function(){if(e[0].status!==n.CANCELED)return s()}}(this),v=null!=(F=C.upload)?F:C,v.onprogress=y,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(c,this.options.headers);for(a in c)l=c[a],C.setRequestHeader(a,l);if(r=new FormData,this.options.params){O=this.options.params;for(p in O)x=O[p],r.append(p,x)}for(E=0,A=e.length;E<A;E++)t=e[E],this.emit("sending",t,C,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,C,r),"FORM"===this.element.tagName)for($=this.element.querySelectorAll("input, textarea, select, button"),T=0,N=$.length;T<N;T++)if(d=$[T],h=d.getAttribute("name"),f=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(I=d.options,k=0,_=I.length;k<_;k++)g=I[k],g.selected&&r.append(h,g.value);else(!f||"checkbox"!==(L=f.toLowerCase())&&"radio"!==L||d.checked)&&r.append(h,d.value);for(u=M=0,R=e.length-1;0<=R?M<=R:M>=R;u=0<=R?++M:--M)r.append(this._getParamName(u),e[u],e[u].name);return C.send(r)},n.prototype._finished=function(e,t,i){var o,r,s;for(r=0,s=e.length;r<s;r++)o=e[r],o.status=n.SUCCESS,this.emit("success",o,t,i),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},n.prototype._errorProcessing=function(e,t,i){var o,r,s;for(r=0,s=e.length;r<s;r++)o=e[r],o.status=n.ERROR,this.emit("error",o,t,i),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},n}(t),e.version="4.0.1",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[n(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,n,i,o,r,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?r.push(i.push(t)):r.push(void 0);return r},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),s=[],o=0,r=i.length;o<r;o++)n=i[o],e.optionsForElement(n)!==!1?s.push(new e(n)):s.push(void 0);return s},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,o,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=e.blacklistedBrowsers,i=0,o=r.length;i<o;i++)n=r[i],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},a=function(e,t){var n,i,o,r;for(r=[],i=0,o=e.length;i<o;i++)n=e[i],n!==t&&r.push(n);return r},n=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),
null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(e,t){var n,i,o,r,s,a,l,c;if(e instanceof Array){o=[];try{for(r=0,a=e.length;r<a;r++)i=e[r],o.push(this.getElement(i,t))}catch(u){n=u,o=null}}else if("string"==typeof e)for(o=[],c=document.querySelectorAll(e),s=0,l=c.length;s<l;s++)i=c[s],o.push(i);else null!=e.nodeType&&(o=[e]);if(null==o||!o.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return o},e.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},e.isValidFile=function(e,t){var n,i,o,r,s;if(!t)return!0;for(t=t.split(","),i=e.type,n=i.replace(/\/.*$/,""),r=0,s=t.length;r<s;r++)if(o=t[r],o=o.trim(),"."===o.charAt(0)){if(e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length)!==-1)return!0}else if(/\/\*$/.test(o)){if(n===o.replace(/\/.*$/,""))return!0}else if(i===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",o=function(e){var t,n,i,o,r,s,a,l,c,u;for(a=e.naturalWidth,s=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=s,i=n.getContext("2d"),i.drawImage(e,0,0),o=i.getImageData(0,0,1,s).data,u=0,r=s,l=s;l>u;)t=o[4*(l-1)+3],0===t?r=l:u=l,l=r+u>>1;return c=l/s,0===c?1:c},r=function(e,t,n,i,r,s,a,l,c,u){var d;return d=o(t),e.drawImage(t,n,i,r,s,a,l,c,u/d)},i=function(e,t){var n,i,o,r,s,a,l,c,u;if(o=!1,u=!0,i=e.document,c=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",r=function(n){if("readystatechange"!==n.type||"complete"===i.readyState)return("load"===n.type?e:i)[l](a+n.type,r,!1),!o&&(o=!0)?t.call(e,n.type||n):void 0},s=function(){var e;try{c.doScroll("left")}catch(t){return e=t,void setTimeout(s,50)}return r("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(d){}u&&s()}return i[n](a+"DOMContentLoaded",r,!1),i[n](a+"readystatechange",r,!1),e[n](a+"load",r,!1)}},e._autoDiscoverFunction=function(){if(e.autoDiscover)return e.discover()},i(window,e._autoDiscoverFunction)}.call(this),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.editableform.defaults,n),this.$div=e(t),this.options.scope||(this.options.scope=this)};t.prototype={constructor:t,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=e(e.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(e.fn.editableform.buttons),"bottom"===this.options.showbuttons&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=e(e.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),e.when(this.input.render()).then(e.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(e.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(e){e.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var t=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(t),this.$form.submit(e.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var e,t;this.$form?(e=this.$form.outerWidth(),t=this.$form.outerHeight(),e&&this.$loading.width(e),t&&this.$loading.height(t),this.$form.hide()):(e=this.$loading.parent().width(),e&&this.$loading.width(e)),this.$loading.show()},showForm:function(e){this.$loading.hide(),this.$form.show(),e!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(t){var n,i=this.$form.find(".control-group"),o=this.$form.find(".editable-error-block");if(t===!1)i.removeClass(e.fn.editableform.errorGroupClass),o.removeClass(e.fn.editableform.errorBlockClass).empty().hide();else{if(t){n=(""+t).split("\n");for(var r=0;r<n.length;r++)n[r]=e("<div>").text(n[r]).html();t=n.join("<br>")}i.addClass(e.fn.editableform.errorGroupClass),o.addClass(e.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation(),t.preventDefault();var n=this.input.input2value(),i=this.validate(n);if("object"===e.type(i)&&void 0!==i.newValue){if(n=i.newValue,this.input.value2input(n),"string"==typeof i.msg)return this.error(i.msg),void this.showForm()}else if(i)return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(n)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var o=this.input.value2submit(n);this.isSaving=!0,e.when(this.save(o)).done(e.proxy(function(e){this.isSaving=!1;var t="function"==typeof this.options.success?this.options.success.call(this.options.scope,e,n):null;return t===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof t?(this.error(t),void this.showForm()):(t&&"object"==typeof t&&t.hasOwnProperty("newValue")&&(n=t.newValue),this.error(!1),this.value=n,void this.$div.triggerHandler("save",{newValue:n,submitValue:o,response:e}))},this)).fail(e.proxy(function(e){this.isSaving=!1;var t;t="function"==typeof this.options.error?this.options.error.call(this.options.scope,e,n):"string"==typeof e?e:e.responseText||e.statusText||"Unknown error!",this.error(t),this.showForm()},this))},save:function(t){this.options.pk=e.fn.editableutils.tryParseJson(this.options.pk,!0);var n,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,o=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==i&&void 0!==i));return o?(this.showLoading(),n={name:this.options.name||"",value:t,pk:i},"function"==typeof this.options.params?n=this.options.params.call(this.options.scope,n):(this.options.params=e.fn.editableutils.tryParseJson(this.options.params,!0),e.extend(n,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,n):e.ajax(e.extend({url:this.options.url,data:n,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(e){return void 0===e&&(e=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,e):void 0},option:function(e,t){e in this.options&&(this.options[e]=t),"value"===e&&this.setValue(t)},setValue:function(e,t){this.value=t?this.input.str2value(e):e,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},e.fn.editableform=function(n){var i=arguments;return this.each(function(){var o=e(this),r=o.data("editableform"),s="object"==typeof n&&n;r||o.data("editableform",r=new t(this,s)),"string"==typeof n&&r[n].apply(r,Array.prototype.slice.call(i,1))})},e.fn.editableform.Constructor=t,e.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},e.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',e.fn.editableform.loading='<div class="editableform-loading"></div>',e.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',e.fn.editableform.errorGroupClass=null,e.fn.editableform.errorBlockClass="editable-error",e.fn.editableform.engine="jquery"}(window.jQuery),function(e){"use strict";e.fn.editableutils={inherit:function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype},setCursorPosition:function(e,t){if(e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},tryParseJson:function(e,t){if("string"==typeof e&&e.length&&e.match(/^[\{\[].*[\}\]]$/))if(t)try{e=new Function("return "+e)()}catch(n){}finally{return e}else e=new Function("return "+e)();return e},sliceObj:function(t,n,i){var o,r,s={};if(!e.isArray(n)||!n.length)return s;for(var a=0;a<n.length;a++)o=n[a],t.hasOwnProperty(o)&&(s[o]=t[o]),i!==!0&&(r=o.toLowerCase(),t.hasOwnProperty(r)&&(s[o]=t[r]));return s},getConfigData:function(t){var n={};return e.each(t.data(),function(e,t){("object"!=typeof t||t&&"object"==typeof t&&(t.constructor===Object||t.constructor===Array))&&(n[e]=t)}),n},objectKeys:function(e){if(Object.keys)return Object.keys(e);if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},escape:function(t){return e("<div>").text(t).html()},itemsByValue:function(t,n,i){if(!n||null===t)return[];if("function"!=typeof i){var o=i||"value";i=function(e){return e[o]}}var r=e.isArray(t),s=[],a=this;return e.each(n,function(n,o){if(o.children)s=s.concat(a.itemsByValue(t,o.children,i));else if(r)e.grep(t,function(e){return e==(o&&"object"==typeof o?i(o):o)}).length&&s.push(o);else{var l=o&&"object"==typeof o?i(o):o;t==l&&s.push(o)}}),s},createInput:function(t){var n,i,o,r=t.type;return"date"===r&&("inline"===t.mode?e.fn.editabletypes.datefield?r="datefield":e.fn.editabletypes.dateuifield&&(r="dateuifield"):e.fn.editabletypes.date?r="date":e.fn.editabletypes.dateui&&(r="dateui"),"date"!==r||e.fn.editabletypes.date||(r="combodate")),"datetime"===r&&"inline"===t.mode&&(r="datetimefield"),"wysihtml5"!==r||e.fn.editabletypes[r]||(r="textarea"),"function"==typeof e.fn.editabletypes[r]?(n=e.fn.editabletypes[r],i=this.sliceObj(t,this.objectKeys(n.defaults)),o=new n(i)):(e.error("Unknown type: "+r),!1)},supportsTransitions:function(){var e=document.body||document.documentElement,t=e.style,n="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var o=0;o<i.length;o++)if("string"==typeof t[i[o]+n])return!0;return!1}}}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init(e,t)},n=function(e,t){this.init(e,t)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(n,i){this.$element=e(n),this.options=e.extend({},e.fn.editableContainer.defaults,i),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",e.proxy(function(){this.destroy()},this)),e(document).data("editable-handlers-attached")||(e(document).on("keyup.editable",function(t){27===t.which&&e(".editable-open").editableContainer("hide")}),e(document).on("click.editable",function(n){var i,o=e(n.target),r=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(e.contains(document.documentElement,n.target)&&!o.is(document)){for(i=0;i<r.length;i++)if(o.is(r[i])||o.parents(r[i]).length)return;t.prototype.closeOthers(n.target)}}),e(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!e.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var e;return this.containerDataName&&(e=this.$element.data(this.containerDataName))?e:e=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:e.proxy(this.save,this),nochange:e.proxy(function(){this.hide("nochange")},this),cancel:e.proxy(function(){this.hide("cancel")},this),show:e.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:e.proxy(this.setPosition,this),resize:e.proxy(this.setPosition,this),rendered:e.proxy(function(){this.$element.triggerHandler("shown",e(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open"),t!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=e("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(e){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:e});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",e||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(e){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(e)},setPosition:function(){},save:function(e,t){this.$element.triggerHandler("save",t),this.hide("save")},option:function(e,t){this.options[e]=t,e in this.containerOptions?(this.containerOptions[e]=t,this.setContainerOption(e,t)):(this.formOptions[e]=t,this.$form&&this.$form.editableform("option",e,t))},setContainerOption:function(e,t){this.call("option",e,t)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){e(".editable-open").each(function(n,i){if(i!==t&&!e(i).find(t).length){var o=e(i),r=o.data("editableContainer");r&&("cancel"===r.options.onblur?o.data("editableContainer").hide("onblur"):"submit"===r.options.onblur&&o.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},e.fn.editableContainer=function(i){var o=arguments;return this.each(function(){var r=e(this),s="editableContainer",a=r.data(s),l="object"==typeof i&&i,c="inline"===l.mode?n:t;a||r.data(s,a=new c(this,l)),"string"==typeof i&&a[i].apply(a,Array.prototype.slice.call(o,1))})},e.fn.editableContainer.Popup=t,e.fn.editableContainer.Inline=n,e.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}}(window.jQuery),function(e){"use strict";e.extend(e.fn.editableContainer.Inline.prototype,e.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=e("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,e.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.editable.defaults,n,e.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!e.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};t.prototype={constructor:t,init:function(){var t,n=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=e.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(e.trim(this.$element.html())),n=!0):(this.options.value=e.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",e.proxy(function(e){if(this.options.disabled||e.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var t="click"!==this.options.toggle;this.toggle(t)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":t=!0;break;case"auto":t=!e.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!n;break;default:t=!1}e.when(!t||this.render()).then(e.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",t,e.proxy(function(t){var n=e(t.target);n.data("editable")||(n.hasClass(this.options.emptyclass)&&n.empty(),n.editable(this.options).trigger(t))},this))},render:function(e){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,e):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,e):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,n){return t&&"object"==typeof t?void e.each(t,e.proxy(function(t,n){this.option(e.trim(t),n)},this)):(this.options[t]=n,"disabled"===t?n?this.disable():this.enable():("value"===t&&this.setValue(n),this.container&&this.container.option(t,n),void(this.input.option&&this.input.option(t,n))))},handleEmpty:function(t){this.options.display!==!1&&(this.isEmpty=void 0!==t?t:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===e.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var n=e.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(n),this.$element.on("save.internal",e.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(e){this.container&&this.container.tip().is(":visible")?this.hide():this.show(e)},save:function(e,t){if(this.options.unsavedclass){var n=!1;n=n||"function"==typeof this.options.url,n=n||this.options.display===!1,n=n||void 0!==t.response,n=n||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(t.newValue),n?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var i=this.$element,o=i.css("background-color");i.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===o&&(o=""),i.css("background-color",o),i.addClass("editable-bg-transition"),setTimeout(function(){i.removeClass("editable-bg-transition")},1700)},10)}this.setValue(t.newValue,!1,t.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(t,n,i){this.value=n?this.input.str2value(t):t,this.container&&this.container.option("value",this.value),e.when(this.render(i)).then(e.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},e.fn.editable=function(n){var i={},o=arguments,r="editable";switch(n){case"validate":return this.each(function(){var t,n=e(this),o=n.data(r);o&&(t=o.validate())&&(i[o.options.name]=t)}),i;case"getValue":return 2===arguments.length&&arguments[1]===!0?i=this.eq(0).data(r).value:this.each(function(){var t=e(this),n=t.data(r);n&&void 0!==n.value&&null!==n.value&&(i[n.options.name]=n.input.value2submit(n.value))}),i;case"submit":var s=arguments[1]||{},a=this,l=this.editable("validate");if(e.isEmptyObject(l)){var c={};if(1===a.length){var u=a.data("editable"),d={name:u.options.name||"",value:u.input.value2submit(u.value),pk:"function"==typeof u.options.pk?u.options.pk.call(u.options.scope):u.options.pk};"function"==typeof u.options.params?d=u.options.params.call(u.options.scope,d):(u.options.params=e.fn.editableutils.tryParseJson(u.options.params,!0),e.extend(d,u.options.params)),c={url:u.options.url,data:d,type:"POST"},s.success=s.success||u.options.success,s.error=s.error||u.options.error}else{var h=this.editable("getValue");c={url:s.url,data:h,type:"POST"}}c.success="function"==typeof s.success?function(e){s.success.call(a,e,s)}:e.noop,c.error="function"==typeof s.error?function(){s.error.apply(a,arguments)}:e.noop,s.ajaxOptions&&e.extend(c,s.ajaxOptions),s.data&&e.extend(c.data,s.data),e.ajax(c)}else"function"==typeof s.error&&s.error.call(a,l);return this}return this.each(function(){var i=e(this),s=i.data(r),a="object"==typeof n&&n;return a&&a.selector?void(s=new t(this,a)):(s||i.data(r,s=new t(this,a)),void("string"==typeof n&&s[n].apply(s,Array.prototype.slice.call(o,1))))})},e.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(e){"use strict";e.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,n,i){this.type=t,this.options=e.extend({},i,n)},prerender:function(){this.$tpl=e(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(t,n){e(n)[this.options.escape?"text":"html"](e.trim(t))},html2value:function(t){return e("<div>").html(t).text()},value2str:function(e){return e},str2value:function(e){return e},value2submit:function(e){return e},value2input:function(e){this.$input.val(e)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return e("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(e){void 0!==this.options[e]&&null!==this.options[e]&&this.$input.attr(e,this.options[e])},option:function(e,t){this.options[e]=t}},t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},e.extend(e.fn.editabletypes,{abstractinput:t})}(window.jQuery),function(e){"use strict";var t=function(){};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){var t=e.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),t.resolve()},function(){this.error=this.options.sourceError,t.resolve()}),t.promise()},html2value:function(){return null},value2html:function(t,n,i,o){var r=e.Deferred(),s=function(){"function"==typeof i?i.call(n,t,this.sourceData,o):this.value2htmlFinal(t,n),r.resolve()};return null===t?s.call(this):this.onSourceReady(s,function(){r.resolve()}),r.promise()},onSourceReady:function(t,n){var i;if(e.isFunction(this.options.source)?(i=this.options.source.call(this.options.scope),this.sourceData=null):i=this.options.source,this.options.sourceCache&&e.isArray(this.sourceData))return void t.call(this);try{i=e.fn.editableutils.tryParseJson(i,!1)}catch(o){return void n.call(this)}if("string"==typeof i){if(this.options.sourceCache){var r,s=i;if(e(document).data(s)||e(document).data(s,{}),r=e(document).data(s),r.loading===!1&&r.sourceData)return this.sourceData=r.sourceData,this.doPrepend(),void t.call(this);if(r.loading===!0)return r.callbacks.push(e.proxy(function(){this.sourceData=r.sourceData,this.doPrepend(),t.call(this)},this)),void r.err_callbacks.push(e.proxy(n,this));r.loading=!0,r.callbacks=[],r.err_callbacks=[]}var a=e.extend({url:i,type:"get",cache:!1,dataType:"json",success:e.proxy(function(i){r&&(r.loading=!1),this.sourceData=this.makeArray(i),e.isArray(this.sourceData)?(r&&(r.sourceData=this.sourceData,e.each(r.callbacks,function(){this.call()})),this.doPrepend(),t.call(this)):(n.call(this),r&&e.each(r.err_callbacks,function(){this.call()}))},this),error:e.proxy(function(){n.call(this),r&&(r.loading=!1,e.each(r.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);e.ajax(a)}else this.sourceData=this.makeArray(i),e.isArray(this.sourceData)?(this.doPrepend(),t.call(this)):n.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(e.isArray(this.prependData)||(e.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=e.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),e.isArray(this.prependData)&&e.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(t){var n,i,o,r,s=[];if(!t||"string"==typeof t)return null;if(e.isArray(t)){r=function(e,t){return i={value:e,text:t},!(n++>=2)&&void 0};for(var a=0;a<t.length;a++)o=t[a],"object"==typeof o?(n=0,e.each(o,r),1===n?s.push(i):n>1&&(o.children&&(o.children=this.makeArray(o.children)),s.push(o))):s.push({value:o,text:o})}else e.each(t,function(e,t){s.push({value:e,text:t})});return s},option:function(e,t){this.options[e]=t,"source"===e&&(this.sourceData=null),"prepend"===e&&(this.prependData=null)}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),e.fn.editabletypes.list=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("text",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),e.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=e('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(e.proxy(function(t){if(!~e.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var n=this;this.t=setTimeout(function(){n.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click(e.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var e=this.$input.val().length,t=this.$clear.is(":visible");e&&!t&&this.$clear.show(),!e&&t&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),e.fn.editabletypes.text=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("textarea",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(t){t.ctrlKey&&13===t.which&&e(this).closest("form").submit()})},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),e.fn.editabletypes.textarea=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("select",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list),e.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(n,i){var o;if(e.isArray(i))for(var r=0;r<i.length;r++)o={},i[r].children?(o.label=i[r].text,n.append(t(e("<optgroup>",o),i[r].children))):(o.value=i[r].value,i[r].disabled&&(o.disabled=!0),n.append(e("<option>",o).text(i[r].text)));return n};t(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(t){13===t.which&&e(this).closest("form").submit()})},value2htmlFinal:function(t,n){var i="",o=e.fn.editableutils.itemsByValue(t,this.sourceData);o.length&&(i=o[0].text),e.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,n)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){e(this).closest("form").submit()})}}),t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),e.fn.editabletypes.select=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("checklist",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list),e.extend(t.prototype,{renderList:function(){var t;if(this.$tpl.empty(),e.isArray(this.sourceData)){for(var n=0;n<this.sourceData.length;n++)t=e("<label>").append(e("<input>",{type:"checkbox",value:this.sourceData[n].value})).append(e("<span>").text(" "+this.sourceData[n].text)),e("<div>").append(t).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(t){return e.isArray(t)?t.sort().join(e.trim(this.options.separator)):""},str2value:function(t){var n,i=null;return"string"==typeof t&&t.length?(n=new RegExp("\\s*"+e.trim(this.options.separator)+"\\s*"),i=t.split(n)):i=e.isArray(t)?t:[t],i},value2input:function(t){this.$input.prop("checked",!1),
e.isArray(t)&&t.length&&this.$input.each(function(n,i){var o=e(i);e.each(t,function(e,t){o.val()==t&&o.prop("checked",!0)})})},input2value:function(){var t=[];return this.$input.filter(":checked").each(function(n,i){t.push(e(i).val())}),t},value2htmlFinal:function(t,n){var i=[],o=e.fn.editableutils.itemsByValue(t,this.sourceData),r=this.options.escape;o.length?(e.each(o,function(t,n){var o=r?e.fn.editableutils.escape(n.text):n.text;i.push(o)}),e(n).html(i.join("<br>"))):e(n).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){13===t.which&&e(this).closest("form").submit()})}}),t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),e.fn.editabletypes.checklist=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("password",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),e.extend(t.prototype,{value2html:function(t,n){t?e(n).text("[hidden]"):e(n).empty()},html2value:function(){return null}}),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),e.fn.editabletypes.password=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("email",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),e.fn.editabletypes.email=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("url",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),e.fn.editabletypes.url=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("tel",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),e.fn.editabletypes.tel=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("number",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),e.extend(t.prototype,{render:function(){t.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),e.fn.editabletypes.number=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("range",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.number),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){e(this).siblings("output").text(e(this).val())})},activate:function(){this.$input.focus()}}),t.defaults=e.extend({},e.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),e.fn.editabletypes.range=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("time",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass()}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),e.fn.editabletypes.time=t}(window.jQuery),function(e){"use strict";var t=function(n){if(this.init("select2",n,t.defaults),n.select2=n.select2||{},this.sourceData=null,n.placeholder&&(n.select2.placeholder=n.placeholder),!n.select2.tags&&n.source){var i=n.source;e.isFunction(n.source)&&(i=n.source.call(n.scope)),"string"==typeof i?(n.select2.ajax=n.select2.ajax||{},n.select2.ajax.data||(n.select2.ajax.data=function(e){return{query:e}}),n.select2.ajax.results||(n.select2.ajax.results=function(e){return{results:e}}),n.select2.ajax.url=i):(this.sourceData=this.convertSource(i),n.select2.data=this.sourceData)}if(this.options.select2=e.extend({},t.defaults.select2,n.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var o=this.idFunc||"id";this.idFunc=function(e){return e[o]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(e){return e.text})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",e.proxy(function(e){this.sourceData=e.items.results},this)),this.isMultiple&&this.$input.on("change",function(){e(this).closest("form").parent().triggerHandler("resize")})},value2html:function(n,i){var o,r="",s=this;this.options.select2.tags?o=n:this.sourceData&&(o=e.fn.editableutils.itemsByValue(n,this.sourceData,this.idFunc)),e.isArray(o)?(r=[],e.each(o,function(e,t){r.push(t&&"object"==typeof t?s.formatSelection(t):t)})):o&&(r=s.formatSelection(o)),r=e.isArray(r)?r.join(this.options.viewseparator):r,t.superclass.value2html.call(this,r,i)},html2value:function(e){return this.options.select2.tags?this.str2value(e,this.options.viewseparator):null},value2input:function(t){if(e.isArray(t)&&(t=t.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var n=this.options.select2.id,i=this.options.select2.formatSelection;if(!n&&!i){var o=e(this.options.scope);if(!o.data("editable").isEmpty){var r={id:t,text:o.text()};this.$input.select2("data",r)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,n){if("string"!=typeof t||!this.isMultiple)return t;n=n||this.getSeparator();var i,o,r;if(null===t||t.length<1)return null;for(i=t.split(n),o=0,r=i.length;r>o;o+=1)i[o]=e.trim(i[o]);return i},autosubmit:function(){this.$input.on("change",function(t,n){n||e(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||e.fn.select2.defaults.separator},convertSource:function(t){if(e.isArray(t)&&t.length&&void 0!==t[0].value)for(var n=0;n<t.length;n++)void 0!==t[n].value&&(t[n].id=t[n].value,delete t[n].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),e.fn.editabletypes.select2=t}(window.jQuery),function(e){var t=function(t,n){return this.$element=e(t),this.$element.is("input")?(this.options=e.extend({},e.fn.combodate.defaults,n,this.$element.data()),void this.init()):void e.error("Combodate should be applied to INPUT element")};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=e('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",e.proxy(function(t){this.$element.val(this.getValue()).change(),this.options.smartDays&&(e(t.target).is(".month")||e(t.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;return e.each(this.map,function(e,n){n=n[0];var i=new RegExp(n+"+"),o=n.length>1?n.substring(1,2):n;t=t.replace(i,"{"+o+"}")}),t=t.replace(/ /g,"&nbsp;"),e.each(this.map,function(e,n){n=n[0];var i=n.length>1?n.substring(1,2):n;t=t.replace("{"+i+"}",'<select class="'+e+'"></select>')}),t},initCombos:function(){for(var e in this.map){var t=this.$widget.find("."+e);this["$"+e]=t.length?t:null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var n="fill"+e.charAt(0).toUpperCase()+e.slice(1),i=this[n](),o=t.val();t.empty();for(var r=0;r<i.length;r++)t.append('<option value="'+i[r][0]+'">'+i[r][1]+"</option>");t.val(o)}},fillCommon:function(e){var t,n=[];if("name"===this.options.firstItem){t=moment.relativeTime||moment.langData()._relativeTime;var i="function"==typeof t[e]?t[e](1,!0,e,!1):t[e];i=i.split(" ").reverse()[0],n.push(["",i])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var e,t,n=this.fillCommon("d"),i=-1!==this.options.template.indexOf("DD"),o=31;if(this.options.smartDays&&this.$month&&this.$year){var r=parseInt(this.$month.val(),10),s=parseInt(this.$year.val(),10);isNaN(r)||isNaN(s)||(o=moment([s,r]).daysInMonth())}for(t=1;o>=t;t++)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillMonth:function(){var e,t,n=this.fillCommon("M"),i=-1!==this.options.template.indexOf("MMMM"),o=-1!==this.options.template.indexOf("MMM"),r=-1!==this.options.template.indexOf("MM");for(t=0;11>=t;t++)e=i?moment().date(1).month(t).format("MMMM"):o?moment().date(1).month(t).format("MMM"):r?this.leadZero(t+1):t+1,n.push([t,e]);return n},fillYear:function(){var e,t,n=[],i=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=i?t:(t+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([t,e]);return n=this.fillCommon("y").concat(n)},fillHour:function(){var e,t,n=this.fillCommon("h"),i=-1!==this.options.template.indexOf("h"),o=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),r=i?1:0,s=i?12:23;for(t=r;s>=t;t++)e=o?this.leadZero(t):t,n.push([t,e]);return n},fillMinute:function(){var e,t,n=this.fillCommon("m"),i=-1!==this.options.template.indexOf("mm");for(t=0;59>=t;t+=this.options.minuteStep)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillSecond:function(){var e,t,n=this.fillCommon("s"),i=-1!==this.options.template.indexOf("ss");for(t=0;59>=t;t+=this.options.secondStep)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a"),t=(-1!==this.options.template.indexOf("A"),[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]);return t},getValue:function(t){var n,i={},o=this,r=!1;return e.each(this.map,function(e){if("ampm"!==e){var t="day"===e?1:0;return i[e]=o["$"+e]?parseInt(o["$"+e].val(),10):t,isNaN(i[e])?(r=!0,!1):void 0}}),r?"":(this.$ampm&&(i.hour=12===i.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?i.hour:i.hour+12),n=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(n),t=void 0===t?this.options.format:t,null===t?n.isValid()?n:null:n.isValid()?n.format(t):"")},setValue:function(t){function n(t,n){var i={};return t.children("option").each(function(t,o){var r,s=e(o).attr("value");""!==s&&(r=Math.abs(s-n),("undefined"==typeof i.distance||r<i.distance)&&(i={value:s,distance:r}))}),i.value}if(t){var i="string"==typeof t?moment(t,this.options.format):moment(t),o=this,r={};i.isValid()&&(e.each(this.map,function(e,t){"ampm"!==e&&(r[e]=i[t[1]]())}),this.$ampm&&(r.hour>=12?(r.ampm="pm",r.hour>12&&(r.hour-=12)):(r.ampm="am",0===r.hour&&(r.hour=12))),e.each(r,function(e,t){o["$"+e]&&("minute"===e&&o.options.minuteStep>1&&o.options.roundTime&&(t=n(o["$"+e],t)),"second"===e&&o.options.secondStep>1&&o.options.roundTime&&(t=n(o["$"+e],t)),o["$"+e].val(t))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(i.format(this.options.format)).change())}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return 9>=e?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},e.fn.combodate=function(n){var i,o=Array.apply(null,arguments);return o.shift(),"getValue"===n&&this.length&&(i=this.eq(0).data("combodate"))?i.getValue.apply(i,o):this.each(function(){var i=e(this),r=i.data("combodate"),s="object"==typeof n&&n;r||i.data("combodate",r=new t(this,s)),"string"==typeof n&&"function"==typeof r[n]&&r[n].apply(r,o)})},e.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(e){"use strict";var t=function(n){this.init("combodate",n,t.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),n.combodate=e.fn.editableutils.tryParseJson(n.combodate,!0),this.options.combodate=e.extend({},t.defaults.combodate,n.combodate,{format:this.options.format,template:this.options.template})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===e.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(e,n){var i=e?e.format(this.options.viewformat):"";t.superclass.value2html.call(this,i,n)},html2value:function(e){return e?moment(e,this.options.viewformat):null},value2str:function(e){return e?e.format(this.options.format):""},str2value:function(e){return e?moment(e,this.options.format):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.combodate("setValue",e)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),e.fn.editabletypes.combodate=t}(window.jQuery),function(e){"use strict";var t=e.fn.editableform.Constructor.prototype.initInput;e.extend(e.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=e(e.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){t.apply(this);var n=null===this.input.options.inputclass||this.input.options.inputclass===!1,i="input-sm",o="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~e.inArray(this.input.type,o)&&(this.input.$input.addClass("form-control"),n&&(this.input.options.inputclass=i,this.input.$input.addClass(i)));for(var r=this.$form.find(".editable-buttons"),s=n?[i]:this.input.options.inputclass.split(" "),a=0;a<s.length;a++)"input-lg"===s[a].toLowerCase()&&r.find("button").removeClass("btn-sm").addClass("btn-lg")}}),e.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',e.fn.editableform.errorGroupClass="has-error",e.fn.editableform.errorBlockClass=null,e.fn.editableform.engine="bs3"}(window.jQuery),function(e){"use strict";e.extend(e.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:e.fn.popover.Constructor.DEFAULTS,initContainer:function(){e.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var t;this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(e,t){this.container().options[e]=t},setPosition:function(){!function(){var e=this.tip(),t="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,i=n.test(t);i&&(t=t.replace(n,"")||"top");var o=this.getPosition(),r=e[0].offsetWidth,s=e[0].offsetHeight;if(i){var a=this.$element.parent(),l=t,c=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:a.outerWidth(),d="body"==this.options.container?window.innerHeight:a.outerHeight(),h="body"==this.options.container?0:a.offset().left;t="bottom"==t&&o.top+o.height+s-c>d?"top":"top"==t&&o.top-c-s<0?"bottom":"right"==t&&o.right+r>u?"left":"left"==t&&o.left-r<h?"right":t,e.removeClass(l).addClass(t)}var f=this.getCalculatedOffset(t,o,r,s);this.applyPlacement(f,t)}.call(this.container())}})}(window.jQuery),function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function n(t,n){var i,o=e(t).data(),r={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])"),n=new RegExp("^"+n.toLowerCase());for(var a in o)n.test(a)&&(i=a.replace(s,function(e,t){return t.toLowerCase()}),r[i]=o[a]);return r}function i(t){var n={};if(u[t]||(t=t.split("-")[0],u[t])){var i=u[t];return e.each(c,function(e,t){t in i&&(n[t]=i[t])}),n}}var o=function(t,n){this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(d.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),i=n.language;switch(u[i]||(i=i.split("-")[0],u[i]||(i=l.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var o=d.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=d.parseDate(n.startDate,o,n.language)),1/0!==n.endDate&&(n.endDate=d.parseDate(n.endDate,o,n.language)),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,n,i=0;i<e.length;i++)t=e[i][0],n=e[i][1],t.on(n)},_unapplyEvents:function(e){for(var t,n,i=0;i<e.length;i++)t=e[i][0],n=e[i][1],t.off(n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).size()||this.picker.is(e.target)||this.picker.find(e.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.date,o=new Date(i.getTime()+6e4*i.getTimezoneOffset());this.element.trigger({type:t,date:o,format:e.proxy(function(e){var t=e||this.o.format;return d.formatDate(i,t,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):this.component&&this.element.find("input").val(e)},getFormattedDate:function(e){return void 0===e&&(e=this.o.format),d.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:n.top+i,left:n.left,zIndex:t})}},_allow_update:!0,update:function(){if(this._allow_update){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=d.parseDate(e,this.o.format,this.o.language),t&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+u[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+u[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=this.date.valueOf(),s=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()==i&&t.getUTCMonth()<o?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()==i&&t.getUTCMonth()>o)&&n.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==s.getFullYear()&&t.getUTCMonth()==s.getMonth()&&t.getUTCDate()==s.getDate()&&n.push("today"),r&&t.valueOf()==r&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!=e.inArray(t.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var n,i=new Date(this.viewDate),o=i.getUTCFullYear(),r=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(u[this.o.language].months[r]+" "+o),this.picker.find("tfoot th.today").text(u[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(u[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var h=t(o,r-1,28,0,0,0,0),f=d.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(f),h.setUTCDate(f-(h.getUTCDay()-this.o.weekStart+7)%7);var p=new Date(h);p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var m,g=[];h.valueOf()<p;){if(h.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+h+864e5*((this.o.weekStart-h.getUTCDay()-7)%7)),b=new Date(+v+864e5*((11-v.getUTCDay())%7)),y=new Date(+(y=t(b.getUTCFullYear(),0,1))+864e5*((11-y.getUTCDay())%7)),w=(b-y)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}m=this.getClassNames(h),m.push("day");var x=this.o.beforeShowDay(h);void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&m.push("disabled"),x.classes&&(m=m.concat(x.classes.split(/\s+/))),x.tooltip&&(n=x.tooltip),m=e.unique(m),g.push('<td class="'+m.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var C=this.date&&this.date.getUTCFullYear(),S=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");C&&C==o&&S.eq(this.date.getUTCMonth()).addClass("active"),(s>o||o>l)&&S.addClass("disabled"),o==s&&S.slice(0,a).addClass("disabled"),o==l&&S.slice(c+1).addClass("disabled"),g="",o=10*parseInt(o/10,10);var E=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var T=-1;11>T;T++)g+='<span class="year'+(-1==T?" old":10==T?" new":"")+(C==o?" active":"")+(s>o||o>l?" disabled":"")+'">'+o+"</span>",o+=1;E.html(g)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(n){n.preventDefault();var i=e(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=d.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var r=new Date;r=t(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var s="linked"==this.o.todayBtn?null:"view";this._setDate(r,s);break;case"clear":var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=1,c=i.parent().find("span").index(i),u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(u,c,l,0,0,0,0))}else{var u=parseInt(i.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(u),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(u,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var l=parseInt(i.text(),10)||1,u=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();i.is(".old")?0===c?(c=11,u-=1):c-=1:i.is(".new")&&(11==c?(c=0,u+=1):c+=1),this._setDate(t(u,c,l,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=new Date(e)),t&&"view"!=t||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.o.autoclose||t&&"date"!=t||this.hide())},moveMonth:function(e,t){if(!t)return e;var n,i,o=new Date(e.valueOf()),r=o.getUTCDate(),s=o.getUTCMonth(),a=Math.abs(t);if(t=t>0?1:-1,1==a)i=-1==t?function(){return o.getUTCMonth()==s}:function(){return o.getUTCMonth()!=n},n=s+t,o.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var l=0;a>l;l++)o=this.moveMonth(o,t);n=o.getUTCMonth(),o.setUTCDate(r),i=function(){return n!=o.getUTCMonth()}}for(;i();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var t,n,i,o=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),o=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(o){this._trigger("changeDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+d.modes[this.viewMode].clsName).css("display","block"),
this.updateNavArrows()}};var r=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){var n=e(t.target).data("datepicker"),i=n.getUTCDate(),o=e.inArray(t.target,this.inputs),r=this.inputs.length;if(-1!=o){if(i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[o])for(;r>o&&i>this.dates[o];)this.pickers[o++].setUTCDate(i);this.updateDates()}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var s=e.fn.datepicker,a=e.fn.datepicker=function(t){var s=Array.apply(null,arguments);s.shift();var a;return this.each(function(){var c=e(this),u=c.data("datepicker"),d="object"==typeof t&&t;if(!u){var h=n(this,"date"),f=e.extend({},l,h,d),p=i(f.language),m=e.extend({},l,p,h,d);if(c.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||c.find("input").toArray()};c.data("datepicker",u=new r(this,e.extend(m,g)))}else c.data("datepicker",u=new o(this,m))}return("string"!=typeof t||"function"!=typeof u[t]||(a=u[t].apply(u,s),void 0===a))&&void 0}),void 0!==a?a:this},l=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},c=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=o;var u=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},d={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,d.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(n,i,r){if(n instanceof Date)return n;if("string"==typeof i&&(i=d.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){var s,a,l=/([\-+]\d+)([dmwy])/,c=n.match(/([\-+]\d+)([dmwy])/g);n=new Date;for(var h=0;h<c.length;h++)switch(s=l.exec(c[h]),a=parseInt(s[1]),s[2]){case"d":n.setUTCDate(n.getUTCDate()+a);break;case"m":n=o.prototype.moveMonth.call(o.prototype,n,a);break;case"w":n.setUTCDate(n.getUTCDate()+7*a);break;case"y":n=o.prototype.moveYear.call(o.prototype,n,a)}return t(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}var f,p,s,c=n&&n.match(this.nonpunctuation)||[],n=new Date,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,n=t(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var b=i.parts.slice();if(c.length!=b.length&&(b=e(b).filter(function(t,n){return-1!==e.inArray(n,g)}).toArray()),c.length==b.length){for(var h=0,y=b.length;y>h;h++){if(f=parseInt(c[h],10),s=b[h],isNaN(f))switch(s){case"MM":p=e(u[r].months).filter(function(){var e=this.slice(0,c[h].length),t=c[h].slice(0,e.length);return e==t}),f=e.inArray(p[0],u[r].months)+1;break;case"M":p=e(u[r].monthsShort).filter(function(){var e=this.slice(0,c[h].length),t=c[h].slice(0,e.length);return e==t}),f=e.inArray(p[0],u[r].monthsShort)+1}m[s]=f}for(var w,h=0;h<g.length;h++)w=g[h],w in m&&!isNaN(m[w])&&v[w](n,m[w])}return n},formatDate:function(t,n,i){"string"==typeof n&&(n=d.parseFormat(n));var o={d:t.getUTCDate(),D:u[i].daysShort[t.getUTCDay()],DD:u[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:u[i].monthsShort[t.getUTCMonth()],MM:u[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var t=[],r=e.extend([],n.separators),s=0,a=n.parts.length;a>=s;s++)r.length&&t.push(r.shift()),t.push(o[n.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};d.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+d.headTemplate+"<tbody></tbody>"+d.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=d,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=s,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),a.call(n,"show"))}),e(function(){a.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){"use strict";e.fn.bdatepicker=e.fn.datepicker.noConflict(),e.fn.datepicker||(e.fn.datepicker=e.fn.bdatepicker);var t=function(e){this.init("date",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{initPicker:function(t,n){this.options.viewformat||(this.options.viewformat=this.options.format),t.datepicker=e.fn.editableutils.tryParseJson(t.datepicker,!0),this.options.datepicker=e.extend({},n.datepicker,t.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=e.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,n){var i=e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,i,n)},html2value:function(e){return this.parseDate(e,this.parsedViewFormat)},value2str:function(e){return e?this.dpg.formatDate(e,this.parsedFormat,this.options.datepicker.language):""},str2value:function(e){return this.parseDate(e,this.parsedFormat)},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.bdatepicker("update",e)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(!e(t.currentTarget).is(".old")&&!e(t.currentTarget).is(".new")){var n=e(this).closest("form");setTimeout(function(){n.submit()},200)}})},parseDate:function(e,t){var n,i=null;return e&&(i=this.dpg.parseDate(e,t,this.options.datepicker.language),"string"==typeof e&&(n=this.dpg.formatDate(i,t,this.options.datepicker.language),e!==n&&(i=null))),i}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),e.fn.editabletypes.date=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datefield",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.date),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(e){this.$input.val(e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),e.fn.editabletypes.datefield=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datetime",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{initPicker:function(t,n){this.options.viewformat||(this.options.viewformat=this.options.format),t.datetimepicker=e.fn.editableutils.tryParseJson(t.datetimepicker,!0),this.options.datetimepicker=e.extend({},n.datetimepicker,t.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=e.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var t=e(this).closest("form").parent();setTimeout(function(){t.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,n){var i=e?this.dpg.formatDate(this.toUTC(e),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return n?void t.superclass.value2html.call(this,i,n):i},html2value:function(e){var t=this.parseDate(e,this.parsedViewFormat);return t?this.fromUTC(t):null},value2str:function(e){return e?this.dpg.formatDate(this.toUTC(e),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(e){var t=this.parseDate(e,this.parsedFormat);return t?this.fromUTC(t):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){e&&this.$input.data("datetimepicker").setDate(e)},input2value:function(){var e=this.$input.data("datetimepicker");return e.date?e.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var t=e(this).closest("form");setTimeout(function(){t.submit()},200)})},toUTC:function(e){return e?new Date(e.valueOf()-6e4*e.getTimezoneOffset()):e},fromUTC:function(e){return e?new Date(e.valueOf()+6e4*e.getTimezoneOffset()):e},parseDate:function(e,t){var n,i=null;return e&&(i=this.dpg.parseDate(e,t,this.options.datetimepicker.language,this.options.formatType),"string"==typeof e&&(n=this.dpg.formatDate(i,t,this.options.datetimepicker.language,this.options.formatType),e!==n&&(i=null))),i}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),e.fn.editabletypes.datetime=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datetimefield",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.datetime),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(e){this.$input.val(this.value2html(e)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),e.fn.editabletypes.datetimefield=t}(window.jQuery),function(e){e.extend(e.expr[":"],{nic:function(e,t,n,i){return!(0<=(e.textContent||e.innerText||"").toLowerCase().indexOf((n[3]||"").toLowerCase()))}}),e.fn.editableSelect=function(t){var n=this.clone(),i=e('<input type="text">'),o=e('<ul class="es-list">');switch(t=e.extend({},{filter:!0,effect:"default",duration:"fast",onCreate:null,onShow:null,onHide:null,onSelect:null},t),t.effects){case"default":case"fade":case"slide":break;default:t.effects="default"}return(isNaN(t.duration)||"fast"!=t.duration||"slow"!=t.duration)&&(t.duration="fast"),this.replaceWith(i),{init:function(){var r=this;r.copyAttributes(n,i),i.addClass("es-input"),e(document.body).append(o),n.find("option").each(function(){var t=e("<li>"),n=e(this);t.data("value",n.val()),t.html(n.text()),r.copyAttributes(this,t),o.append(t),e(this).attr("selected")&&i.val(n.text())}),i.on("focus input click",r.show),e(document).on("click",function(t){e(t.target).is(i)||e(t.target).is(o)||r.hide()}),r.initializeList(),r.initializeEvents(),t.onCreate&&t.onCreate.call(this,i)},initializeList:function(){var t=this;o.find("li").each(function(){e(this).on("mousemove",function(){o.find(".selected").removeClass("selected"),e(this).addClass("selected")}),e(this).on("click",function(){t.setField.call(this,t)})}),o.mouseenter(function(){o.find("li.selected").removeClass("selected")})},initializeEvents:function(){var e=this;i.bind("input keydown",function(t){switch(t.keyCode){case 40:e.show(),t=o.find("li:visible");var n=t.filter("li.selected");o.find(".selected").removeClass("selected"),n=t.eq(0<n.size()?t.index(n)+1:0),n=(0<n.size()?n:o.find("li:visible:first")).addClass("selected"),e.scroll(n,!0);break;case 38:e.show(),t=o.find("li:visible"),n=t.filter("li.selected"),o.find("li.selected").removeClass("selected"),n=t.eq(0<n.size()?t.index(n)-1:-1),(0<n.size()?n:o.find("li:visible:last")).addClass("selected"),e.scroll(n,!1);break;case 13:o.is(":visible")&&(e.setField.call(o.find("li.selected"),e),t.preventDefault());case 9:case 27:e.hide();break;default:e.show()}})},show:function(){if(o.find("li").show(),o.css({top:i.offset().top+i.outerHeight()-1,left:i.offset().left,width:i.innerWidth()}),(t.filter?o.find("li:nic("+i.val()+")").hide().size():0)==o.find("li").size())o.hide();else switch(t.effects){case"fade":o.fadeIn(t.duration);break;case"slide":o.slideDown(t.duration);break;default:o.show(t.duration)}t.onShow&&t.onShow.call(this,i)},hide:function(){switch(t.effects){case"fade":o.fadeOut(t.duration);break;case"slide":o.slideUp(t.duration);break;default:o.hide(t.duration)}t.onHide&&t.onHide.call(this,i)},scroll:function(t,n){var i=0,r=o.find("li:visible").index(t);o.find("li:visible").each(function(t,n){t<r&&(i+=e(n).outerHeight())}),(i+t.outerHeight()>=o.scrollTop()+o.outerHeight()||i<=o.scrollTop())&&(n?o.scrollTop(i+t.outerHeight()-o.outerHeight()):o.scrollTop(i))},copyAttributes:function(t,n){var i,o=e(t)[0].attributes;for(i in o)e(n).attr(o[i].nodeName,o[i].nodeValue)},setField:function(n){return!!e(this).is("li:visible")&&(i.val(e(this).text()),n.hide(),void(t.onSelect&&t.onSelect.call(i,e(this))))}}.init(),i}}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){Array.prototype.reduce||(Array.prototype.reduce=function(e){var t,n=Object(this),i=n.length>>>0,o=0;if(2===arguments.length)t=arguments[1];else{for(;i>o&&!(o in n);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");t=n[o++]}for(;i>o;o++)o in n&&(t=e(t,n[o],o,n));return t}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e){for(var t=Object(this),n=t.length>>>0,i=[],o=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)if(r in t){var s=t[r];e.call(o,s,r,t)&&i.push(s)}return i}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,i,o;if(null===this)throw new TypeError(" this is null or not defined");var r=Object(this),s=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=new Array(s),o=0;s>o;){var a,l;o in r&&(a=r[o],l=e.call(n,a,o,r),i[o]=l),o++}return i});var t,n="function"==typeof define&&define.amd,i=function(t){var n="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=i.css("fontFamily",n).width(),r=i.css("fontFamily",t+","+n).width();return i.remove(),o!==r},o=navigator.userAgent,r=/MSIE|Trident/i.test(o);if(r){var s=/MSIE (\d+[.]\d+)/.exec(o);s&&(t=parseFloat(s[1])),s=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(o),s&&(t=parseFloat(s[1]))}var a,l={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:r,isFF:/firefox/i.test(o),isWebkit:/webkit/i.test(o),isSafari:/safari/i.test(o),browserVersion:t,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:n,hasCodeMirror:n?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:i,isW3CRangeSupport:!!document.createRange},c=function(){var t=function(e){return function(t){return e===t}},n=function(e,t){return e===t},i=function(e){return function(t,n){return t[e]===n[e]}},o=function(){return!0},r=function(){return!1},s=function(e){return function(){return!e.apply(e,arguments)}},a=function(e,t){return function(n){return e(n)&&t(n)}},l=function(e){return e},c=0,u=function(e){var t=++c+"";return e?e+t:t},d=function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},h=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},f=function(e,t){return t=t||"",t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")};return{eq:t,eq2:n,peq2:i,ok:o,fail:r,self:l,not:s,and:a,uniqueId:u,rect2bnd:d,invertObject:h,namespaceToCamel:f}}(),u=function(){var t=function(e){return e[0]},n=function(e){return e[e.length-1]},i=function(e){return e.slice(0,e.length-1)},o=function(e){return e.slice(1)},r=function(e,t){for(var n=0,i=e.length;i>n;n++){var o=e[n];if(t(o))return o}},s=function(e,t){for(var n=0,i=e.length;i>n;n++)if(!t(e[n]))return!1;return!0},a=function(t,n){return e.inArray(n,t)},l=function(e,t){return-1!==a(e,t)},u=function(e,t){return t=t||c.self,e.reduce(function(e,n){return e+t(n)},0)},d=function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=e[n];return t},h=function(e,i){if(!e.length)return[];var r=o(e);return r.reduce(function(e,t){var o=n(e);return i(n(o),t)?o[o.length]=t:e[e.length]=[t],e},[[t(e)]])},f=function(e){for(var t=[],n=0,i=e.length;i>n;n++)e[n]&&t.push(e[n]);return t},p=function(e){for(var t=[],n=0,i=e.length;i>n;n++)l(t,e[n])||t.push(e[n]);return t},m=function(e,t){var n=a(e,t);return-1===n?null:e[n+1]},g=function(e,t){var n=a(e,t);return-1===n?null:e[n-1]};return{head:t,last:n,initial:i,tail:o,prev:g,next:m,find:r,contains:l,all:s,sum:u,from:d,clusterBy:h,compact:f,unique:p}}(),d=String.fromCharCode(160),h="\ufeff",f=function(){var t=function(t){return t&&e(t).hasClass("note-editable")},n=function(t){return t&&e(t).hasClass("note-control-sizing")},i=function(t){var n;if(t.hasClass("note-air-editor")){var i=u.last(t.attr("id").split("-"));return n=function(t){return function(){return e(t+i)}},{editor:function(){return t},holder:function(){return t.data("holder")},editable:function(){return t},popover:n("#note-popover-"),handle:n("#note-handle-"),dialog:n("#note-dialog-")}}n=function(e,n){return n=n||t,function(){return n.find(e)}};var o=t.data("options"),r=o&&o.dialogsInBody?e(document.body):null;return{editor:function(){return t},holder:function(){return t.data("holder")},dropzone:n(".note-dropzone"),toolbar:n(".note-toolbar"),editable:n(".note-editable"),codable:n(".note-codable"),statusbar:n(".note-statusbar"),popover:n(".note-popover"),handle:n(".note-handle"),dialog:n(".note-dialog",r)}},o=function(t){var n=e(t).closest(".note-editor, .note-air-editor, .note-air-layout");if(!n.length)return null;var o;return o=n.is(".note-editor, .note-air-editor")?n:e("#note-editor-"+u.last(n.attr("id").split("-"))),i(o)},r=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},s=function(e){return e&&3===e.nodeType},a=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},p=function(e){return!t(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))},m=r("LI"),g=function(e){return p(e)&&!m(e)},v=r("TABLE"),b=function(e){return!(S(e)||y(e)||w(e)||p(e)||v(e)||C(e))},y=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},w=r("HR"),x=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},C=r("BLOCKQUOTE"),S=function(e){return x(e)||C(e)||t(e)},E=r("A"),T=function(e){return b(e)&&!!$(e,p)},k=function(e){return b(e)&&!$(e,p)},D=r("BODY"),A=function(e,t){return e.nextSibling===t||e.previousSibling===t},N=function(e,t){t=t||c.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},_=l.isMSIE&&l.browserVersion<11?"&nbsp;":"<br>",M=function(e){return s(e)?e.nodeValue.length:e.childNodes.length},F=function(e){var t=M(e);return 0===t||(!s(e)&&1===t&&e.innerHTML===_||!(!u.all(e.childNodes,s)||""!==e.innerHTML))},O=function(e){a(e)||M(e)||(e.innerHTML=_)},$=function(e,n){for(;e;){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},I=function(e,n){for(e=e.parentNode;e&&1===M(e);){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},L=function(e,n){n=n||c.fail;var i=[];return $(e,function(e){return t(e)||i.push(e),n(e)}),i},R=function(e,t){var n=L(e);return u.last(n.filter(t))},P=function(t,n){for(var i=L(t),o=n;o;o=o.parentNode)if(e.inArray(o,i)>-1)return o;return null},U=function(e,t){t=t||c.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},B=function(e,t){t=t||c.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n},z=function(e,t){var n=[];return t=t||c.ok,function i(o){e!==o&&t(o)&&n.push(o);for(var r=0,s=o.childNodes.length;s>r;r++)i(o.childNodes[r])}(e),n},H=function(t,n){var i=t.parentNode,o=e("<"+n+">")[0];return i.insertBefore(o,t),o.appendChild(t),o},j=function(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e},W=function(t,n){return e.each(n,function(e,n){t.appendChild(n)}),t},q=function(e){return 0===e.offset},Y=function(e){return e.offset===M(e.node)},V=function(e){return q(e)||Y(e)},X=function(e,t){for(;e&&e!==t;){if(0!==Z(e))return!1;e=e.parentNode}return!0},K=function(e,t){for(;e&&e!==t;){if(Z(e)!==M(e.parentNode)-1)return!1;e=e.parentNode}return!0},G=function(e,t){return q(e)&&X(e.node,t)},Q=function(e,t){return Y(e)&&K(e.node,t)},Z=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},J=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},ee=function(e,n){var i,o;if(0===e.offset){if(t(e.node))return null;i=e.node.parentNode,o=Z(e.node)}else J(e.node)?(i=e.node.childNodes[e.offset-1],o=M(i)):(i=e.node,o=n?0:e.offset-1);return{node:i,offset:o}},te=function(e,n){var i,o;if(M(e.node)===e.offset){if(t(e.node))return null;i=e.node.parentNode,o=Z(e.node)+1}else J(e.node)?(i=e.node.childNodes[e.offset],o=0):(i=e.node,o=n?M(e.node):e.offset+1);return{node:i,offset:o}},ne=function(e,t){return e.node===t.node&&e.offset===t.offset},ie=function(e){if(s(e.node)||!J(e.node)||F(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!a(t)||n&&!a(n))},oe=function(e,t){for(;e;){if(t(e))return e;e=ee(e)}return null},re=function(e,t){for(;e;){if(t(e))return e;e=te(e)}return null},se=function(e){if(!s(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==d},ae=function(e,t,n,i){for(var o=e;o&&(n(o),!ne(o,t));){var r=i&&e.node!==o.node&&t.node!==o.node;o=te(o,r)}},le=function(e,t){var n=L(t,c.eq(e));return n.map(Z).reverse()},ce=function(e,t){for(var n=e,i=0,o=t.length;o>i;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},ue=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint;if(V(e)&&(s(e.node)||i)){if(q(e))return e.node;if(Y(e))return e.node.nextSibling}if(s(e.node))return e.node.splitText(e.offset);var o=e.node.childNodes[e.offset],r=j(e.node.cloneNode(!1),e.node);return W(r,B(o)),n||(O(e.node),O(r)),r},de=function(e,t,n){var i=L(t.node,c.eq(e));return i.length?1===i.length?ue(t,n):i.reduce(function(e,i){return e===t.node&&(e=ue(t,n)),ue({node:i,offset:e?f.position(e):M(i)},n)}):null},he=function(e,t){var n,i,o=t?p:S,r=L(e.node,o),s=u.last(r)||e.node;o(s)?(n=r[r.length-2],i=s):(n=s,i=n.parentNode);var a=n&&de(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return a||i!==e.node||(a=e.node.childNodes[e.offset]),{rightNode:a,container:i}},fe=function(e){return document.createElement(e)},pe=function(e){return document.createTextNode(e)},me=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var i,o,r=[];for(i=0,o=e.childNodes.length;o>i;i++)r.push(e.childNodes[i]);for(i=0,o=r.length;o>i;i++)n.insertBefore(r[i],e)}n.removeChild(e)}},ge=function(e,n){for(;e&&!t(e)&&n(e);){var i=e.parentNode;me(e),e=i}},ve=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=fe(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),W(n,u.from(e.childNodes)),j(n,e),me(e),n},be=r("TEXTAREA"),ye=function(e,t){var n=be(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},we=function(t,n){var i=ye(t);if(n){var o=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(o,function(e,t,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(i||o?"\n":"")}),i=e.trim(i)}return i};return{NBSP_CHAR:d,ZERO_WIDTH_NBSP_CHAR:h,blank:_,emptyPara:"<p>"+_+"</p>",makePredByNodeName:r,isEditable:t,isControlSizing:n,buildLayoutInfo:i,makeLayoutInfo:o,isText:s,isVoid:a,isPara:p,isPurePara:g,isInline:b,isBlock:c.not(b),isBodyInline:k,isBody:D,isParaInline:T,isList:y,isTable:v,isCell:x,isBlockquote:C,isBodyContainer:S,isAnchor:E,isDiv:r("DIV"),isLi:m,isBR:r("BR"),isSpan:r("SPAN"),isB:r("B"),isU:r("U"),isS:r("S"),isI:r("I"),isImg:r("IMG"),isTextarea:be,isEmpty:F,isEmptyAnchor:c.and(E,F),isClosestSibling:A,withClosestSiblings:N,nodeLength:M,isLeftEdgePoint:q,isRightEdgePoint:Y,isEdgePoint:V,isLeftEdgeOf:X,isRightEdgeOf:K,isLeftEdgePointOf:G,isRightEdgePointOf:Q,prevPoint:ee,nextPoint:te,isSamePoint:ne,isVisiblePoint:ie,prevPointUntil:oe,nextPointUntil:re,isCharPoint:se,walkPoint:ae,ancestor:$,singleChildAncestor:I,listAncestor:L,lastAncestor:R,listNext:B,listPrev:U,listDescendant:z,commonAncestor:P,wrap:H,insertAfter:j,appendChildNodes:W,position:Z,hasChildren:J,makeOffsetPath:le,fromOffsetPath:ce,splitTree:de,splitPoint:he,create:fe,createText:pe,remove:me,removeWhile:ge,replace:ve,html:we,value:ye}}(),p=function(){var t=function(e,t){var n,i,o=e.parentElement(),r=document.body.createTextRange(),s=u.from(o.childNodes);for(n=0;n<s.length;n++)if(!f.isText(s[n])){if(r.moveToElementText(s[n]),r.compareEndPoints("StartToStart",e)>=0)break;i=s[n]}if(0!==n&&f.isText(s[n-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(i||o),a.collapse(!i),l=i?i.nextSibling:o.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",a);for(var d=c.text.replace(/[\r\n]/g,"").length;d>l.nodeValue.length&&l.nextSibling;)d-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&f.isText(l.nextSibling)&&d===l.nodeValue.length&&(d-=l.nodeValue.length,l=l.nextSibling),o=l,n=d}return{cont:o,offset:n}},n=function(e){var t=function(e,n){var i,o;if(f.isText(e)){var r=f.listPrev(e,c.not(f.isText)),s=u.last(r).previousSibling;i=s||e.parentNode,n+=u.sum(u.tail(r),f.nodeLength),o=!s}else{if(i=e.childNodes[n]||e,f.isText(i))return t(i,0);n=0,o=!1}return{node:i,collapseToStart:o,offset:n}},n=document.body.createTextRange(),i=t(e.node,e.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},i=function(t,o,r,s){this.sc=t,this.so=o,this.ec=r,this.eo=s;var a=function(){if(l.isW3CRangeSupport){var e=document.createRange();return e.setStart(t,o),e.setEnd(r,s),e}var i=n({node:t,offset:o});return i.setEndPoint("EndToEnd",n({node:r,offset:s})),i};this.getPoints=function(){return{sc:t,so:o,ec:r,eo:s}},this.getStartPoint=function(){return{node:t,offset:o}},this.getEndPoint=function(){return{node:r,offset:s}},this.select=function(){var e=a();if(l.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.normalize=function(){var e=function(e,t){if(f.isVisiblePoint(e)&&!f.isEdgePoint(e)||f.isVisiblePoint(e)&&f.isRightEdgePoint(e)&&!t||f.isVisiblePoint(e)&&f.isLeftEdgePoint(e)&&t||f.isVisiblePoint(e)&&f.isBlock(e.node)&&f.isEmpty(e.node))return e;var n=f.ancestor(e.node,f.isBlock);if((f.isLeftEdgePointOf(e,n)||f.isVoid(f.prevPoint(e).node))&&!t||(f.isRightEdgePointOf(e,n)||f.isVoid(f.nextPoint(e).node))&&t){if(f.isVisiblePoint(e))return e;t=!t}var i=t?f.nextPointUntil(f.nextPoint(e),f.isVisiblePoint):f.prevPointUntil(f.prevPoint(e),f.isVisiblePoint);return i||e},t=e(this.getEndPoint(),!1),n=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new i(n.node,n.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||c.ok;var n=t&&t.includeAncestor,i=t&&t.fullyContains,o=this.getStartPoint(),r=this.getEndPoint(),s=[],a=[];return f.walkPoint(o,r,function(t){if(!f.isEditable(t.node)){var o;i?(f.isLeftEdgePoint(t)&&a.push(t.node),f.isRightEdgePoint(t)&&u.contains(a,t.node)&&(o=t.node)):o=n?f.ancestor(t.node,e):t.node,o&&e(o)&&s.push(o)}},!0),u.unique(s)},this.commonAncestor=function(){return f.commonAncestor(t,r)},this.expand=function(e){var n=f.ancestor(t,e),a=f.ancestor(r,e);if(!n&&!a)return new i(t,o,r,s);var l=this.getPoints();return n&&(l.sc=n,l.so=0),a&&(l.ec=a,l.eo=f.nodeLength(a)),
new i(l.sc,l.so,l.ec,l.eo)},this.collapse=function(e){return e?new i(t,o,t,o):new i(r,s,r,s)},this.splitText=function(){var e=t===r,n=this.getPoints();return f.isText(r)&&!f.isEdgePoint(this.getEndPoint())&&r.splitText(s),f.isText(t)&&!f.isEdgePoint(this.getStartPoint())&&(n.sc=t.splitText(o),n.so=0,e&&(n.ec=n.sc,n.eo=s-o)),new i(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),o=f.prevPointUntil(t.getStartPoint(),function(e){return!u.contains(n,e.node)}),r=[];return e.each(n,function(e,t){var n=t.parentNode;o.node!==n&&1===f.nodeLength(n)&&r.push(n),f.remove(t,!1)}),e.each(r,function(e,t){f.remove(t,!1)}),new i(o.node,o.offset,o.node,o.offset).normalize()};var d=function(e){return function(){var n=f.ancestor(t,e);return!!n&&n===f.ancestor(r,e)}};this.isOnEditable=d(f.isEditable),this.isOnList=d(f.isList),this.isOnAnchor=d(f.isAnchor),this.isOnCell=d(f.isCell),this.isLeftEdgeOf=function(e){if(!f.isLeftEdgePoint(this.getStartPoint()))return!1;var t=f.ancestor(this.sc,e);return t&&f.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return t===r&&o===s},this.wrapBodyInlineWithPara=function(){if(f.isBodyContainer(t)&&f.isEmpty(t))return t.innerHTML=f.emptyPara,new i(t.firstChild,0,t.firstChild,0);var e=this.normalize();if(f.isParaInline(t)||f.isPara(t))return e;var n;if(f.isInline(e.sc)){var o=f.listAncestor(e.sc,c.not(f.isInline));n=u.last(o),f.isInline(n)||(n=o[o.length-2]||e.sc.childNodes[e.so])}else n=e.sc.childNodes[e.so>0?e.so-1:0];var r=f.listPrev(n,f.isParaInline).reverse();if(r=r.concat(f.listNext(n.nextSibling,f.isParaInline)),r.length){var s=f.wrap(u.head(r),"p");f.appendChildNodes(s,u.tail(r))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=f.splitPoint(t.getStartPoint(),f.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(t){var n=e("<div></div>").html(t)[0],i=u.from(n.childNodes),o=this.wrapBodyInlineWithPara().deleteContents();return i.reverse().map(function(e){return o.insertNode(e)}).reverse()},this.toString=function(){var e=a();return l.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!f.isCharPoint(t))return this;var n=f.prevPointUntil(t,function(e){return!f.isCharPoint(e)});return e&&(t=f.nextPointUntil(t,function(e){return!f.isCharPoint(e)})),new i(n.node,n.offset,t.node,t.offset)},this.bookmark=function(e){return{s:{path:f.makeOffsetPath(e,t),offset:o},e:{path:f.makeOffsetPath(e,r),offset:s}}},this.paraBookmark=function(e){return{s:{path:u.tail(f.makeOffsetPath(u.head(e),t)),offset:o},e:{path:u.tail(f.makeOffsetPath(u.last(e),r)),offset:s}}},this.getClientRects=function(){var e=a();return e.getClientRects()}};return{create:function(e,n,o,r){if(arguments.length)2===arguments.length&&(o=e,r=n);else if(l.isW3CRangeSupport){var s=document.getSelection();if(!s||0===s.rangeCount)return null;if(f.isBody(s.anchorNode))return null;var a=s.getRangeAt(0);e=a.startContainer,n=a.startOffset,o=a.endContainer,r=a.endOffset}else{var c=document.selection.createRange(),u=c.duplicate();u.collapse(!1);var d=c;d.collapse(!0);var h=t(d,!0),p=t(u,!1);f.isText(h.node)&&f.isLeftEdgePoint(h)&&f.isTextNode(p.node)&&f.isRightEdgePoint(p)&&p.node.nextSibling===h.node&&(h=p),e=h.cont,n=h.offset,o=p.cont,r=p.offset}return new i(e,n,o,r)},createFromNode:function(e){var t=e,n=0,i=e,o=f.nodeLength(i);return f.isVoid(t)&&(n=f.listPrev(t).length-1,t=t.parentNode),f.isBR(i)?(o=f.listPrev(i).length-1,i=i.parentNode):f.isVoid(i)&&(o=f.listPrev(i).length,i=i.parentNode),this.create(t,n,i,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=f.fromOffsetPath(e,t.s.path),o=t.s.offset,r=f.fromOffsetPath(e,t.e.path),s=t.e.offset;return new i(n,o,r,s)},createFromParaBookmark:function(e,t){var n=e.s.offset,o=e.e.offset,r=f.fromOffsetPath(u.head(t),e.s.path),s=f.fromOffsetPath(u.last(t),e.e.path);return new i(r,n,s,o)}}}(),m={version:"0.6.16",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,disableResizeImage:!1,shortcuts:!0,textareaAutoSync:!0,placeholder:!1,prettifyHtml:!0,iconPrefix:"fa fa-",icons:{font:{bold:"bold",italic:"italic",underline:"underline",clear:"eraser",height:"text-height",strikethrough:"strikethrough",superscript:"superscript",subscript:"subscript"},image:{image:"picture-o",floatLeft:"align-left",floatRight:"align-right",floatNone:"align-justify",shapeRounded:"square",shapeCircle:"circle-o",shapeThumbnail:"picture-o",shapeNone:"times",remove:"trash-o"},link:{link:"link",unlink:"unlink",edit:"edit"},table:{table:"table"},hr:{insert:"minus"},style:{style:"magic"},lists:{unordered:"list-ul",ordered:"list-ol"},options:{help:"question",fullscreen:"arrows-alt",codeview:"code"},paragraph:{paragraph:"align-left",outdent:"outdent",indent:"indent",left:"align-left",center:"align-center",right:"align-right",justify:"align-justify"},color:{recent:"font"},history:{undo:"undo",redo:"repeat"},misc:{check:"check"}},dialogsInBody:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],plugin:{},airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(e){return-1!==e.indexOf("@")&&-1===e.indexOf(":")&&(e="mailto:"+e),e},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}},g=function(){var t=function(t){return e.Deferred(function(n){e.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(t)}).promise()},n=function(t,n){return e.Deferred(function(i){var o=e("<img>");o.one("load",function(){o.off("error abort"),i.resolve(o)}).one("error abort",function(){o.off("load").detach(),i.reject(o)}).css({display:"none"}).appendTo(document.body).attr({src:t,"data-filename":n})}).promise()};return{readFileAsDataURL:t,createImage:n}}(),v=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return u.contains([8,9,13,32],e)},isMove:function(e){return u.contains([37,38,39,40],e)},nameFromCode:c.invertObject(e),code:e}}(),b=function(e){var t=[],n=-1,i=e[0],o=function(){var t=p.create(),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(i):n}},r=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&p.createFromBookmark(i,t.bookmark).select()};this.undo=function(){e.html()!==t[n].contents&&this.recordUndo(),n>0&&(n--,r(t[n]))},this.redo=function(){t.length-1>n&&(n++,r(t[n]))},this.recordUndo=function(){n++,t.length>n&&(t=t.slice(0,n)),t.push(o())},this.recordUndo()},y=function(){var t=function(t,n){if(l.jqueryVersion<1.9){var i={};return e.each(n,function(e,n){i[n]=t.css(n)}),i}return t.css.call(t,n)};this.fromNode=function(e){var n=["font-family","font-size","text-align","list-style-type","line-height"],i=t(e,n)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(t,n){e.each(t.nodes(f.isPara,{includeAncestor:!0}),function(t,i){e(i).css(n)})},this.styleNodes=function(t,n){t=t.splitText();var i=n&&n.nodeName||"SPAN",o=!(!n||!n.expandClosestSibling),r=!(!n||!n.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(f.create(i))];var s=f.makePredByNodeName(i),a=t.nodes(f.isText,{fullyContains:!0}).map(function(e){return f.singleChildAncestor(e,s)||f.wrap(e,i)});if(o){if(r){var l=t.nodes();s=c.and(s,function(e){return u.contains(l,e)})}return a.map(function(t){var n=f.withClosestSiblings(t,s),i=u.head(n),o=u.tail(n);return e.each(o,function(e,t){f.appendChildNodes(i,t.childNodes),f.remove(t)}),u.head(n)})}return a},this.current=function(t){var n=e(f.isText(t.sc)?t.sc.parentNode:t.sc),i=this.fromNode(n);if(i["font-bold"]=document.queryCommandState("bold")?"bold":"normal",i["font-italic"]=document.queryCommandState("italic")?"italic":"normal",i["font-underline"]=document.queryCommandState("underline")?"underline":"normal",i["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",i["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",i["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",t.isOnList()){var o=["circle","disc","disc-leading-zero","square"],r=e.inArray(i["list-style-type"],o)>-1;i["list-style"]=r?"unordered":"ordered"}else i["list-style"]="none";var s=f.ancestor(t.sc,f.isPara);if(s&&s.style["line-height"])i["line-height"]=s.style.lineHeight;else{var a=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=a.toFixed(1)}return i.anchor=t.isOnAnchor()&&f.ancestor(t.sc,f.isAnchor),i.ancestors=f.listAncestor(t.sc,f.isEditable),i.range=t,i}},w=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var t=this,n=p.create().wrapBodyInlineWithPara(),i=n.nodes(f.isPara,{includeAncestor:!0}),o=u.clusterBy(i,c.peq2("parentNode"));e.each(o,function(n,i){var o=u.head(i);f.isLi(o)?t.wrapList(i,o.parentNode.nodeName):e.each(i,function(t,n){e(n).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},this.outdent=function(){var t=this,n=p.create().wrapBodyInlineWithPara(),i=n.nodes(f.isPara,{includeAncestor:!0}),o=u.clusterBy(i,c.peq2("parentNode"));e.each(o,function(n,i){var o=u.head(i);f.isLi(o)?t.releaseList([i]):e.each(i,function(t,n){e(n).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),n.select()},this.toggleList=function(t){var n=this,i=p.create().wrapBodyInlineWithPara(),o=i.nodes(f.isPara,{includeAncestor:!0}),r=i.paraBookmark(o),s=u.clusterBy(o,c.peq2("parentNode"));if(u.find(o,f.isPurePara)){var a=[];e.each(s,function(e,i){a=a.concat(n.wrapList(i,t))}),o=a}else{var l=i.nodes(f.isList,{includeAncestor:!0}).filter(function(n){return!e.nodeName(n,t)});l.length?e.each(l,function(e,n){f.replace(n,t)}):o=this.releaseList(s,!0)}p.createFromParaBookmark(r,o).select()},this.wrapList=function(e,t){var n=u.head(e),i=u.last(e),o=f.isList(n.previousSibling)&&n.previousSibling,r=f.isList(i.nextSibling)&&i.nextSibling,s=o||f.insertAfter(f.create(t||"UL"),i);return e=e.map(function(e){return f.isPurePara(e)?f.replace(e,"LI"):e}),f.appendChildNodes(s,e),r&&(f.appendChildNodes(s,u.from(r.childNodes)),f.remove(r)),e},this.releaseList=function(t,n){var i=[];return e.each(t,function(t,o){var r=u.head(o),s=u.last(o),a=n?f.lastAncestor(r,f.isList):r.parentNode,l=a.childNodes.length>1?f.splitTree(a,{node:s.parentNode,offset:f.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,c=f.splitTree(a,{node:r.parentNode,offset:f.position(r)},{isSkipPaddingBlankHTML:!0});o=n?f.listDescendant(c,f.isLi):u.from(c.childNodes).filter(f.isLi),(n||!f.isList(a.parentNode))&&(o=o.map(function(e){return f.replace(e,"P")})),e.each(u.from(o).reverse(),function(e,t){f.insertAfter(t,a)});var d=u.compact([a,c,l]);e.each(d,function(t,n){var i=[n].concat(f.listDescendant(n,f.isList));e.each(i.reverse(),function(e,t){f.nodeLength(t)||f.remove(t,!0)})}),i=i.concat(o)}),i}},x=function(){var t=new w;this.insertTab=function(e,t,n){var i=f.createText(new Array(n+1).join(f.NBSP_CHAR));t=t.deleteContents(),t.insertNode(i,!0),t=p.create(i,n),t.select()},this.insertParagraph=function(){var n=p.create();n=n.deleteContents(),n=n.wrapBodyInlineWithPara();var i,o=f.ancestor(n.sc,f.isPara);if(o){if(f.isEmpty(o)&&f.isLi(o))return void t.toggleList(o.parentNode.nodeName);i=f.splitTree(o,n.getStartPoint());var r=f.listDescendant(o,f.isEmptyAnchor);r=r.concat(f.listDescendant(i,f.isEmptyAnchor)),e.each(r,function(e,t){f.remove(t)})}else{var s=n.sc.childNodes[n.so];i=e(f.emptyPara)[0],s?n.sc.insertBefore(i,s):n.sc.appendChild(i)}p.create(i,0).normalize().select()}},C=function(){this.tab=function(e,t){var n=f.ancestor(e.commonAncestor(),f.isCell),i=f.ancestor(n,f.isTable),o=f.listDescendant(i,f.isCell),r=u[t?"prev":"next"](o,n);r&&p.create(r,0).select()},this.createTable=function(t,n){for(var i,o=[],r=0;t>r;r++)o.push("<td>"+f.blank+"</td>");i=o.join("");for(var s,a=[],l=0;n>l;l++)a.push("<tr>"+i+"</tr>");return s=a.join(""),e('<table class="table table-bordered">'+s+"</table>")[0]}},S="bogus",E=function(t){var n=this,i=new y,o=new C,r=new x,s=new w;this.createRange=function(e){return this.focus(e),p.create()},this.saveRange=function(e,t){this.focus(e),e.data("range",p.create()),t&&p.create().collapse().select()},this.saveNode=function(e){for(var t=[],n=0,i=e[0].childNodes.length;i>n;n++)t.push(e[0].childNodes[n]);e.data("childNodes",t)},this.restoreRange=function(e){var t=e.data("range");t&&(t.select(),this.focus(e))},this.restoreNode=function(e){e.html("");for(var t=e.data("childNodes"),n=0,i=t.length;i>n;n++)e[0].appendChild(t[n])},this.currentStyle=function(e){var t=p.create(),n=t&&t.isOnEditable()?i.current(t.normalize()):{};return f.isImg(e)&&(n.image=e),n},this.styleFromNode=function(e){return i.fromNode(e)};var a=function(e){var n=f.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"before.command")(e.html(),e)},c=function(e){var n=f.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"change")(e.html(),e)};this.undo=function(e){a(e),e.data("NoteHistory").undo(),c(e)},this.redo=function(e){a(e),e.data("NoteHistory").redo(),c(e)};for(var d=this.beforeCommand=function(e){a(e),n.focus(e)},h=this.afterCommand=function(e,t){e.data("NoteHistory").recordUndo(),t||c(e)},m=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],v=0,b=m.length;b>v;v++)this[m[v]]=function(e){return function(t,n){d(t),document.execCommand(e,!1,n),h(t,!0)}}(m[v]);this.tab=function(e,t){var n=this.createRange(e);n.isCollapsed()&&n.isOnCell()?o.tab(n):(d(e),r.insertTab(e,n,t.tabsize),h(e))},this.untab=function(e){var t=this.createRange(e);t.isCollapsed()&&t.isOnCell()&&o.tab(t,!0)},this.insertParagraph=function(e){d(e),r.insertParagraph(e),h(e)},this.insertOrderedList=function(e){d(e),s.insertOrderedList(e),h(e)},this.insertUnorderedList=function(e){d(e),s.insertUnorderedList(e),h(e)},this.indent=function(e){d(e),s.indent(e),h(e)},this.outdent=function(e){d(e),s.outdent(e),h(e)},this.insertImage=function(e,n,i){g.createImage(n,i).then(function(t){d(e),t.css({display:"",width:Math.min(e.width(),t.width())}),p.create().insertNode(t[0]),p.createFromNodeAfter(t[0]).select(),h(e)}).fail(function(){var n=f.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"image.upload.error")()})},this.insertNode=function(e,t){d(e),p.create().insertNode(t),p.createFromNodeAfter(t).select(),h(e)},this.insertText=function(e,t){d(e);var n=p.create().insertNode(f.createText(t));p.create(n,f.nodeLength(n)).select(),h(e)},this.pasteHTML=function(e,t){d(e);var n=p.create().pasteHTML(t);p.createFromNodeAfter(u.last(n)).select(),h(e)},this.formatBlock=function(e,t){d(e),t=l.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),h(e)},this.formatPara=function(e){d(e),this.formatBlock(e,"P"),h(e)};for(var v=1;6>=v;v++)this["formatH"+v]=function(e){return function(t){this.formatBlock(t,"H"+e)}}(v);this.fontSize=function(t,n){var o=p.create();if(o.isCollapsed()){var r=i.styleNodes(o),s=u.head(r);e(r).css({"font-size":n+"px"}),s&&!f.nodeLength(s)&&(s.innerHTML=f.ZERO_WIDTH_NBSP_CHAR,p.createFromNodeAfter(s.firstChild).select(),t.data(S,s))}else d(t),e(i.styleNodes(o)).css({"font-size":n+"px"}),h(t)},this.insertHorizontalRule=function(t){d(t);var n=p.create(),i=n.insertNode(e("<HR/>")[0]);i.nextSibling&&p.create(i.nextSibling,0).normalize().select(),h(t)},this.removeBogus=function(e){var t=e.data(S);if(t){var n=u.find(u.from(t.childNodes),f.isText),i=n.nodeValue.indexOf(f.ZERO_WIDTH_NBSP_CHAR);-1!==i&&n.deleteData(i,1),f.isEmpty(t)&&f.remove(t),e.removeData(S)}},this.lineHeight=function(e,t){d(e),i.stylePara(p.create(),{lineHeight:t}),h(e)},this.unlink=function(e){var t=this.createRange(e);if(t.isOnAnchor()){var n=f.ancestor(t.sc,f.isAnchor);t=p.createFromNode(n),t.select(),d(e),document.execCommand("unlink"),h(e)}},this.createLink=function(t,n,o){var r=n.url,s=n.text,a=n.isNewWindow,l=n.range||this.createRange(t),c=l.toString()!==s;o=o||f.makeLayoutInfo(t).editor().data("options"),d(t),o.onCreateLink&&(r=o.onCreateLink(r));var m=[];if(c){var g=l.insertNode(e("<A>"+s+"</A>")[0]);m.push(g)}else m=i.styleNodes(l,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});e.each(m,function(t,n){e(n).attr("href",r),a?e(n).attr("target","_blank"):e(n).removeAttr("target")});var v=p.createFromNodeBefore(u.head(m)),b=v.getStartPoint(),y=p.createFromNodeAfter(u.last(m)),w=y.getEndPoint();p.create(b.node,b.offset,w.node,w.offset).select(),h(t)},this.getLinkInfo=function(t){this.focus(t);var n=p.create().expand(f.isAnchor),i=e(u.head(n.nodes(f.isAnchor)));return{range:n,text:n.toString(),isNewWindow:!!i.length&&"_blank"===i.attr("target"),url:i.length?i.attr("href"):""}},this.color=function(e,t){var n=JSON.parse(t),i=n.foreColor,o=n.backColor;d(e),i&&document.execCommand("foreColor",!1,i),o&&document.execCommand("backColor",!1,o),h(e)},this.insertTable=function(e,t){var n=t.split("x");d(e);var i=p.create().deleteContents();i.insertNode(o.createTable(n[0],n[1])),h(e)},this.floatMe=function(e,t,n){d(e),n.removeClass("pull-left pull-right"),t&&"none"!==t&&n.addClass("pull-"+t),n.css("float",t),h(e)},this.imageShape=function(e,t,n){d(e),n.removeClass("img-rounded img-circle img-thumbnail"),t&&n.addClass(t),h(e)},this.resize=function(e,t,n){d(e),n.css({width:100*t+"%",height:""}),h(e)},this.resizeTo=function(e,t,n){var i;if(n){var o=e.y/e.x,r=t.data("ratio");i={width:r>o?e.x:e.y/r,height:r>o?e.x*r:e.y}}else i={width:e.x,height:e.y};t.css(i)},this.removeMedia=function(n,i,o){d(n),o.detach(),t.bindCustomEvent(e(),n.data("callbacks"),"media.delete")(o,n),h(n)},this.focus=function(e){e.focus(),l.isFF&&!p.create().isOnEditable()&&p.createFromNode(e[0]).normalize().collapse().select()},this.isEmpty=function(e){return f.isEmpty(e[0])||f.emptyPara===e.html()}},T=function(){this.update=function(t,n){var i=function(t,n){t.find(".dropdown-menu li a").each(function(){var t=e(this).data("value")+""==n+"";this.className=t?"checked":""})},o=function(e,n){var i=t.find(e);i.toggleClass("active",n())};if(n.image){var r=e(n.image);o('button[data-event="imageShape"][data-value="img-rounded"]',function(){return r.hasClass("img-rounded")}),o('button[data-event="imageShape"][data-value="img-circle"]',function(){return r.hasClass("img-circle")}),o('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return r.hasClass("img-thumbnail")}),o('button[data-event="imageShape"]:not([data-value])',function(){return!r.is(".img-rounded, .img-circle, .img-thumbnail")});var s=r.css("float");o('button[data-event="floatMe"][data-value="left"]',function(){return"left"===s}),o('button[data-event="floatMe"][data-value="right"]',function(){return"right"===s}),o('button[data-event="floatMe"][data-value="none"]',function(){return"left"!==s&&"right"!==s});var a=r.attr("style");return o('button[data-event="resize"][data-value="1"]',function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(a)}),o('button[data-event="resize"][data-value="0.5"]',function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(a)}),void o('button[data-event="resize"][data-value="0.25"]',function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(a)})}var c=t.find(".note-fontname");if(c.length){var u=n["font-family"];if(u){for(var d=u.split(","),h=0,f=d.length;f>h&&(u=d[h].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,""),!l.isFontInstalled(u));h++);c.find(".note-current-fontname").text(u),i(c,u)}}var p=t.find(".note-fontsize");p.find(".note-current-fontsize").text(n["font-size"]),i(p,parseFloat(n["font-size"]));var m=t.find(".note-height");i(m,parseFloat(n["line-height"])),o('button[data-event="bold"]',function(){return"bold"===n["font-bold"]}),o('button[data-event="italic"]',function(){return"italic"===n["font-italic"]}),o('button[data-event="underline"]',function(){return"underline"===n["font-underline"]}),o('button[data-event="strikethrough"]',function(){return"strikethrough"===n["font-strikethrough"]}),o('button[data-event="superscript"]',function(){return"superscript"===n["font-superscript"]}),o('button[data-event="subscript"]',function(){return"subscript"===n["font-subscript"]}),o('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),o('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),o('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),o('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),o('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),o('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(t,n,i){var o=e(t).closest(".note-color"),r=o.find(".note-recent-color"),s=JSON.parse(r.attr("data-value"));s[n]=i,r.attr("data-value",JSON.stringify(s));var a="backColor"===n?"background-color":"color";r.find("i").css(a,i)}},k=function(){var e=new T;this.update=function(t,n){e.update(t,n)},this.updateRecentColor=function(t,n,i){e.updateRecentColor(t,n,i)},this.activate=function(e){e.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(e){e.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(e,t){var n=e.find('button[data-event="fullscreen"]');n.toggleClass("active",t)},this.updateCodeview=function(e,t){var n=e.find('button[data-event="codeview"]');n.toggleClass("active",t),t?this.deactivate(e):this.activate(e)},this.get=function(e,t){var n=f.makeLayoutInfo(e).toolbar();return n.find("[data-name="+t+"]")},this.setButtonState=function(e,t,n){n=n!==!1;var i=this.get(e,t);i.toggleClass("active",n)}},D=24,A=function(){var t=e(document);this.attach=function(e,t){t.disableResizeEditor||e.statusbar().on("mousedown",n)};var n=function(e){e.preventDefault(),e.stopPropagation();var n=f.makeLayoutInfo(e.target).editable(),i=n.offset().top-t.scrollTop(),o=f.makeLayoutInfo(e.currentTarget||e.target),r=o.editor().data("options");t.on("mousemove",function(e){var t=e.clientY-(i+D);t=r.minHeight>0?Math.max(t,r.minHeight):t,t=r.maxHeight>0?Math.min(t,r.maxHeight):t,n.height(t)}).one("mouseup",function(){t.off("mousemove")})}},N=function(){var t=new T,n=function(t,n){var i=n&&n.isAirMode,o=n&&n.isLeftTop,r=e(t),s=i?r.offset():r.position(),a=o?0:r.outerHeight(!0);return{left:s.left,top:s.top+a}},i=function(e,t){e.css({display:"block",left:t.left,top:t.top})},o=20;this.update=function(r,s,a){t.update(r,s);var l=r.find(".note-link-popover");if(s.anchor){var d=l.find("a"),h=e(s.anchor).attr("href"),f=e(s.anchor).attr("target");d.attr("href",h).html(h),f?d.attr("target","_blank"):d.removeAttr("target"),i(l,n(s.anchor,{isAirMode:a}))}else l.hide();var p=r.find(".note-image-popover");s.image?i(p,n(s.image,{isAirMode:a,isLeftTop:!0})):p.hide();var m=r.find(".note-air-popover");if(a&&s.range&&!s.range.isCollapsed()){var g=u.last(s.range.getClientRects());if(g){var v=c.rect2bnd(g);i(m,{left:Math.max(v.left+v.width/2-o,0),top:v.top+v.height})}}else m.hide()},this.updateRecentColor=function(e,t,n){e.updateRecentColor(e,t,n)},this.hide=function(e){e.children().hide()}},_=function(t){var n=e(document),i=function(i){if(f.isControlSizing(i.target)){i.preventDefault(),i.stopPropagation();var o=f.makeLayoutInfo(i.target),r=o.handle(),s=o.popover(),a=o.editable(),l=o.editor(),c=r.find(".note-control-selection").data("target"),u=e(c),d=u.offset(),h=n.scrollTop(),p=l.data("options").airMode;n.on("mousemove",function(e){t.invoke("editor.resizeTo",{x:e.clientX-d.left,y:e.clientY-(d.top-h)},u,!e.shiftKey),t.invoke("handle.update",r,{image:c},p),t.invoke("popover.update",s,{image:c},p)}).one("mouseup",function(){n.off("mousemove"),t.invoke("editor.afterCommand",a)}),u.data("ratio")||u.data("ratio",u.height()/u.width())}};this.attach=function(e){e.handle().on("mousedown",i)},this.update=function(t,n,i){var o=t.find(".note-control-selection");if(n.image){var r=e(n.image),s=i?r.offset():r.position(),a={w:r.outerWidth(!0),h:r.outerHeight(!0)};o.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",n.image);var l=a.w+"x"+a.h;o.find(".note-control-selection-info").text(l)}else o.hide()},this.hide=function(e){e.children().hide()}},M=function(t){var n=e(window),i=e("html, body");this.toggle=function(e){var o=e.editor(),r=e.toolbar(),s=e.editable(),a=e.codable(),l=function(e){s.css("height",e.h),a.css("height",e.h),a.data("cmeditor")&&a.data("cmeditor").setsize(null,e.h)};o.toggleClass("fullscreen");var c=o.hasClass("fullscreen");c?(s.data("orgheight",s.css("height")),n.on("resize",function(){l({h:n.height()-r.outerHeight()})}).trigger("resize"),i.css("overflow","hidden")):(n.off("resize"),l({h:s.data("orgheight")}),i.css("overflow","visible")),t.invoke("toolbar.updateFullscreen",r,c)}};l.hasCodeMirror&&(l.isSupportAmd?require(["CodeMirror"],function(e){a=e}):a=window.CodeMirror);var F=function(e){this.sync=function(t){var n=e.invoke("codeview.isActivated",t);n&&l.hasCodeMirror&&t.codable().data("cmEditor").save()},this.isActivated=function(e){var t=e.editor();return t.hasClass("codeview")},this.toggle=function(e){this.isActivated(e)?this.deactivate(e):this.activate(e)},this.activate=function(t){var n=t.editor(),i=t.toolbar(),o=t.editable(),r=t.codable(),s=t.popover(),c=t.handle(),u=n.data("options");if(r.val(f.html(o,u.prettifyHtml)),r.height(o.height()),e.invoke("toolbar.updateCodeview",i,!0),e.invoke("popover.hide",s),e.invoke("handle.hide",c),n.addClass("codeview"),r.focus(),l.hasCodeMirror){var d=a.fromTextArea(r[0],u.codemirror);if(u.codemirror.tern){var h=new a.TernServer(u.codemirror.tern);d.ternServer=h,d.on("cursorActivity",function(e){h.updateArgHints(e)})}d.setSize(null,o.outerHeight()),r.data("cmEditor",d)}},this.deactivate=function(t){var n=t.holder(),i=t.editor(),o=t.toolbar(),r=t.editable(),s=t.codable(),a=i.data("options");if(l.hasCodeMirror){var c=s.data("cmEditor");s.val(c.getValue()),c.toTextArea()}var u=f.value(s,a.prettifyHtml)||f.emptyPara,d=r.html()!==u;r.html(u),r.height(a.height?s.height():"auto"),i.removeClass("codeview"),d&&e.bindCustomEvent(n,r.data("callbacks"),"change")(r.html(),r),r.focus(),e.invoke("toolbar.updateCodeview",o,!1)}},O=function(t){var n=e(document);this.attach=function(e,t){t.airMode||t.disableDragAndDrop?n.on("drop",function(e){
e.preventDefault()}):this.attachDragAndDropEvent(e,t)},this.attachDragAndDropEvent=function(i,o){var r=e(),s=i.editor(),a=i.dropzone(),l=a.find(".note-dropzone-message");n.on("dragenter",function(e){var n=t.invoke("codeview.isActivated",i),c=s.width()>0&&s.height()>0;n||r.length||!c||(s.addClass("dragover"),a.width(s.width()),a.height(s.height()),l.text(o.langInfo.image.dragImageHere)),r=r.add(e.target)}).on("dragleave",function(e){r=r.not(e.target),r.length||s.removeClass("dragover")}).on("drop",function(){r=e(),s.removeClass("dragover")}),a.on("dragenter",function(){a.addClass("hover"),l.text(o.langInfo.image.dropImage)}).on("dragleave",function(){a.removeClass("hover"),l.text(o.langInfo.image.dragImageHere)}),a.on("drop",function(n){var i=n.originalEvent.dataTransfer,o=f.makeLayoutInfo(n.currentTarget||n.target);if(i&&i.files&&i.files.length)n.preventDefault(),o.editable().focus(),t.insertImages(o,i.files);else for(var r=function(){o.holder().summernote("insertNode",this)},s=0,a=i.types.length;a>s;s++){var l=i.types[s],c=i.getData(l);l.toLowerCase().indexOf("text")>-1?o.holder().summernote("pasteHTML",c):e(c).each(r)}}).on("dragover",!1)}},$=function(t){var n;this.attach=function(r){l.isMSIE&&l.browserVersion>10||l.isFF?(n=e("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),r.editable().on("keydown",function(e){e.ctrlKey&&e.keyCode===v.code.V&&(t.invoke("saveRange",r.editable()),n.focus(),setTimeout(function(){i(r)},0))}),r.editable().before(n)):r.editable().on("paste",o)};var i=function(i){var o=i.editable(),r=n[0].firstChild;if(f.isImg(r)){for(var s=r.src,a=atob(s.split(",")[1]),l=new Uint8Array(a.length),c=0;c<a.length;c++)l[c]=a.charCodeAt(c);var u=new Blob([l],{type:"image/png"});u.name="clipboard.png",t.invoke("restoreRange",o),t.invoke("focus",o),t.insertImages(i,[u])}else{var d=e("<div />").html(n.html()).html();t.invoke("restoreRange",o),t.invoke("focus",o),d&&t.invoke("pasteHTML",o,d)}n.empty()},o=function(e){var n=e.originalEvent.clipboardData,i=f.makeLayoutInfo(e.currentTarget||e.target),o=i.editable();if(n&&n.items&&n.items.length){var r=u.head(n.items);"file"===r.kind&&-1!==r.type.indexOf("image/")&&t.insertImages(i,[r.getAsFile()]),t.invoke("editor.afterCommand",o)}}},I=function(t){var n=function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},i=function(e,t){e.on("keypress",function(e){e.keyCode===v.code.ENTER&&t.trigger("click")})};this.showLinkDialog=function(t,o,r){return e.Deferred(function(e){var t=o.find(".note-link-dialog"),s=t.find(".note-link-text"),a=t.find(".note-link-url"),l=t.find(".note-link-btn"),c=t.find("input[type=checkbox]");t.one("shown.bs.modal",function(){s.val(r.text),s.on("input",function(){n(l,s.val()&&a.val()),r.text=s.val()}),r.url||(r.url=r.text||"http://",n(l,r.text)),a.on("input",function(){n(l,s.val()&&a.val()),r.text||s.val(a.val())}).val(r.url).trigger("focus").trigger("select"),i(a,l),i(s,l),c.prop("checked",r.isNewWindow),l.one("click",function(n){n.preventDefault(),e.resolve({range:r.range,url:a.val(),text:s.val(),isNewWindow:c.is(":checked")}),t.modal("hide")})}).one("hidden.bs.modal",function(){s.off("input keypress"),a.off("input keypress"),l.off("click"),"pending"===e.state()&&e.reject()}).modal("show")}).promise()},this.show=function(e){var n=e.editor(),i=e.dialog(),o=e.editable(),r=e.popover(),s=t.invoke("editor.getLinkInfo",o),a=n.data("options");t.invoke("editor.saveRange",o),this.showLinkDialog(o,i,s).then(function(e){t.invoke("editor.restoreRange",o),t.invoke("editor.createLink",o,e,a),t.invoke("popover.hide",r)}).fail(function(){t.invoke("editor.restoreRange",o)})}},L=function(t){var n=function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},i=function(e,t){e.on("keypress",function(e){e.keyCode===v.code.ENTER&&t.trigger("click")})};this.show=function(e){var n=e.dialog(),i=e.editable();t.invoke("editor.saveRange",i),this.showImageDialog(i,n).then(function(n){t.invoke("editor.restoreRange",i),"string"==typeof n?t.invoke("editor.insertImage",i,n):t.insertImages(e,n)}).fail(function(){t.invoke("editor.restoreRange",i)})},this.showImageDialog=function(t,o){return e.Deferred(function(e){var t=o.find(".note-image-dialog"),r=o.find(".note-image-input"),s=o.find(".note-image-url"),a=o.find(".note-image-btn");t.one("shown.bs.modal",function(){r.replaceWith(r.clone().on("change",function(){e.resolve(this.files||this.value),t.modal("hide")}).val("")),a.click(function(n){n.preventDefault(),e.resolve(s.val()),t.modal("hide")}),s.on("keyup paste",function(e){var t;t="paste"===e.type?e.originalEvent.clipboardData.getData("text"):s.val(),n(a,t)}).val("").trigger("focus"),i(s,a)}).one("hidden.bs.modal",function(){r.off("change"),s.off("keyup paste keypress"),a.off("click"),"pending"===e.state()&&e.reject()}).modal("show")})}},R=function(t){this.showHelpDialog=function(t,n){return e.Deferred(function(e){var t=n.find(".note-help-dialog");t.one("hidden.bs.modal",function(){e.resolve()}).modal("show")}).promise()},this.show=function(e){var n=e.dialog(),i=e.editable();t.invoke("editor.saveRange",i,!0),this.showHelpDialog(i,n).then(function(){t.invoke("editor.restoreRange",i)})}},P=function(){var t=this,n=this.modules={editor:new E(this),toolbar:new k(this),statusbar:new A(this),popover:new N(this),handle:new _(this),fullscreen:new M(this),codeview:new F(this),dragAndDrop:new O(this),clipboard:new $(this),linkDialog:new I(this),imageDialog:new L(this),helpDialog:new R(this)};this.invoke=function(){var e=u.head(u.from(arguments)),t=u.tail(u.from(arguments)),n=e.split("."),i=n.length>1,o=i&&u.head(n),r=i?u.last(n):u.head(n),s=this.getModule(o),a=s[r];return a&&a.apply(s,t)},this.getModule=function(e){return this.modules[e]||this.modules.editor};var i=this.bindCustomEvent=function(e,t,n){return function(){var i=t[c.namespaceToCamel(n,"on")];return i&&i.apply(e[0],arguments),e.trigger("summernote."+n,arguments)}};this.insertImages=function(t,o){var r=t.editor(),s=t.editable(),a=t.holder(),l=s.data("callbacks"),c=r.data("options");l.onImageUpload?i(a,l,"image.upload")(o):e.each(o,function(e,t){var o=t.name;c.maximumImageFileSize&&c.maximumImageFileSize<t.size?i(a,l,"image.upload.error")(c.langInfo.image.maximumFileSizeError):g.readFileAsDataURL(t).then(function(e){n.editor.insertImage(s,e,o)}).fail(function(){i(a,l,"image.upload.error")(c.langInfo.image.maximumFileSizeError)})})};var o={showLinkDialog:function(e){n.linkDialog.show(e)},showImageDialog:function(e){n.imageDialog.show(e)},showHelpDialog:function(e){n.helpDialog.show(e)},fullscreen:function(e){n.fullscreen.toggle(e)},codeview:function(e){n.codeview.toggle(e)}},r=function(e){f.isImg(e.target)&&e.preventDefault()},s=function(e){var t=f.makeLayoutInfo(e.currentTarget||e.target);n.editor.removeBogus(t.editable()),a(e)};this.updateStyleInfo=function(e,t){if(e){var i=t.editor().data("options").airMode;i||n.toolbar.update(t.toolbar(),e),n.popover.update(t.popover(),e,i),n.handle.update(t.handle(),e,i)}};var a=function(e){var i=e.target;setTimeout(function(){var e=f.makeLayoutInfo(i),o=n.editor.currentStyle(i);t.updateStyleInfo(o,e)},0)},d=function(e){var t=f.makeLayoutInfo(e.currentTarget||e.target);n.popover.hide(t.popover()),n.handle.hide(t.handle())},h=function(t){var n=e(t.target).closest("[data-event]");n.length&&t.preventDefault()},p=function(t){var i=e(t.target).closest("[data-event]");if(i.length){var r,s=i.attr("data-event"),l=i.attr("data-value"),c=i.attr("data-hide"),d=f.makeLayoutInfo(t.target);if(-1!==e.inArray(s,["resize","floatMe","removeMedia","imageShape"])){var h=d.handle().find(".note-control-selection");r=e(h.data("target"))}if(c&&i.parents(".popover").hide(),e.isFunction(e.summernote.pluginEvents[s]))e.summernote.pluginEvents[s](t,n.editor,d,l);else if(n.editor[s]){var p=d.editable();p.focus(),n.editor[s](p,l,r),t.preventDefault()}else o[s]&&(o[s].call(this,d),t.preventDefault());if(-1!==e.inArray(s,["backColor","foreColor"])){var m=d.editor().data("options",m),g=m.airMode?n.popover:n.toolbar;g.updateRecentColor(u.head(i),s,l)}a(t)}},m=18,y=function(t,n){var i,o=e(t.target.parentNode),r=o.next(),s=o.find(".note-dimension-picker-mousecatcher"),a=o.find(".note-dimension-picker-highlighted"),l=o.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var c=e(t.target).offset();i={x:t.pageX-c.left,y:t.pageY-c.top}}else i={x:t.offsetX,y:t.offsetY};var u={c:Math.ceil(i.x/m)||1,r:Math.ceil(i.y/m)||1};a.css({width:u.c+"em",height:u.r+"em"}),s.attr("data-value",u.c+"x"+u.r),3<u.c&&u.c<n.insertTableMaxSize.col&&l.css({width:u.c+1+"em"}),3<u.r&&u.r<n.insertTableMaxSize.row&&l.css({height:u.r+1+"em"}),r.html(u.c+" x "+u.r)};this.bindKeyMap=function(t,i){var r=t.editor(),s=t.editable();s.on("keydown",function(a){var l=[];a.metaKey&&l.push("CMD"),a.ctrlKey&&!a.altKey&&l.push("CTRL"),a.shiftKey&&l.push("SHIFT");var c=v.nameFromCode[a.keyCode];c&&l.push(c);var u,d=l.join("+"),h=i[d];if(h){if(u=e.summernote.pluginEvents[d],e.isFunction(u)&&u(a,n.editor,t))return!1;u=e.summernote.pluginEvents[h],e.isFunction(u)?u(a,n.editor,t):n.editor[h]?(n.editor[h](s,r.data("options")),a.preventDefault()):o[h]&&(o[h].call(this,t),a.preventDefault())}else v.isEdit(a.keyCode)&&n.editor.afterCommand(s)})},this.attach=function(e,t){t.shortcuts&&this.bindKeyMap(e,t.keyMap[l.isMac?"mac":"pc"]),e.editable().on("mousedown",r),e.editable().on("keyup mouseup",s),e.editable().on("scroll",d),n.clipboard.attach(e,t),n.handle.attach(e,t),e.popover().on("click",p),e.popover().on("mousedown",h),n.dragAndDrop.attach(e,t),t.airMode||(e.toolbar().on("click",p),e.toolbar().on("mousedown",h),n.statusbar.attach(e,t));var i=t.airMode?e.popover():e.toolbar(),o=i.find(".note-dimension-picker-mousecatcher");o.css({width:t.insertTableMaxSize.col+"em",height:t.insertTableMaxSize.row+"em"}).on("mousemove",function(e){y(e,t)}),e.editor().data("options",t),l.isMSIE||setTimeout(function(){document.execCommand("styleWithCSS",0,t.styleWithSpan)},0);var a=new b(e.editable());e.editable().data("NoteHistory",a),e.editable().data("callbacks",{onInit:t.onInit,onFocus:t.onFocus,onBlur:t.onBlur,onKeydown:t.onKeydown,onKeyup:t.onKeyup,onMousedown:t.onMousedown,onEnter:t.onEnter,onPaste:t.onPaste,onBeforeCommand:t.onBeforeCommand,onChange:t.onChange,onImageUpload:t.onImageUpload,onImageUploadError:t.onImageUploadError,onMediaDelete:t.onMediaDelete,onToolbarClick:t.onToolbarClick});var c=n.editor.styleFromNode(e.editable());this.updateStyleInfo(c,e)},this.attachCustomEvent=function(t,n){var o=t.holder(),r=t.editable(),s=r.data("callbacks");r.focus(i(o,s,"focus")),r.blur(i(o,s,"blur")),r.keydown(function(e){e.keyCode===v.code.ENTER&&i(o,s,"enter").call(this,e),i(o,s,"keydown").call(this,e)}),r.keyup(i(o,s,"keyup")),r.on("mousedown",i(o,s,"mousedown")),r.on("mouseup",i(o,s,"mouseup")),r.on("scroll",i(o,s,"scroll")),r.on("paste",i(o,s,"paste"));var a=l.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";r.on(a,function(){i(o,s,"change")(r.html(),r)}),n.airMode||(t.toolbar().click(i(o,s,"toolbar.click")),t.popover().click(i(o,s,"popover.click"))),f.isTextarea(u.head(o))&&o.closest("form").submit(function(e){t.holder().val(t.holder().code()),i(o,s,"submit").call(this,e,o.code())}),f.isTextarea(u.head(o))&&n.textareaAutoSync&&o.on("summernote.change",function(){t.holder().val(t.holder().code())}),i(o,s,"init")(t);for(var c=0,d=e.summernote.plugins.length;d>c;c++)e.isFunction(e.summernote.plugins[c].init)&&e.summernote.plugins[c].init(t)},this.detach=function(e,t){e.holder().off(),e.editable().off(),e.popover().off(),e.handle().off(),e.dialog().off(),t.airMode||(e.dropzone().off(),e.toolbar().off(),e.statusbar().off())}},U=function(){var t=function(e,t){var n=t.event,i=t.value,o=t.title,r=t.className,s=t.dropdown,a=t.hide;return(s?'<div class="btn-group'+(r?" "+r:"")+'">':"")+'<button type="button" class="btn btn-default btn-sm'+(!s&&r?" "+r:"")+(s?" dropdown-toggle":"")+'"'+(s?' data-toggle="dropdown"':"")+(o?' title="'+o+'"':"")+(n?' data-event="'+n+'"':"")+(i?" data-value='"+i+"'":"")+(a?" data-hide='"+a+"'":"")+' tabindex="-1">'+e+(s?' <span class="caret"></span>':"")+"</button>"+(s||"")+(s?"</div>":"")},n=function(e,n){var i='<i class="'+e+'"></i>';return t(i,n)},i=function(t,n){var i=e('<div class="'+t+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content"></div></div>');return i.find(".popover-content").append(n),i},o=function(e,t,n,i){return'<div class="'+e+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(t?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+t+"</h4></div>":"")+'<div class="modal-body">'+n+"</div>"+(i?'<div class="modal-footer">'+i+"</div>":"")+"</div></div></div>"},r=function(e,t,n){var i="dropdown-menu"+(t?" "+t:"");return n=n||"ul",e instanceof Array&&(e=e.join("")),"<"+n+' class="'+i+'">'+e+"</"+n+">"},s={picture:function(e,t){return n(t.iconPrefix+t.icons.image.image,{event:"showImageDialog",title:e.image.image,hide:!0})},link:function(e,t){return n(t.iconPrefix+t.icons.link.link,{event:"showLinkDialog",title:e.link.link,hide:!0})},table:function(e,t){var i=['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display"> 1 x 1 </div>'];return n(t.iconPrefix+t.icons.table.table,{title:e.table.table,dropdown:r(i,"note-table")})},style:function(e,t){var i=t.styleTags.reduce(function(t,n){var i=e.style["p"===n?"normal":n];return t+'<li><a data-event="formatBlock" href="#" data-value="'+n+'">'+("p"===n||"pre"===n?i:"<"+n+">"+i+"</"+n+">")+"</a></li>"},"");return n(t.iconPrefix+t.icons.style.style,{title:e.style.style,dropdown:r(i)})},fontname:function(e,n){var i=[],o=n.fontNames.reduce(function(e,t){return l.isFontInstalled(t)||u.contains(n.fontNamesIgnoreCheck,t)?(i.push(t),e+'<li><a data-event="fontName" href="#" data-value="'+t+'" style="font-family:\''+t+'\'"><i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"):e},""),s=l.isFontInstalled(n.defaultFontName),a=s?n.defaultFontName:i[0],c='<span class="note-current-fontname">'+a+"</span>";return t(c,{title:e.font.name,className:"note-fontname",dropdown:r(o,"note-check")})},fontsize:function(e,n){var i=n.fontSizes.reduce(function(e,t){return e+'<li><a data-event="fontSize" href="#" data-value="'+t+'"><i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"},""),o='<span class="note-current-fontsize">11</span>';return t(o,{title:e.font.size,className:"note-fontsize",dropdown:r(i,"note-check")})},color:function(e,n){var i='<i class="'+n.iconPrefix+n.icons.color.recent+'" style="color:black;background-color:yellow;"></i>',o=t(i,{className:"note-recent-color",title:e.color.recent,event:"color",value:'{"backColor":"yellow"}'}),s=['<li><div class="btn-group">','<div class="note-palette-title">'+e.color.background+"</div>",'<div class="note-color-reset" data-event="backColor"',' data-value="inherit" title="'+e.color.transparent+'">'+e.color.setTransparent+"</div>",'<div class="note-color-palette" data-target-event="backColor"></div>','</div><div class="btn-group">','<div class="note-palette-title">'+e.color.foreground+"</div>",'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+e.color.reset+'">',e.color.resetToDefault,"</div>",'<div class="note-color-palette" data-target-event="foreColor"></div>',"</div></li>"],a=t("",{title:e.color.more,dropdown:r(s)});return o+a},bold:function(e,t){return n(t.iconPrefix+t.icons.font.bold,{event:"bold",title:e.font.bold})},italic:function(e,t){return n(t.iconPrefix+t.icons.font.italic,{event:"italic",title:e.font.italic})},underline:function(e,t){return n(t.iconPrefix+t.icons.font.underline,{event:"underline",title:e.font.underline})},strikethrough:function(e,t){return n(t.iconPrefix+t.icons.font.strikethrough,{event:"strikethrough",title:e.font.strikethrough})},superscript:function(e,t){return n(t.iconPrefix+t.icons.font.superscript,{event:"superscript",title:e.font.superscript})},subscript:function(e,t){return n(t.iconPrefix+t.icons.font.subscript,{event:"subscript",title:e.font.subscript})},clear:function(e,t){return n(t.iconPrefix+t.icons.font.clear,{event:"removeFormat",title:e.font.clear})},ul:function(e,t){return n(t.iconPrefix+t.icons.lists.unordered,{event:"insertUnorderedList",title:e.lists.unordered})},ol:function(e,t){return n(t.iconPrefix+t.icons.lists.ordered,{event:"insertOrderedList",title:e.lists.ordered})},paragraph:function(e,t){var i=n(t.iconPrefix+t.icons.paragraph.left,{title:e.paragraph.left,event:"justifyLeft"}),o=n(t.iconPrefix+t.icons.paragraph.center,{title:e.paragraph.center,event:"justifyCenter"}),s=n(t.iconPrefix+t.icons.paragraph.right,{title:e.paragraph.right,event:"justifyRight"}),a=n(t.iconPrefix+t.icons.paragraph.justify,{title:e.paragraph.justify,event:"justifyFull"}),l=n(t.iconPrefix+t.icons.paragraph.outdent,{title:e.paragraph.outdent,event:"outdent"}),c=n(t.iconPrefix+t.icons.paragraph.indent,{title:e.paragraph.indent,event:"indent"}),u=['<div class="note-align btn-group">',i+o+s+a,'</div><div class="note-list btn-group">',c+l,"</div>"];return n(t.iconPrefix+t.icons.paragraph.paragraph,{title:e.paragraph.paragraph,dropdown:r(u,"","div")})},height:function(e,t){var i=t.lineHeights.reduce(function(e,n){return e+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(n)+'"><i class="'+t.iconPrefix+t.icons.misc.check+'"></i> '+n+"</a></li>"},"");return n(t.iconPrefix+t.icons.font.height,{title:e.font.height,dropdown:r(i,"note-check")})},help:function(e,t){return n(t.iconPrefix+t.icons.options.help,{event:"showHelpDialog",title:e.options.help,hide:!0})},fullscreen:function(e,t){return n(t.iconPrefix+t.icons.options.fullscreen,{event:"fullscreen",title:e.options.fullscreen})},codeview:function(e,t){return n(t.iconPrefix+t.icons.options.codeview,{event:"codeview",title:e.options.codeview})},undo:function(e,t){return n(t.iconPrefix+t.icons.history.undo,{event:"undo",title:e.history.undo})},redo:function(e,t){return n(t.iconPrefix+t.icons.history.redo,{event:"redo",title:e.history.redo})},hr:function(e,t){return n(t.iconPrefix+t.icons.hr.insert,{event:"insertHorizontalRule",title:e.hr.insert})}},a=function(o,r){var a=function(){var e=n(r.iconPrefix+r.icons.link.edit,{title:o.link.edit,event:"showLinkDialog",hide:!0}),t=n(r.iconPrefix+r.icons.link.unlink,{title:o.link.unlink,event:"unlink"}),s='<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+e+t+"</div>";return i("note-link-popover",s)},l=function(){var e=t('<span class="note-fontsize-10">100%</span>',{title:o.image.resizeFull,event:"resize",value:"1"}),s=t('<span class="note-fontsize-10">50%</span>',{title:o.image.resizeHalf,event:"resize",value:"0.5"}),a=t('<span class="note-fontsize-10">25%</span>',{title:o.image.resizeQuarter,event:"resize",value:"0.25"}),l=n(r.iconPrefix+r.icons.image.floatLeft,{title:o.image.floatLeft,event:"floatMe",value:"left"}),c=n(r.iconPrefix+r.icons.image.floatRight,{title:o.image.floatRight,event:"floatMe",value:"right"}),u=n(r.iconPrefix+r.icons.image.floatNone,{title:o.image.floatNone,event:"floatMe",value:"none"}),d=n(r.iconPrefix+r.icons.image.shapeRounded,{title:o.image.shapeRounded,event:"imageShape",value:"img-rounded"}),h=n(r.iconPrefix+r.icons.image.shapeCircle,{title:o.image.shapeCircle,event:"imageShape",value:"img-circle"}),f=n(r.iconPrefix+r.icons.image.shapeThumbnail,{title:o.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),p=n(r.iconPrefix+r.icons.image.shapeNone,{title:o.image.shapeNone,event:"imageShape",value:""}),m=n(r.iconPrefix+r.icons.image.remove,{title:o.image.remove,event:"removeMedia",value:"none"}),g=(r.disableResizeImage?"":'<div class="btn-group">'+e+s+a+"</div>")+'<div class="btn-group">'+l+c+u+'</div><br><div class="btn-group">'+d+h+f+p+'</div><div class="btn-group">'+m+"</div>";return i("note-image-popover",g)},c=function(){for(var t=e("<div />"),n=0,a=r.airPopover.length;a>n;n++){for(var l=r.airPopover[n],c=e('<div class="note-'+l[0]+' btn-group">'),u=0,d=l[1].length;d>u;u++){var h=e(s[l[1][u]](o,r));h.attr("data-name",l[1][u]),c.append(h)}t.append(c)}return i("note-air-popover",t.children())},u=e('<div class="note-popover" />');return u.append(a()),u.append(l()),r.airMode&&u.append(c()),u},d=function(e){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="'+(e.disableResizeImage?"note-control-holder":"note-control-sizing")+' note-control-se"></div>'+(e.disableResizeImage?"":'<div class="note-control-selection-info"></div>')+"</div></div>"},h=function(e,t){var n="note-shortcut-col col-xs-6 note-shortcut-",i=[];for(var o in t)t.hasOwnProperty(o)&&i.push('<div class="'+n+'key">'+t[o].kbd+'</div><div class="'+n+'name">'+t[o].text+"</div>");return'<div class="note-shortcut-row row"><div class="'+n+'title col-xs-offset-6">'+e+'</div></div><div class="note-shortcut-row row">'+i.join('</div><div class="note-shortcut-row row">')+"</div>"},p=function(e){var t=[{kbd:"â + B",text:e.font.bold},{kbd:"â + I",text:e.font.italic},{kbd:"â + U",text:e.font.underline},{kbd:"â + \\",text:e.font.clear}];return h(e.shortcut.textFormatting,t)},m=function(e){var t=[{kbd:"â + Z",text:e.history.undo},{kbd:"â + â§ + Z",text:e.history.redo},{kbd:"â + ]",text:e.paragraph.indent},{kbd:"â + [",text:e.paragraph.outdent},{kbd:"â + ENTER",text:e.hr.insert}];return h(e.shortcut.action,t)},g=function(e){var t=[{kbd:"â + â§ + L",text:e.paragraph.left},{kbd:"â + â§ + E",text:e.paragraph.center},{kbd:"â + â§ + R",text:e.paragraph.right},{kbd:"â + â§ + J",text:e.paragraph.justify},{kbd:"â + â§ + NUM7",text:e.lists.ordered},{kbd:"â + â§ + NUM8",text:e.lists.unordered}];return h(e.shortcut.paragraphFormatting,t)},v=function(e){var t=[{kbd:"â + NUM0",text:e.style.normal},{kbd:"â + NUM1",text:e.style.h1},{kbd:"â + NUM2",text:e.style.h2},{kbd:"â + NUM3",text:e.style.h3},{kbd:"â + NUM4",text:e.style.h4},{kbd:"â + NUM5",text:e.style.h5},{kbd:"â + NUM6",text:e.style.h6}];return h(e.shortcut.documentStyle,t)},b=function(e,t){var n=t.extraKeys,i=[];for(var o in n)n.hasOwnProperty(o)&&i.push({kbd:o,text:n[o]});return h(e.shortcut.extraKeys,i)},y=function(e,t){var n='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"',i=["<div "+n+">"+m(e,t)+"</div><div "+n+">"+p(e,t)+"</div>","<div "+n+">"+v(e,t)+"</div><div "+n+">"+g(e,t)+"</div>"];return t.extraKeys&&i.push("<div "+n+">"+b(e,t)+"</div>"),'<div class="note-shortcut-row row">'+i.join('</div><div class="note-shortcut-row row">')+"</div>"},w=function(e){return e.replace(/â/g,"Ctrl").replace(/â§/g,"Shift")},x={image:function(e,t){var n="";if(t.maximumImageFileSize){var i=Math.floor(Math.log(t.maximumImageFileSize)/Math.log(1024)),r=1*(t.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B";n="<small>"+e.image.maximumFileSize+" : "+r+"</small>"}var s='<div class="form-group row note-group-select-from-files"><label>'+e.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+n+'</div><div class="form-group row"><label>'+e.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',a='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+e.image.insert+"</button>";return o("note-image-dialog",e.image.insert,s,a)},link:function(e,t){var n='<div class="form-group row"><label>'+e.link.textToDisplay+'</label><input class="note-link-text form-control col-md-12" type="text" /></div><div class="form-group row"><label>'+e.link.url+'</label><input class="note-link-url form-control col-md-12" type="text" value="http://" /></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+e.link.openInNewWindow+"</label></div>"),i='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+e.link.insert+"</button>";return o("note-link-dialog",e.link.insert,n,i)},help:function(e,t){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+e.shortcut.close+'</a><div class="title">'+e.shortcut.shortcuts+"</div>"+(l.isMac?y(e,t):w(y(e,t)))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.16</a> Â· <a href="//github.com/summernote/summernote" target="_blank">Project</a> Â· <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>';return o("note-help-dialog","",n,"")}},C=function(t,n){var i="";return e.each(x,function(e,o){i+=o(t,n)}),'<div class="note-dialog">'+i+"</div>"},S=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'},E=function(e){return l.isMac&&(e=e.replace("CMD","â").replace("SHIFT","â§")),e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},T=function(t,n,i){var o=c.invertObject(n),r=t.find("button");r.each(function(t,n){var i=e(n),r=o[i.data("event")];r&&i.attr("title",function(e,t){return t+" ("+E(r)+")"})}).tooltip({container:"body",trigger:"hover",placement:i||"top"}).on("click",function(){e(this).tooltip("hide")})},k=function(t,n){var i=n.colors;t.find(".note-color-palette").each(function(){for(var t=e(this),n=t.attr("data-target-event"),o=[],r=0,s=i.length;s>r;r++){for(var a=i[r],l=[],c=0,u=a.length;u>c;c++){var d=a[c];l.push(['<button type="button" class="note-color-btn" style="background-color:',d,';" data-event="',n,'" data-value="',d,'" title="',d,'" data-toggle="button" tabindex="-1"></button>'].join(""))}o.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(o.join(""))})};this.createLayoutByAirMode=function(t,n){var i=n.langInfo,o=n.keyMap[l.isMac?"mac":"pc"],r=c.uniqueId();t.addClass("note-air-editor note-editable panel-body"),t.attr({id:"note-editor-"+r,contentEditable:!0});var s=document.body,u=e(a(i,n));u.addClass("note-air-layout"),u.attr("id","note-popover-"+r),u.appendTo(s),T(u,o),k(u,n);var h=e(d(n));h.addClass("note-air-layout"),h.attr("id","note-handle-"+r),h.appendTo(s);var f=e(C(i,n));f.addClass("note-air-layout"),f.attr("id","note-dialog-"+r),f.find("button.close, a.modal-close").click(function(){e(this).closest(".modal").modal("hide")}),f.appendTo(s)},this.createLayoutByFrame=function(t,n){var i=n.langInfo,o=e('<div class="note-editor panel panel-default" />');n.width&&o.width(n.width),n.height>0&&e('<div class="note-statusbar">'+(n.disableResizeEditor?"":S())+"</div>").prependTo(o);var r=e('<div class="note-editing-area" />'),c=!t.is(":disabled"),u=e('<div class="note-editable panel-body" contentEditable="'+c+'"></div>').prependTo(r);n.height&&u.height(n.height),n.direction&&u.attr("dir",n.direction);var h=t.attr("placeholder")||n.placeholder;h&&u.attr("data-placeholder",h),u.html(f.html(t)||f.emptyPara),e('<textarea class="note-codable"></textarea>').prependTo(r);var p=e(a(i,n)).prependTo(r);k(p,n),T(p,N),e(d(n)).prependTo(r),r.prependTo(o);for(var m=e('<div class="note-toolbar panel-heading" />'),g=0,v=n.toolbar.length;v>g;g++){for(var b=n.toolbar[g][0],y=n.toolbar[g][1],w=e('<div class="note-'+b+' btn-group" />'),x=0,E=y.length;E>x;x++){var D=s[y[x]];if(e.isFunction(D)){var A=e(D(i,n));A.attr("data-name",y[x]),w.append(A)}}m.append(w)}var N=n.keyMap[l.isMac?"mac":"pc"];k(m,n),T(m,N,"bottom"),m.prependTo(o),e('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(o);var _=n.dialogsInBody?e(document.body):o,M=e(C(i,n)).prependTo(_);M.find("button.close, a.modal-close").click(function(){e(this).closest(".modal").modal("hide")}),o.insertAfter(t),t.hide()},this.hasNoteEditor=function(e){return this.noteEditorFromHolder(e).length>0},this.noteEditorFromHolder=function(t){return t.hasClass("note-air-editor")?t:t.next().hasClass("note-editor")?t.next():e()},this.createLayout=function(e,t){t.airMode?this.createLayoutByAirMode(e,t):this.createLayoutByFrame(e,t)},this.layoutInfoFromHolder=function(e){var t=this.noteEditorFromHolder(e);if(t.length)return t.data("holder",e),f.buildLayoutInfo(t)},this.removeLayout=function(e,t,n){n.airMode?(e.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),t.popover().remove(),t.handle().remove(),t.dialog().remove()):(e.html(t.editable().html()),n.dialogsInBody&&t.dialog().remove(),t.editor().remove(),e.show())},this.getTemplate=function(){return{button:t,iconButton:n,dialog:o}},this.addButtonInfo=function(e,t){s[e]=t},this.addDialogInfo=function(e,t){x[e]=t}};e.summernote=e.summernote||{},e.extend(e.summernote,m);var B=new U,z=new P;e.extend(e.summernote,{renderer:B,eventHandler:z,core:{agent:l,list:u,dom:f,range:p},pluginEvents:{},plugins:[]}),e.summernote.addPlugin=function(t){e.summernote.plugins.push(t),t.buttons&&e.each(t.buttons,function(e,t){B.addButtonInfo(e,t)}),t.dialogs&&e.each(t.dialogs,function(e,t){B.addDialogInfo(e,t)}),t.events&&e.each(t.events,function(t,n){e.summernote.pluginEvents[t]=n}),t.langs&&e.each(t.langs,function(t,n){e.summernote.lang[t]&&e.extend(e.summernote.lang[t],n)}),t.options&&e.extend(e.summernote.options,t.options)},e.fn.extend({summernote:function(){var t=e.type(u.head(arguments)),n="string"===t,i="object"===t,o=i?u.head(arguments):{};if(o=e.extend({},e.summernote.options,o),o.icons=e.extend({},e.summernote.options.icons,o.icons),o.langInfo=e.extend(!0,{},e.summernote.lang["en-US"],e.summernote.lang[o.lang]),!n&&i)for(var r=0,s=e.summernote.plugins.length;s>r;r++){var a=e.summernote.plugins[r];o.plugin[a.name]&&(e.summernote.plugins[r]=e.extend(!0,a,o.plugin[a.name]))}this.each(function(t,n){var i=e(n);if(!B.hasNoteEditor(i)){B.createLayout(i,o);var r=B.layoutInfoFromHolder(i);i.data("layoutInfo",r),z.attach(r,o),z.attachCustomEvent(r,o)}});var l=this.first();if(l.length){var c=B.layoutInfoFromHolder(l);if(n){var d=u.head(u.from(arguments)),h=u.tail(u.from(arguments)),f=[d,c.editable()].concat(h);return z.invoke.apply(z,f)}o.focus&&c.editable().focus()}return this},code:function(t){if(void 0===t){var n=this.first();if(!n.length)return;var i=B.layoutInfoFromHolder(n),o=i&&i.editable();if(o&&o.length){var r=z.invoke("codeview.isActivated",i);return z.invoke("codeview.sync",i),r?i.codable().val():i.editable().html()}return f.value(n)}return this.each(function(n,i){var o=B.layoutInfoFromHolder(e(i)),r=o&&o.editable();r&&r.html(t)}),this},destroy:function(){return this.each(function(t,n){var i=e(n);if(B.hasNoteEditor(i)){var o=B.layoutInfoFromHolder(i),r=o.editor().data("options");z.detach(o,r),B.removeLayout(i,o,r)}}),this}})}),function(e,t,n){var i=function(i){function o(e){var t,n,r={};i.each(e,function(i){(t=i.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(t[1]+" ")&&(n=i.replace(t[0],t[2].toLowerCase()),r[n]=i,"o"===t[1]&&o(e[i]))}),e._hungarianMap=r}function r(e,t,s){e._hungarianMap||o(e);var a;i.each(t,function(o){a=e._hungarianMap[o],a===n||!s&&t[a]!==n||("o"===a.charAt(0)?(t[a]||(t[a]={}),i.extend(!0,t[a],t[o]),r(e[a],t[a],s)):t[a]=t[o])})}function s(e){var t=qe.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&$e(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&$e(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&je(e)}function a(e){if(ft(e,"ordering","bSort"),ft(e,"orderMulti","bSortMulti"),ft(e,"orderClasses","bSortClasses"),ft(e,"orderCellsTop","bSortCellsTop"),ft(e,"order","aaSorting"),ft(e,"orderFixed","aaSortingFixed"),
ft(e,"paging","bPaginate"),ft(e,"pagingType","sPaginationType"),ft(e,"pageLength","iDisplayLength"),ft(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&r(qe.models.oSearch,e[t])}function l(e){ft(e,"orderable","bSortable"),ft(e,"orderData","aDataSort"),ft(e,"orderSequence","asSorting"),ft(e,"orderDataType","sortDataType");var t=e.aDataSort;t&&!i.isArray(t)&&(e.aDataSort=[t])}function c(e){var e=e.oBrowser,t=i("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(i("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(i('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),n=t.find(".test");e.bScrollOversize=100===n[0].offsetWidth,e.bScrollbarLeft=1!==Math.round(n.offset().left),e.bBounding=!!t[0].getBoundingClientRect().width,t.remove()}function u(e,t,i,o,r,s){var a,l=!1;for(i!==n&&(a=i,l=!0);o!==r;)e.hasOwnProperty(o)&&(a=l?t(a,e[o],o,e):e[o],l=!0,o+=s);return a}function d(e,n){var o=qe.defaults.column,r=e.aoColumns.length,o=i.extend({},qe.models.oColumn,o,{nTh:n?n:t.createElement("th"),sTitle:o.sTitle?o.sTitle:n?n.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[r],mData:o.mData?o.mData:r,idx:r});e.aoColumns.push(o),o=e.aoPreSearchCols,o[r]=i.extend({},qe.models.oSearch,o[r]),h(e,r,i(n).data())}function h(e,t,o){var t=e.aoColumns[t],s=e.oClasses,a=i(t.nTh);if(!t.sWidthOrig){t.sWidthOrig=a.attr("width")||null;var c=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(t.sWidthOrig=c[1])}o!==n&&null!==o&&(l(o),r(qe.defaults.column,o),o.mDataProp!==n&&!o.mData&&(o.mData=o.mDataProp),o.sType&&(t._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),i.extend(t,o),$e(t,o,"sWidth","sWidthOrig"),o.iDataSort!==n&&(t.aDataSort=[o.iDataSort]),$e(t,o,"aDataSort"));var u=t.mData,d=T(u),h=t.mRender?T(t.mRender):null,o=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};t._bAttrSrc=i.isPlainObject(u)&&(o(u.sort)||o(u.type)||o(u.filter)),t.fnGetData=function(e,t,i){var o=d(e,t,n,i);return h&&t?h(o,t,e,i):o},t.fnSetData=function(e,t,n){return k(u)(e,t,n)},"number"!=typeof u&&(e._rowReadObject=!0),e.oFeatures.bSort||(t.bSortable=!1,a.addClass(s.sSortableNone)),e=-1!==i.inArray("asc",t.asSorting),o=-1!==i.inArray("desc",t.asSorting),t.bSortable&&(e||o)?e&&!o?(t.sSortingClass=s.sSortableAsc,t.sSortingClassJUI=s.sSortJUIAscAllowed):!e&&o?(t.sSortingClass=s.sSortableDesc,t.sSortingClassJUI=s.sSortJUIDescAllowed):(t.sSortingClass=s.sSortable,t.sSortingClassJUI=s.sSortJUI):(t.sSortingClass=s.sSortableNone,t.sSortingClassJUI="")}function f(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;ge(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}t=e.oScroll,(""!==t.sY||""!==t.sX)&&pe(e),Pe(e,null,"column-sizing",[e])}function p(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(e,t){var n=v(e,"bVisible"),n=i.inArray(t,n);return-1!==n?n:null}function g(e){return v(e,"bVisible").length}function v(e,t){var n=[];return i.map(e.aoColumns,function(e,i){e[t]&&n.push(i)}),n}function b(e){var t,i,o,r,s,a,l,c,u,d=e.aoColumns,h=e.aoData,f=qe.ext.type.detect;for(t=0,i=d.length;t<i;t++)if(l=d[t],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(o=0,r=f.length;o<r;o++){for(s=0,a=h.length;s<a&&(u[s]===n&&(u[s]=C(e,s,t,"type")),c=f[o](u[s],e),c||o===f.length-1)&&"html"!==c;s++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function y(e,t,o,r){var s,a,l,c,u,h,f=e.aoColumns;if(t)for(s=t.length-1;0<=s;s--){h=t[s];var p=h.targets!==n?h.targets:h.aTargets;for(i.isArray(p)||(p=[p]),a=0,l=p.length;a<l;a++)if("number"==typeof p[a]&&0<=p[a]){for(;f.length<=p[a];)d(e);r(p[a],h)}else if("number"==typeof p[a]&&0>p[a])r(f.length+p[a],h);else if("string"==typeof p[a])for(c=0,u=f.length;c<u;c++)("_all"==p[a]||i(f[c].nTh).hasClass(p[a]))&&r(c,h)}if(o)for(s=0,e=o.length;s<e;s++)r(s,o[s])}function w(e,t,o,r){var s=e.aoData.length,a=i.extend(!0,{},qe.models.oRow,{src:o?"dom":"data",idx:s});a._aData=t,e.aoData.push(a);for(var l=e.aoColumns,c=0,u=l.length;c<u;c++)o&&S(e,s,c,C(e,s,c)),l[c].sType=null;return e.aiDisplayMaster.push(s),t=e.rowIdFn(t),t!==n&&(e.aIds[t]=a),(o||!e.oFeatures.bDeferRender)&&F(e,s,o,r),s}function x(e,t){var n;return t instanceof i||(t=i(t)),t.map(function(t,i){return n=M(e,i),w(e,n.data,i,n.cells)})}function C(e,t,i,o){var r=e.iDraw,s=e.aoColumns[i],a=e.aoData[t]._aData,l=s.sDefaultContent,i=s.fnGetData(a,o,{settings:e,row:t,col:i});if(i===n)return e.iDrawError!=r&&null===l&&(Oe(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+t,4),e.iDrawError=r),l;if(i!==a&&null!==i||null===l){if("function"==typeof i)return i.call(a)}else i=l;return null===i&&"display"==o?"":i}function S(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}function E(e){return i.map(e.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\./g,".")})}function T(e){if(i.isPlainObject(e)){var t={};return i.each(e,function(e,n){n&&(t[e]=T(n))}),function(e,i,o,r){var s=t[i]||t._;return s!==n?s(e,i,o,r):e}}if(null===e)return function(e){return e};if("function"==typeof e)return function(t,n,i,o){return e(t,n,i,o)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var o=function(e,t,i){var r,s;if(""!==i){s=E(i);for(var a=0,l=s.length;a<l;a++){if(i=s[a].match(pt),r=s[a].match(mt),i){for(s[a]=s[a].replace(pt,""),""!==s[a]&&(e=e[s[a]]),r=[],s.splice(0,a+1),s=s.join("."),a=0,l=e.length;a<l;a++)r.push(o(e[a],t,s));e=i[0].substring(1,i[0].length-1),e=""===e?r:r.join(e);break}if(r)s[a]=s[a].replace(mt,""),e=e[s[a]]();else{if(null===e||e[s[a]]===n)return n;e=e[s[a]]}}}return e};return function(t,n){return o(t,n,e)}}return function(t){return t[e]}}function k(e){if(i.isPlainObject(e))return k(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var t=function(e,i,o){var r,o=E(o);r=o[o.length-1];for(var s,a,l=0,c=o.length-1;l<c;l++){if(s=o[l].match(pt),a=o[l].match(mt),s){for(o[l]=o[l].replace(pt,""),e[o[l]]=[],r=o.slice(),r.splice(0,l+1),s=r.join("."),a=0,c=i.length;a<c;a++)r={},t(r,i[a],s),e[o[l]].push(r);return}a&&(o[l]=o[l].replace(mt,""),e=e[o[l]](i)),null!==e[o[l]]&&e[o[l]]!==n||(e[o[l]]={}),e=e[o[l]]}r.match(mt)?e[r.replace(mt,"")](i):e[r.replace(pt,"")]=i};return function(n,i){return t(n,i,e)}}return function(t,n){t[e]=n}}function D(e){return lt(e.aoData,"_aData")}function A(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function N(e,t,i){for(var o=-1,r=0,s=e.length;r<s;r++)e[r]==t?o=r:e[r]>t&&e[r]--;-1!=o&&i===n&&e.splice(o,1)}function _(e,t,i,o){var r,s=e.aoData[t],a=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=C(e,t,i,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var l=s.anCells;if(l)if(o!==n)a(l[o],o);else for(i=0,r=l.length;i<r;i++)a(l[i],i)}else s._aData=M(e,s,o,o===n?n:s._aData).data;if(s._aSortData=null,s._aFilterData=null,a=e.aoColumns,o!==n)a[o].sType=null;else{for(i=0,r=a.length;i<r;i++)a[i].sType=null;O(e,s)}}function M(e,t,o,r){var s,a,l,c=[],u=t.firstChild,d=0,h=e.aoColumns,f=e._rowReadObject,r=r!==n?r:f?{}:[],p=function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),k(e)(r,t.getAttribute(n)))}},m=function(e){o!==n&&o!==d||(a=h[d],l=i.trim(e.innerHTML),a&&a._bAttrSrc?(k(a.mData._)(r,l),p(a.mData.sort,e),p(a.mData.type,e),p(a.mData.filter,e)):f?(a._setter||(a._setter=k(a.mData)),a._setter(r,l)):r[d]=l),d++};if(u)for(;u;)s=u.nodeName.toUpperCase(),"TD"!=s&&"TH"!=s||(m(u),c.push(u)),u=u.nextSibling;else{c=t.anCells,s=0;for(var g=c.length;s<g;s++)m(c[s])}return(t=u?t:t.nTr)&&(t=t.getAttribute("id"))&&k(e.rowId)(r,t),{data:r,cells:c}}function F(e,n,i,o){var r,s,a,l,c,u=e.aoData[n],d=u._aData,h=[];if(null===u.nTr){for(r=i||t.createElement("tr"),u.nTr=r,u.anCells=h,r._DT_RowIndex=n,O(e,u),l=0,c=e.aoColumns.length;l<c;l++)a=e.aoColumns[l],s=i?o[l]:t.createElement(a.sCellType),h.push(s),i&&!a.mRender&&a.mData===l||(s.innerHTML=C(e,n,l,"display")),a.sClass&&(s.className+=" "+a.sClass),a.bVisible&&!i?r.appendChild(s):!a.bVisible&&i&&s.parentNode.removeChild(s),a.fnCreatedCell&&a.fnCreatedCell.call(e.oInstance,s,C(e,n,l),d,n,l);Pe(e,"aoRowCreatedCallback",null,[r,d,n])}u.nTr.setAttribute("role","row")}function O(e,t){var n=t.nTr,o=t._aData;if(n){var r=e.rowIdFn(o);r&&(n.id=r),o.DT_RowClass&&(r=o.DT_RowClass.split(" "),t.__rowc=t.__rowc?ht(t.__rowc.concat(r)):r,i(n).removeClass(t.__rowc.join(" ")).addClass(o.DT_RowClass)),o.DT_RowAttr&&i(n).attr(o.DT_RowAttr),o.DT_RowData&&i(n).data(o.DT_RowData)}}function $(e){var t,n,o,r,s,a=e.nTHead,l=e.nTFoot,c=0===i("th, td",a).length,u=e.oClasses,d=e.aoColumns;for(c&&(r=i("<tr/>").appendTo(a)),t=0,n=d.length;t<n;t++)s=d[t],o=i(s.nTh).addClass(s.sClass),c&&o.appendTo(r),e.oFeatures.bSort&&(o.addClass(s.sSortingClass),!1!==s.bSortable&&(o.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),De(e,s.nTh,t))),s.sTitle!=o[0].innerHTML&&o.html(s.sTitle),Be(e,"header")(e,o,s,u);if(c&&U(e.aoHeader,a),i(a).find(">tr").attr("role","row"),i(a).find(">tr>th, >tr>td").addClass(u.sHeaderTH),i(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l)for(e=e.aoFooter[0],t=0,n=e.length;t<n;t++)s=d[t],s.nTf=e[t].cell,s.sClass&&i(s.nTf).addClass(s.sClass)}function I(e,t,o){var r,s,a,l,c=[],u=[],d=e.aoColumns.length;if(t){for(o===n&&(o=!1),r=0,s=t.length;r<s;r++){for(c[r]=t[r].slice(),c[r].nTr=t[r].nTr,a=d-1;0<=a;a--)!e.aoColumns[a].bVisible&&!o&&c[r].splice(a,1);u.push([])}for(r=0,s=c.length;r<s;r++){if(e=c[r].nTr)for(;a=e.firstChild;)e.removeChild(a);for(a=0,t=c[r].length;a<t;a++)if(l=d=1,u[r][a]===n){for(e.appendChild(c[r][a].cell),u[r][a]=1;c[r+d]!==n&&c[r][a].cell==c[r+d][a].cell;)u[r+d][a]=1,d++;for(;c[r][a+l]!==n&&c[r][a].cell==c[r][a+l].cell;){for(o=0;o<d;o++)u[r+o][a+l]=1;l++}i(c[r][a].cell).attr("rowspan",d).attr("colspan",l)}}}}function L(e){var t=Pe(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==i.inArray(!1,t))he(e,!1);else{var t=[],o=0,r=e.asStripeClasses,s=r.length,a=e.oLanguage,l=e.iInitDisplayStart,c="ssp"==ze(e),u=e.aiDisplay;e.bDrawing=!0,l!==n&&-1!==l&&(e._iDisplayStart=c?l:l>=e.fnRecordsDisplay()?0:l,e.iInitDisplayStart=-1);var l=e._iDisplayStart,d=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,he(e,!1);else if(c){if(!e.bDestroying&&!H(e))return}else e.iDraw++;if(0!==u.length)for(a=c?e.aoData.length:d,c=c?0:l;c<a;c++){var h=u[c],f=e.aoData[h];if(null===f.nTr&&F(e,h),h=f.nTr,0!==s){var p=r[o%s];f._sRowStripe!=p&&(i(h).removeClass(f._sRowStripe).addClass(p),f._sRowStripe=p)}Pe(e,"aoRowCallback",null,[h,f._aData,o,c]),t.push(h),o++}else o=a.sZeroRecords,1==e.iDraw&&"ajax"==ze(e)?o=a.sLoadingRecords:a.sEmptyTable&&0===e.fnRecordsTotal()&&(o=a.sEmptyTable),t[0]=i("<tr/>",{"class":s?r[0]:""}).append(i("<td />",{valign:"top",colSpan:g(e),"class":e.oClasses.sRowEmpty}).html(o))[0];Pe(e,"aoHeaderCallback","header",[i(e.nTHead).children("tr")[0],D(e),l,d,u]),Pe(e,"aoFooterCallback","footer",[i(e.nTFoot).children("tr")[0],D(e),l,d,u]),r=i(e.nTBody),r.children().detach(),r.append(i(t)),Pe(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function R(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&Ee(e),i?V(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,L(e),e._drawHold=!1}function P(e){var t=e.oClasses,n=i(e.nTable),n=i("<div/>").insertBefore(n),o=e.oFeatures,r=i("<div/>",{id:e.sTableId+"_wrapper","class":t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,a,l,c,u,d,h=e.sDom.split(""),f=0;f<h.length;f++){if(s=null,a=h[f],"<"==a){if(l=i("<div/>")[0],c=h[f+1],"'"==c||'"'==c){for(u="",d=2;h[f+d]!=c;)u+=h[f+d],d++;"H"==u?u=t.sJUIHeader:"F"==u&&(u=t.sJUIFooter),-1!=u.indexOf(".")?(c=u.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==u.charAt(0)?l.id=u.substr(1,u.length-1):l.className=u,f+=d}r.append(l),r=i(l)}else if(">"==a)r=r.parent();else if("l"==a&&o.bPaginate&&o.bLengthChange)s=le(e);else if("f"==a&&o.bFilter)s=Y(e);else if("r"==a&&o.bProcessing)s=de(e);else if("t"==a)s=fe(e);else if("i"==a&&o.bInfo)s=ne(e);else if("p"==a&&o.bPaginate)s=ce(e);else if(0!==qe.ext.feature.length)for(l=qe.ext.feature,d=0,c=l.length;d<c;d++)if(a==l[d].cFeature){s=l[d].fnInit(e);break}s&&(l=e.aanFeatures,l[a]||(l[a]=[]),l[a].push(s),r.append(s))}n.replaceWith(r),e.nHolding=null}function U(e,t){var n,o,r,s,a,l,c,u,d,h,f=i(t).children("tr");for(e.splice(0,e.length),r=0,l=f.length;r<l;r++)e.push([]);for(r=0,l=f.length;r<l;r++)for(n=f[r],o=n.firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase()){for(u=1*o.getAttribute("colspan"),d=1*o.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,d=d&&0!==d&&1!==d?d:1,s=0,a=e[r];a[s];)s++;for(c=s,h=1===u,a=0;a<u;a++)for(s=0;s<d;s++)e[r+s][c+a]={cell:o,unique:h},e[r+s].nTr=n}o=o.nextSibling}}function B(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],U(n,t)));for(var t=0,o=n.length;t<o;t++)for(var r=0,s=n[t].length;r<s;r++)!n[t][r].unique||i[r]&&e.bSortCellsTop||(i[r]=n[t][r].cell);return i}function z(e,t,n){if(Pe(e,"aoServerParams","serverParams",[t]),t&&i.isArray(t)){var o={},r=/(.*?)\[\]$/;i.each(t,function(e,t){var n=t.name.match(r);n?(n=n[0],o[n]||(o[n]=[]),o[n].push(t.value)):o[t.name]=t.value}),t=o}var s,a=e.ajax,l=e.oInstance,c=function(t){Pe(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(i.isPlainObject(a)&&a.data){s=a.data;var u=i.isFunction(s)?s(t,e):s,t=i.isFunction(s)&&u?u:i.extend(!0,t,u);delete a.data}u={data:t,success:function(t){var n=t.error||t.sError;n&&Oe(e,0,n),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,n){var o=Pe(e,null,"xhr",[e,null,e.jqXHR]);-1===i.inArray(!0,o)&&("parsererror"==n?Oe(e,0,"Invalid JSON response",1):4===t.readyState&&Oe(e,0,"Ajax error",7)),he(e,!1)}},e.oAjaxData=t,Pe(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,i.map(t,function(e,t){return{name:t,value:e}}),c,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=i.ajax(i.extend(u,{url:a||e.sAjaxSource})):i.isFunction(a)?e.jqXHR=a.call(l,t,c,e):(e.jqXHR=i.ajax(i.extend(u,a)),a.data=s)}function H(e){return!e.bAjaxDataGet||(e.iDraw++,he(e,!0),z(e,j(e),function(t){W(e,t)}),!1)}function j(e){var t,n,o,r,s=e.aoColumns,a=s.length,l=e.oFeatures,c=e.oPreviousSearch,u=e.aoPreSearchCols,d=[],h=Se(e);t=e._iDisplayStart,n=!1!==l.bPaginate?e._iDisplayLength:-1;var f=function(e,t){d.push({name:e,value:t})};f("sEcho",e.iDraw),f("iColumns",a),f("sColumns",lt(s,"sName").join(",")),f("iDisplayStart",t),f("iDisplayLength",n);var p={draw:e.iDraw,columns:[],order:[],start:t,length:n,search:{value:c.sSearch,regex:c.bRegex}};for(t=0;t<a;t++)o=s[t],r=u[t],n="function"==typeof o.mData?"function":o.mData,p.columns.push({data:n,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),f("mDataProp_"+t,n),l.bFilter&&(f("sSearch_"+t,r.sSearch),f("bRegex_"+t,r.bRegex),f("bSearchable_"+t,o.bSearchable)),l.bSort&&f("bSortable_"+t,o.bSortable);return l.bFilter&&(f("sSearch",c.sSearch),f("bRegex",c.bRegex)),l.bSort&&(i.each(h,function(e,t){p.order.push({column:t.col,dir:t.dir}),f("iSortCol_"+e,t.col),f("sSortDir_"+e,t.dir)}),f("iSortingCols",h.length)),s=qe.ext.legacy.ajax,null===s?e.sAjaxSource?d:p:s?d:p}function W(e,t){var i=q(e,t),o=t.sEcho!==n?t.sEcho:t.draw,r=t.iTotalRecords!==n?t.iTotalRecords:t.recordsTotal,s=t.iTotalDisplayRecords!==n?t.iTotalDisplayRecords:t.recordsFiltered;if(o){if(1*o<e.iDraw)return;e.iDraw=1*o}for(A(e),e._iRecordsTotal=parseInt(r,10),e._iRecordsDisplay=parseInt(s,10),o=0,r=i.length;o<r;o++)w(e,i[o]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,L(e),e._bInitComplete||se(e,t),e.bAjaxDataGet=!0,he(e,!1)}function q(e,t){var o=i.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===o?t.aaData||t[o]:""!==o?T(o)(t):t}function Y(e){var n=e.oClasses,o=e.sTableId,r=e.oLanguage,s=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=r.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,n=i("<div/>",{id:a.f?null:o+"_filter","class":n.sFilter}).append(i("<label/>").append(c)),a=function(){var t=this.value?this.value:"";t!=s.sSearch&&(V(e,{sSearch:t,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),e._iDisplayStart=0,L(e))},l=null!==e.searchDelay?e.searchDelay:"ssp"===ze(e)?400:0,u=i("input",n).val(s.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?ve(a,l):a).bind("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",o);return i(e.nTable).on("search.dt.DT",function(n,i){if(e===i)try{u[0]!==t.activeElement&&u.val(s.sSearch)}catch(o){}}),n[0]}function V(e,t,i){var o=e.oPreviousSearch,r=e.aoPreSearchCols,s=function(e){o.sSearch=e.sSearch,o.bRegex=e.bRegex,o.bSmart=e.bSmart,o.bCaseInsensitive=e.bCaseInsensitive};if(b(e),"ssp"!=ze(e)){for(G(e,t.sSearch,i,t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),s(t),t=0;t<r.length;t++)K(e,r[t].sSearch,t,r[t].bEscapeRegex!==n?!r[t].bEscapeRegex:r[t].bRegex,r[t].bSmart,r[t].bCaseInsensitive);X(e)}else s(t);e.bFiltered=!0,Pe(e,null,"search",[e])}function X(e){for(var t,n,i=qe.ext.search,o=e.aiDisplay,r=0,s=i.length;r<s;r++){for(var a=[],l=0,c=o.length;l<c;l++)n=o[l],t=e.aoData[n],i[r](e,t._aFilterData,n,t._aData,l)&&a.push(n);o.length=0,o.push.apply(o,a)}}function K(e,t,n,i,o,r){if(""!==t)for(var s=e.aiDisplay,i=Q(t,i,o,r),o=s.length-1;0<=o;o--)t=e.aoData[s[o]]._aFilterData[n],i.test(t)||s.splice(o,1)}function G(e,t,n,i,o,r){var s,i=Q(t,i,o,r),o=e.oPreviousSearch.sSearch,r=e.aiDisplayMaster;if(0!==qe.ext.search.length&&(n=!0),s=J(e),0>=t.length)e.aiDisplay=r.slice();else for((s||n||o.length>t.length||0!==t.indexOf(o)||e.bSorted)&&(e.aiDisplay=r.slice()),t=e.aiDisplay,n=t.length-1;0<=n;n--)i.test(e.aoData[t[n]]._sFilterRow)||t.splice(n,1)}function Q(e,t,n,o){return e=t?e:Z(e),n&&(e="^(?=.*?"+i.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0))var t=e.match(/^"(.*)"$/),e=t?t[1]:e;return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(e,o?"i":"")}function Z(e){return e.replace(tt,"\\$1")}function J(e){var t,n,i,o,r,s,a,l,c=e.aoColumns,u=qe.ext.type.search;for(t=!1,n=0,o=e.aoData.length;n<o;n++)if(l=e.aoData[n],!l._aFilterData){for(s=[],i=0,r=c.length;i<r;i++)t=c[i],t.bSearchable?(a=C(e,n,i,"filter"),u[t.sType]&&(a=u[t.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(gt.innerHTML=a,a=vt?gt.textContent:gt.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),s.push(a);l._aFilterData=s,l._sFilterRow=s.join("  "),t=!0}return t}function ee(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function te(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function ne(e){var t=e.sTableId,n=e.aanFeatures.i,o=i("<div/>",{"class":e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:ie,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),i(e.nTable).attr("aria-describedby",t+"_info")),o[0]}function ie(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,o=e._iDisplayStart+1,r=e.fnDisplayEnd(),s=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==s&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=oe(e,l),n=n.fnInfoCallback,null!==n&&(l=n.call(e.oInstance,e,o,r,s,a,l)),i(t).html(l)}}function oe(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,o=e._iDisplayLength,r=e.fnRecordsDisplay(),s=-1===o;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,r)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(i/o))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(r/o)))}function re(e){var t,n,i,o=e.iInitDisplayStart,r=e.aoColumns;n=e.oFeatures;var s=e.bDeferLoading;if(e.bInitialised){for(P(e),$(e),I(e,e.aoHeader),I(e,e.aoFooter),he(e,!0),n.bAutoWidth&&ge(e),t=0,n=r.length;t<n;t++)i=r[t],i.sWidth&&(i.nTh.style.width=xe(i.sWidth));Pe(e,null,"preInit",[e]),R(e),r=ze(e),("ssp"!=r||s)&&("ajax"==r?z(e,[],function(n){var i=q(e,n);for(t=0;t<i.length;t++)w(e,i[t]);e.iInitDisplayStart=o,R(e),he(e,!1),se(e,n)},e):(he(e,!1),se(e)))}else setTimeout(function(){re(e)},200)}function se(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&f(e),Pe(e,"aoInitComplete","init",[e,t])}function ae(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Ue(e),Pe(e,null,"length",[e,n])}function le(e){for(var t=e.oClasses,n=e.sTableId,o=e.aLengthMenu,r=i.isArray(o[0]),s=r?o[0]:o,o=r?o[1]:o,r=i("<select/>",{name:n+"_length","aria-controls":n,"class":t.sLengthSelect}),a=0,l=s.length;a<l;a++)r[0][a]=new Option(o[a],s[a]);var c=i("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",r[0].outerHTML)),i("select",c).val(e._iDisplayLength).bind("change.DT",function(){ae(e,i(this).val()),L(e)}),i(e.nTable).bind("length.dt.DT",function(t,n,o){e===n&&i("select",c).val(o)}),c[0]}function ce(e){var t=e.sPaginationType,n=qe.ext.pager[t],o="function"==typeof n,r=function(e){L(e)},t=i("<div/>").addClass(e.oClasses.sPaging+t)[0],s=e.aanFeatures;return o||n.fnInit(e,t,r),s.p||(t.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(o){var t,i=e._iDisplayStart,a=e._iDisplayLength,l=e.fnRecordsDisplay(),c=-1===a,i=c?0:Math.ceil(i/a),a=c?1:Math.ceil(l/a),l=n(i,a),c=0;for(t=s.p.length;c<t;c++)Be(e,"pageButton")(e,s.p[c],c,l,i,a)}else n.fnUpdate(e,r)},sName:"pagination"})),t}function ue(e,t,n){var i=e._iDisplayStart,o=e._iDisplayLength,r=e.fnRecordsDisplay();return 0===r||-1===o?i=0:"number"==typeof t?(i=t*o,i>r&&(i=0)):"first"==t?i=0:"previous"==t?(i=0<=o?i-o:0,0>i&&(i=0)):"next"==t?i+o<r&&(i+=o):"last"==t?i=Math.floor((r-1)/o)*o:Oe(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==i,e._iDisplayStart=i,t&&(Pe(e,null,"page",[e]),n&&L(e)),t}function de(e){return i("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function he(e,t){e.oFeatures.bProcessing&&i(e.aanFeatures.r).css("display",t?"block":"none"),Pe(e,null,"processing",[e,t])}function fe(e){var t=i(e.nTable);t.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var o=n.sX,r=n.sY,s=e.oClasses,a=t.children("caption"),l=a.length?a[0]._captionSide:null,c=i(t[0].cloneNode(!1)),u=i(t[0].cloneNode(!1)),d=t.children("tfoot");n.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),d.length||(d=null),c=i("<div/>",{"class":s.sScrollWrapper}).append(i("<div/>",{"class":s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?o?xe(o):null:"100%"}).append(i("<div/>",{"class":s.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(t.children("thead"))))).append(i("<div/>",{"class":s.sScrollBody}).css({position:"relative",overflow:"auto",width:o?xe(o):null}).append(t)),d&&c.append(i("<div/>",{"class":s.sScrollFoot}).css({overflow:"hidden",border:0,width:o?o?xe(o):null:"100%"}).append(i("<div/>",{"class":s.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(t.children("tfoot")))));var t=c.children(),h=t[0],s=t[1],f=d?t[2]:null;return o&&i(s).on("scroll.DT",function(){var e=this.scrollLeft;h.scrollLeft=e,d&&(f.scrollLeft=e)}),i(s).css(r&&n.bCollapse?"max-height":"height",r),e.nScrollHead=h,e.nScrollBody=s,e.nScrollFoot=f,e.aoDrawCallback.push({fn:pe,sName:"scrolling"}),c[0]}function pe(e){var t,n,o,r,s,a=e.oScroll,l=a.sX,c=a.sXInner,u=a.sY,a=a.iBarWidth,d=i(e.nScrollHead),h=d[0].style,f=d.children("div"),m=f[0].style,g=f.children("table"),f=e.nScrollBody,v=i(f),b=f.style,y=i(e.nScrollFoot).children("div"),w=y.children("table"),x=i(e.nTHead),C=i(e.nTable),S=C[0],E=S.style,T=e.nTFoot?i(e.nTFoot):null,k=e.oBrowser,D=k.bScrollOversize,A=[],N=[],_=[],M=function(e){e=e.style,e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};C.children("thead, tfoot").remove(),r=x.clone().prependTo(C),x=x.find("tr"),n=r.find("tr"),r.find("th, td").removeAttr("tabindex"),T&&(o=T.clone().prependTo(C),t=T.find("tr"),o=o.find("tr")),l||(b.width="100%",d[0].style.width="100%"),i.each(B(e,r),function(t,n){s=p(e,t),n.style.width=e.aoColumns[s].sWidth}),T&&me(function(e){e.style.width=""},o),d=C.outerWidth(),""===l?(E.width="100%",D&&(C.find("tbody").height()>f.offsetHeight||"scroll"==v.css("overflow-y"))&&(E.width=xe(C.outerWidth()-a)),d=C.outerWidth()):""!==c&&(E.width=xe(c),d=C.outerWidth()),me(M,n),me(function(e){_.push(e.innerHTML),A.push(xe(i(e).css("width")))},n),me(function(e,t){e.style.width=A[t]},x),i(n).height(0),T&&(me(M,o),me(function(e){N.push(xe(i(e).css("width")))},o),me(function(e,t){e.style.width=N[t]},t),i(o).height(0)),me(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+_[t]+"</div>",e.style.width=A[t]},n),T&&me(function(e,t){e.innerHTML="",e.style.width=N[t]},o),C.outerWidth()<d?(t=f.scrollHeight>f.offsetHeight||"scroll"==v.css("overflow-y")?d+a:d,D&&(f.scrollHeight>f.offsetHeight||"scroll"==v.css("overflow-y"))&&(E.width=xe(t-a)),(""===l||""!==c)&&Oe(e,1,"Possible column misalignment",6)):t="100%",b.width=xe(t),h.width=xe(t),T&&(e.nScrollFoot.style.width=xe(t)),!u&&D&&(b.height=xe(S.offsetHeight+a)),l=C.outerWidth(),g[0].style.width=xe(l),m.width=xe(l),c=C.height()>f.clientHeight||"scroll"==v.css("overflow-y"),u="padding"+(k.bScrollbarLeft?"Left":"Right"),m[u]=c?a+"px":"0px",T&&(w[0].style.width=xe(l),y[0].style.width=xe(l),y[0].style[u]=c?a+"px":"0px"),v.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(f.scrollTop=0)}function me(e,t,n){for(var i,o,r=0,s=0,a=t.length;s<a;){for(i=t[s].firstChild,o=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?e(i,o,r):e(i,r),r++),i=i.nextSibling,o=n?o.nextSibling:null;s++}}function ge(t){var n,o,r,s=t.nTable,a=t.aoColumns,l=t.oScroll,c=l.sY,u=l.sX,d=l.sXInner,h=a.length,p=v(t,"bVisible"),m=i("th",t.nTHead),b=s.getAttribute("width"),y=s.parentNode,w=!1;for(r=t.oBrowser,l=r.bScrollOversize,(n=s.style.width)&&-1!==n.indexOf("%")&&(b=n),n=0;n<p.length;n++)o=a[p[n]],null!==o.sWidth&&(o.sWidth=be(o.sWidthOrig,y),w=!0);if(l||!w&&!u&&!c&&h==g(t)&&h==m.length)for(n=0;n<h;n++)a[n].sWidth=xe(m.eq(n).width());else{h=i(s).clone().css("visibility","hidden").removeAttr("id"),h.find("tbody tr").remove();var x=i("<tr/>").appendTo(h.find("tbody"));for(h.find("thead, tfoot").remove(),h.append(i(t.nTHead).clone()).append(i(t.nTFoot).clone()),h.find("tfoot th, tfoot td").css("width",""),m=B(t,h.find("thead")[0]),n=0;n<p.length;n++)o=a[p[n]],m[n].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?xe(o.sWidthOrig):"";if(t.aoData.length)for(n=0;n<p.length;n++)w=p[n],o=a[w],i(ye(t,w)).clone(!1).append(o.sContentPadding).appendTo(x);if(w=i("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(h).appendTo(y),u&&d?h.width(d):u?(h.css("width","auto"),h.width()<y.clientWidth&&h.width(y.clientWidth)):c?h.width(y.clientWidth):b&&h.width(b),u){for(n=d=0;n<p.length;n++)o=a[p[n]],c=r.bBounding?m[n].getBoundingClientRect().width:i(m[n]).outerWidth(),d+=null===o.sWidthOrig?c:parseInt(o.sWidth,10)+c-i(m[n]).width();h.width(xe(d)),s.style.width=xe(d)}for(n=0;n<p.length;n++)o=a[p[n]],(r=i(m[n]).width())&&(o.sWidth=xe(r));s.style.width=xe(h.css("width")),w.remove()}b&&(s.style.width=xe(b)),!b&&!u||t._reszEvt||(s=function(){i(e).bind("resize.DT-"+t.sInstance,ve(function(){f(t)}))},l?setTimeout(s,1e3):s(),t._reszEvt=!0)}function ve(e,t){var i,o,r=t!==n?t:200;return function(){var t=this,s=+new Date,a=arguments;i&&s<i+r?(clearTimeout(o),o=setTimeout(function(){i=n,e.apply(t,a)},r)):(i=s,e.apply(t,a))}}function be(e,n){if(!e)return 0;var o=i("<div/>").css("width",xe(e)).appendTo(n||t.body),r=o[0].offsetWidth;return o.remove(),r}function ye(e,t){var n=we(e,t);if(0>n)return null;var o=e.aoData[n];return o.nTr?o.anCells[t]:i("<td/>").html(C(e,n,t,"display"))[0]}function we(e,t){for(var n,i=-1,o=-1,r=0,s=e.aoData.length;r<s;r++)n=C(e,r,t,"display")+"",n=n.replace(bt,""),n.length>i&&(i=n.length,o=r);return o}function xe(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ce(){var e=qe.__scrollbarWidth;if(e===n){var t=i("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body"),e=t[0].offsetWidth-t[0].clientWidth;qe.__scrollbarWidth=e,t.remove()}return e}function Se(e){var t,o,r,s,a,l,c=[],u=e.aoColumns;t=e.aaSortingFixed,o=i.isPlainObject(t);var d=[];for(r=function(e){e.length&&!i.isArray(e[0])?d.push(e):d.push.apply(d,e)},i.isArray(t)&&r(t),o&&t.pre&&r(t.pre),r(e.aaSorting),o&&t.post&&r(t.post),e=0;e<d.length;e++)for(l=d[e][0],r=u[l].aDataSort,t=0,o=r.length;t<o;t++)s=r[t],a=u[s].sType||"string",d[e]._idx===n&&(d[e]._idx=i.inArray(d[e][1],u[s].asSorting)),c.push({src:l,col:s,dir:d[e][1],index:d[e]._idx,type:a,formatter:qe.ext.type.order[a+"-pre"]});return c}function Ee(e){var t,n,i,o,r=[],s=qe.ext.type.order,a=e.aoData,l=0,c=e.aiDisplayMaster;for(b(e),o=Se(e),t=0,n=o.length;t<n;t++)i=o[t],i.formatter&&l++,Ne(e,i.col);if("ssp"!=ze(e)&&0!==o.length){for(t=0,n=c.length;t<n;t++)r[c[t]]=t;l===o.length?c.sort(function(e,t){var n,i,s,l,c=o.length,u=a[e]._aSortData,d=a[t]._aSortData;for(s=0;s<c;s++)if(l=o[s],n=u[l.col],i=d[l.col],n=n<i?-1:n>i?1:0,0!==n)return"asc"===l.dir?n:-n;return n=r[e],i=r[t],n<i?-1:n>i?1:0}):c.sort(function(e,t){var n,i,l,c,u=o.length,d=a[e]._aSortData,h=a[t]._aSortData;for(l=0;l<u;l++)if(c=o[l],n=d[c.col],i=h[c.col],c=s[c.type+"-"+c.dir]||s["string-"+c.dir],n=c(n,i),0!==n)return n;return n=r[e],i=r[t],n<i?-1:n>i?1:0})}e.bSorted=!0}function Te(e){for(var t,n,i=e.aoColumns,o=Se(e),e=e.oLanguage.oAria,r=0,s=i.length;r<s;r++){n=i[r];var a=n.asSorting;t=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<o.length&&o[0].col==r?(l.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),n=a[o[0].index+1]||a[0]):n=a[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",t)}}function ke(e,t,o,r){var s=e.aaSorting,a=e.aoColumns[t].asSorting,l=function(e,t){var o=e._idx;return o===n&&(o=i.inArray(e[1],a)),o+1<a.length?o+1:t?null:0};"number"==typeof s[0]&&(s=e.aaSorting=[s]),o&&e.oFeatures.bSortMulti?(o=i.inArray(t,lt(s,"0")),-1!==o?(t=l(s[o],!0),null===t&&1===s.length&&(t=0),null===t?s.splice(o,1):(s[o][1]=a[t],s[o]._idx=t)):(s.push([t,a[0],0]),s[s.length-1]._idx=0)):s.length&&s[0][0]==t?(t=l(s[0]),s.length=1,s[0][1]=a[t],s[0]._idx=t):(s.length=0,s.push([t,a[0]]),s[0]._idx=0),R(e),"function"==typeof r&&r(e)}function De(e,t,n,i){var o=e.aoColumns[n];Le(t,{},function(t){!1!==o.bSortable&&(e.oFeatures.bProcessing?(he(e,!0),setTimeout(function(){ke(e,n,t.shiftKey,i),"ssp"!==ze(e)&&he(e,!1)},0)):ke(e,n,t.shiftKey,i))})}function Ae(e){var t,n,o=e.aLastSort,r=e.oClasses.sSortColumn,s=Se(e),a=e.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,t=o.length;a<t;a++)n=o[a].src,i(lt(e.aoData,"anCells",n)).removeClass(r+(2>a?a+1:3));for(a=0,t=s.length;a<t;a++)n=s[a].src,i(lt(e.aoData,"anCells",n)).addClass(r+(2>a?a+1:3))}e.aLastSort=s}function Ne(e,t){var n,i=e.aoColumns[t],o=qe.ext.order[i.sSortDataType];o&&(n=o.call(e.oInstance,e,t,m(e,t)));for(var r,s=qe.ext.type.order[i.sType+"-pre"],a=0,l=e.aoData.length;a<l;a++)i=e.aoData[a],i._aSortData||(i._aSortData=[]),(!i._aSortData[t]||o)&&(r=o?n[a]:C(e,a,t,"sort"),i._aSortData[t]=s?s(r):r)}function _e(e){
if(e.oFeatures.bStateSave&&!e.bDestroying){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:i.extend(!0,[],e.aaSorting),search:ee(e.oPreviousSearch),columns:i.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:ee(e.aoPreSearchCols[n])}})};Pe(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}}function Me(e){var t,o,r=e.aoColumns;if(e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e);if(s&&s.time&&(t=Pe(e,"aoStateLoadParams","stateLoadParams",[e,s]),-1===i.inArray(!1,t)&&(t=e.iStateDuration,!(0<t&&s.time<+new Date-1e3*t)&&r.length===s.columns.length))){for(e.oLoadedState=i.extend(!0,{},s),s.start!==n&&(e._iDisplayStart=s.start,e.iInitDisplayStart=s.start),s.length!==n&&(e._iDisplayLength=s.length),s.order!==n&&(e.aaSorting=[],i.each(s.order,function(t,n){e.aaSorting.push(n[0]>=r.length?[0,n[1]]:n)})),s.search!==n&&i.extend(e.oPreviousSearch,te(s.search)),t=0,o=s.columns.length;t<o;t++){var a=s.columns[t];a.visible!==n&&(r[t].bVisible=a.visible),a.search!==n&&i.extend(e.aoPreSearchCols[t],te(a.search))}Pe(e,"aoStateLoaded","stateLoaded",[e,s])}}}function Fe(e){var t=qe.settings,e=i.inArray(e,lt(t,"nTable"));return-1!==e?t[e]:null}function Oe(t,n,i,o){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,o&&(i+=". For more information about this error, please see http://datatables.net/tn/"+o),n)e.console&&console.log&&console.log(i);else if(n=qe.ext,n=n.sErrMode||n.errMode,t&&Pe(t,null,"error",[t,o,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(t,o,i)}}function $e(e,t,o,r){i.isArray(o)?i.each(o,function(n,o){i.isArray(o)?$e(e,t,o[0],o[1]):$e(e,t,o)}):(r===n&&(r=o),t[o]!==n&&(e[r]=t[o]))}function Ie(e,t,n){var o,r;for(r in t)t.hasOwnProperty(r)&&(o=t[r],i.isPlainObject(o)?(i.isPlainObject(e[r])||(e[r]={}),i.extend(!0,e[r],o)):e[r]=n&&"data"!==r&&"aaData"!==r&&i.isArray(o)?o.slice():o);return e}function Le(e,t,n){i(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&(e.preventDefault(),n(e))}).bind("selectstart.DT",function(){return!1})}function Re(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Pe(e,t,n,o){var r=[];return t&&(r=i.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,o)})),null!==n&&(t=i.Event(n+".dt"),i(e.nTable).trigger(t,o),r.push(t.result)),r}function Ue(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||0>t)&&(t=0),e._iDisplayStart=t}function Be(e,t){var n=e.renderer,o=qe.ext.renderer[t];return i.isPlainObject(n)&&n[t]?o[n[t]]||o._:"string"==typeof n?o[n]||o._:o._}function ze(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function He(e,t){var n=[],n=It.numbers_length,i=Math.floor(n/2);return t<=n?n=ut(0,t):e<=i?(n=ut(0,n-2),n.push("ellipsis"),n.push(t-1)):(e>=t-1-i?n=ut(t-(n-2),t):(n=ut(e-i+2,e+i-1),n.push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function je(e){i.each({num:function(t){return Lt(t,e)},"num-fmt":function(t){return Lt(t,e,nt)},"html-num":function(t){return Lt(t,e,Ze)},"html-num-fmt":function(t){return Lt(t,e,Ze,nt)}},function(t,n){Ye.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Ye.type.search[t+e]=Ye.type.search.html)})}function We(e){return function(){var t=[Fe(this[qe.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qe.ext.internal[e].apply(this,t)}}var qe,Ye,Ve,Xe,Ke,Ge={},Qe=/[\r\n]/g,Ze=/<.*?>/g,Je=/^[\w\+\-]/,et=/[\w\+\-]$/,tt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),nt=/[',$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,it=function(e){return!e||!0===e||"-"===e},ot=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},rt=function(e,t){return Ge[t]||(Ge[t]=RegExp(Z(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ge[t],"."):e},st=function(e,t,n){var i="string"==typeof e;return!!it(e)||(t&&i&&(e=rt(e,t)),n&&i&&(e=e.replace(nt,"")),!isNaN(parseFloat(e))&&isFinite(e))},at=function(e,t,n){return!!it(e)||(it(e)||"string"==typeof e?!!st(e.replace(Ze,""),t,n)||null:null)},lt=function(e,t,i){var o=[],r=0,s=e.length;if(i!==n)for(;r<s;r++)e[r]&&e[r][t]&&o.push(e[r][t][i]);else for(;r<s;r++)e[r]&&o.push(e[r][t]);return o},ct=function(e,t,i,o){var r=[],s=0,a=t.length;if(o!==n)for(;s<a;s++)e[t[s]][i]&&r.push(e[t[s]][i][o]);else for(;s<a;s++)r.push(e[t[s]][i]);return r},ut=function(e,t){var i,o=[];t===n?(t=0,i=e):(i=t,t=e);for(var r=t;r<i;r++)o.push(r);return o},dt=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},ht=function(e){var t,n,i,o=[],r=e.length,s=0;n=0;e:for(;n<r;n++){for(t=e[n],i=0;i<s;i++)if(o[i]===t)continue e;o.push(t),s++}return o},ft=function(e,t,i){e[t]!==n&&(e[i]=e[t])},pt=/\[.*?\]$/,mt=/\(\)$/,gt=i("<div>")[0],vt=gt.textContent!==n,bt=/<.*?>/g;qe=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Ve(e?Fe(this[Ye.iApiIndex]):this)},this.fnAddData=function(e,t){var o=this.api(!0),r=i.isArray(e)&&(i.isArray(e[0])||i.isPlainObject(e[0]))?o.rows.add(e):o.row.add(e);return(t===n||t)&&o.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),i=t.settings()[0],o=i.oScroll;e===n||e?t.draw(!1):(""!==o.sX||""!==o.sY)&&pe(i)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===n||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,i){var o=this.api(!0),e=o.rows(e),r=e.settings()[0],s=r.aoData[e[0][0]];return e.remove(),t&&t.call(this,r,s),(i===n||i)&&o.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,i,o,r,s){r=this.api(!0),null===t||t===n?r.search(e,i,o,s):r.column(t).search(e,i,o,s),r.draw()},this.fnGetData=function(e,t){var i=this.api(!0);if(e!==n){var o=e.nodeName?e.nodeName.toLowerCase():"";return t!==n||"td"==o||"th"==o?i.cell(e,t).data():i.row(e).data()||null}return i.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==n?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?(e=t.cell(e).index(),[e.row,e.columnVisible,e.column]):null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var i=this.api(!0).page(e);(t===n||t)&&i.draw(!1)},this.fnSetColumnVis=function(e,t,i){e=this.api(!0).column(e).visible(t),(i===n||i)&&e.columns.adjust().draw()},this.fnSettings=function(){return Fe(this[Ye.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,i,o,r){var s=this.api(!0);return i===n||null===i?s.row(t).data(e):s.cell(t,i).data(e),(r===n||r)&&s.columns.adjust(),(o===n||o)&&s.draw(),0},this.fnVersionCheck=Ye.fnVersionCheck;var t=this,o=e===n,u=this.length;o&&(e={}),this.oApi=this.internal=Ye.internal;for(var f in qe.ext.internal)f&&(this[f]=We(f));return this.each(function(){var f,p={},p=1<u?Ie(p,e,!0):e,m=0,g=this.getAttribute("id"),v=!1,b=qe.defaults,C=i(this);if("table"!=this.nodeName.toLowerCase())Oe(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{a(b),l(b.column),r(b,b,!0),r(b.column,b.column,!0),r(b,i.extend(p,C.data()));var S=qe.settings,m=0;for(f=S.length;m<f;m++){var E=S[m];if(E.nTable==this||E.nTHead.parentNode==this||E.nTFoot&&E.nTFoot.parentNode==this){if(m=p.bRetrieve!==n?p.bRetrieve:b.bRetrieve,o||m)return E.oInstance;if(p.bDestroy!==n?p.bDestroy:b.bDestroy){E.oInstance.fnDestroy();break}return void Oe(E,0,"Cannot reinitialise DataTable",3)}if(E.sTableId==this.id){S.splice(m,1);break}}null!==g&&""!==g||(this.id=g="DataTables_Table_"+qe.ext._unique++);var k=i.extend(!0,{},qe.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:g,sTableId:g});k.nTable=this,k.oApi=t.internal,k.oInit=p,S.push(k),k.oInstance=1===t.length?t:C.dataTable(),a(p),p.oLanguage&&s(p.oLanguage),p.aLengthMenu&&!p.iDisplayLength&&(p.iDisplayLength=i.isArray(p.aLengthMenu[0])?p.aLengthMenu[0][0]:p.aLengthMenu[0]),p=Ie(i.extend(!0,{},b),p),$e(k.oFeatures,p,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),$e(k,p,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),$e(k.oScroll,p,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),$e(k.oLanguage,p,"fnInfoCallback"),Re(k,"aoDrawCallback",p.fnDrawCallback,"user"),Re(k,"aoServerParams",p.fnServerParams,"user"),Re(k,"aoStateSaveParams",p.fnStateSaveParams,"user"),Re(k,"aoStateLoadParams",p.fnStateLoadParams,"user"),Re(k,"aoStateLoaded",p.fnStateLoaded,"user"),Re(k,"aoRowCallback",p.fnRowCallback,"user"),Re(k,"aoRowCreatedCallback",p.fnCreatedRow,"user"),Re(k,"aoHeaderCallback",p.fnHeaderCallback,"user"),Re(k,"aoFooterCallback",p.fnFooterCallback,"user"),Re(k,"aoInitComplete",p.fnInitComplete,"user"),Re(k,"aoPreDrawCallback",p.fnPreDrawCallback,"user"),k.rowIdFn=T(p.rowId),g=k.oClasses,p.bJQueryUI?(i.extend(g,qe.ext.oJUIClasses,p.oClasses),p.sDom===b.sDom&&"lfrtip"===b.sDom&&(k.sDom='<"H"lfr>t<"F"ip>'),k.renderer?i.isPlainObject(k.renderer)&&!k.renderer.header&&(k.renderer.header="jqueryui"):k.renderer="jqueryui"):i.extend(g,qe.ext.classes,p.oClasses),C.addClass(g.sTable),""===k.oScroll.sX&&""===k.oScroll.sY||(k.oScroll.iBarWidth=Ce()),k.iInitDisplayStart===n&&(k.iInitDisplayStart=p.iDisplayStart,k._iDisplayStart=p.iDisplayStart),null!==p.iDeferLoading&&(k.bDeferLoading=!0,m=i.isArray(p.iDeferLoading),k._iRecordsDisplay=m?p.iDeferLoading[0]:p.iDeferLoading,k._iRecordsTotal=m?p.iDeferLoading[1]:p.iDeferLoading);var D=k.oLanguage;i.extend(!0,D,p.oLanguage),""!==D.sUrl&&(i.ajax({dataType:"json",url:D.sUrl,success:function(e){s(e),r(b.oLanguage,e),i.extend(!0,D,e),re(k)},error:function(){re(k)}}),v=!0),null===p.asStripeClasses&&(k.asStripeClasses=[g.sStripeOdd,g.sStripeEven]);var m=k.asStripeClasses,A=C.children("tbody").find("tr").eq(0);if(-1!==i.inArray(!0,i.map(m,function(e){return A.hasClass(e)}))&&(i("tbody tr",this).removeClass(m.join(" ")),k.asDestroyStripes=m.slice()),S=[],m=this.getElementsByTagName("thead"),0!==m.length&&(U(k.aoHeader,m[0]),S=B(k)),null===p.aoColumns)for(E=[],m=0,f=S.length;m<f;m++)E.push(null);else E=p.aoColumns;for(m=0,f=E.length;m<f;m++)d(k,S?S[m]:null);if(y(k,p.aoColumnDefs,E,function(e,t){h(k,e,t)}),A.length){var N=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};i.each(M(k,A[0]).cells,function(e,t){var i=k.aoColumns[e];if(i.mData===e){var o=N(t,"sort")||N(t,"order"),r=N(t,"filter")||N(t,"search");null===o&&null===r||(i.mData={_:e+".display",sort:null!==o?e+".@data-"+o:n,type:null!==o?e+".@data-"+o:n,filter:null!==r?e+".@data-"+r:n},h(k,e))}})}var _=k.oFeatures;if(p.bStateSave&&(_.bStateSave=!0,Me(k,p),Re(k,"aoDrawCallback",_e,"state_save")),p.aaSorting===n)for(S=k.aaSorting,m=0,f=S.length;m<f;m++)S[m][1]=k.aoColumns[m].asSorting[0];if(Ae(k),_.bSort&&Re(k,"aoDrawCallback",function(){if(k.bSorted){var e=Se(k),t={};i.each(e,function(e,n){t[n.src]=n.dir}),Pe(k,null,"order",[k,e,t]),Te(k)}}),Re(k,"aoDrawCallback",function(){(k.bSorted||"ssp"===ze(k)||_.bDeferRender)&&Ae(k)},"sc"),c(k),m=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),f=C.children("thead"),0===f.length&&(f=i("<thead/>").appendTo(this)),k.nTHead=f[0],f=C.children("tbody"),0===f.length&&(f=i("<tbody/>").appendTo(this)),k.nTBody=f[0],f=C.children("tfoot"),0===f.length&&0<m.length&&(""!==k.oScroll.sX||""!==k.oScroll.sY)&&(f=i("<tfoot/>").appendTo(this)),0===f.length||0===f.children().length?C.addClass(g.sNoFooter):0<f.length&&(k.nTFoot=f[0],U(k.aoFooter,k.nTFoot)),p.aaData)for(m=0;m<p.aaData.length;m++)w(k,p.aaData[m]);else(k.bDeferLoading||"dom"==ze(k))&&x(k,i(k.nTBody).children("tr"));k.aiDisplay=k.aiDisplayMaster.slice(),k.bInitialised=!0,!1===v&&re(k)}}),t=null,this};var yt=[],wt=Array.prototype,xt=function(e){var t,n,o=qe.settings,r=i.map(o,function(e){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(t=i.inArray(e,r),-1!==t?[o[t]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=i(e):e instanceof i&&(n=e),n?n.map(function(){return t=i.inArray(this,r),-1!==t?o[t]:null}).toArray():void 0):[]};Ve=function(e,t){if(!(this instanceof Ve))return new Ve(e,t);var n=[],o=function(e){(e=xt(e))&&n.push.apply(n,e)};if(i.isArray(e))for(var r=0,s=e.length;r<s;r++)o(e[r]);else o(e);this.context=ht(n),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},Ve.extend(this,this,yt)},qe.Api=Ve,i.extend(Ve.prototype,{any:function(){return 0!==this.count()},concat:wt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ve(t[e],this[e]):null},filter:function(e){var t=[];if(wt.filter)t=wt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Ve(this.context,t)},flatten:function(){var e=[];return new Ve(this.context,e.concat.apply(e,this.toArray()))},join:wt.join,indexOf:wt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,i,o){var r,s,a,l,c,u,d,h=[],f=this.context,p=this.selector;for("string"==typeof e&&(o=i,i=t,t=e,e=!1),s=0,a=f.length;s<a;s++){var m=new Ve(f[s]);if("table"===t)r=i.call(m,f[s],s),r!==n&&h.push(r);else if("columns"===t||"rows"===t)r=i.call(m,f[s],this[s],s),r!==n&&h.push(r);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(d=this[s],"column-rows"===t&&(u=kt(f[s],p.opts)),l=0,c=d.length;l<c;l++)r=d[l],r="cell"===t?i.call(m,f[s],r.row,r.column,s,l):i.call(m,f[s],r,s,l,u),r!==n&&h.push(r)}return h.length||o?(e=new Ve(f,e?h.concat.apply([],h):h),t=e.selector,t.rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:wt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(wt.map)t=wt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new Ve(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:wt.pop,push:wt.push,reduce:wt.reduce||function(e,t){return u(this,e,t,0,this.length,1)},reduceRight:wt.reduceRight||function(e,t){return u(this,e,t,this.length-1,-1,-1)},reverse:wt.reverse,selector:null,shift:wt.shift,sort:wt.sort,splice:wt.splice,toArray:function(){return wt.slice.call(this)},to$:function(){return i(this)},toJQuery:function(){return i(this)},unique:function(){return new Ve(this.context,ht(this))},unshift:wt.unshift}),Ve.extend=function(e,t,n){if(n.length&&t&&(t instanceof Ve||t.__dt_wrapper)){var o,r,s,a=function(e,t,n){return function(){var i=t.apply(e,arguments);return Ve.extend(i,i,n.methodExt),i}};for(o=0,r=n.length;o<r;o++)s=n[o],t[s.name]="function"==typeof s.val?a(e,s.val,s):i.isPlainObject(s.val)?{}:s.val,t[s.name].__dt_wrapper=!0,Ve.extend(e,t[s.name],s.propExt)}},Ve.register=Xe=function(e,t){if(i.isArray(e))for(var n=0,o=e.length;n<o;n++)Ve.register(e[n],t);else for(var r,s,a=e.split("."),l=yt,n=0,o=a.length;n<o;n++){r=(s=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];var c;e:{c=0;for(var u=l.length;c<u;c++)if(l[c].name===r){c=l[c];break e}c=null}c||(c={name:r,val:{},methodExt:[],propExt:[]},l.push(c)),n===o-1?c.val=t:l=s?c.methodExt:c.propExt}},Ve.registerPlural=Ke=function(e,t,o){Ve.register(e,o),Ve.register(t,function(){var e=o.apply(this,arguments);return e===this?this:e instanceof Ve?e.length?i.isArray(e[0])?new Ve(e.context,e[0]):e[0]:n:e})},Xe("tables()",function(e){var t;if(e){t=Ve;var n=this.context;if("number"==typeof e)e=[n[e]];else var o=i.map(n,function(e){return e.nTable}),e=i(o).filter(e).map(function(){var e=i.inArray(this,o);return n[e]}).toArray();t=new t(e)}else t=this;return t}),Xe("table()",function(e){var e=this.tables(e),t=e.context;return t.length?new Ve(t[0]):e}),Ke("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Ke("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Ke("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Ke("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Ke("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Xe("draw()",function(e){return this.iterator("table",function(t){"page"===e?L(t):("string"==typeof e&&(e="full-hold"!==e),R(t,!1===e))})}),Xe("page()",function(e){return e===n?this.page.info().page:this.iterator("table",function(t){ue(t,e)})}),Xe("page.info()",function(){if(0===this.context.length)return n;var e=this.context[0],t=e._iDisplayStart,i=e._iDisplayLength,o=e.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(t/i),pages:r?1:Math.ceil(o/i),start:t,end:e.fnDisplayEnd(),length:i,recordsTotal:e.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===ze(e)}}),Xe("page.len()",function(e){return e===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(t){ae(t,e)})});var Ct=function(e,t,n){if(n){var i=new Ve(e);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==ze(e))R(e,t);else{he(e,!0);var o=e.jqXHR;o&&4!==o.readyState&&o.abort(),z(e,[],function(n){A(e);for(var n=q(e,n),i=0,o=n.length;i<o;i++)w(e,n[i]);R(e,t),he(e,!1)})}};Xe("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),Xe("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),Xe("ajax.reload()",function(e,t){return this.iterator("table",function(n){Ct(n,!1===t,e)})}),Xe("ajax.url()",function(e){var t=this.context;return e===n?0===t.length?n:(t=t[0],t.ajax?i.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){i.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Xe("ajax.url().load()",function(e,t){return this.iterator("table",function(n){Ct(n,!1===t,e)})});var St=function(e,t,o,r,s){var a,l,c,u,d,h,f=[];for(c=typeof t,t&&"string"!==c&&"function"!==c&&t.length!==n||(t=[t]),c=0,u=t.length;c<u;c++)for(l=t[c]&&t[c].split?t[c].split(","):[t[c]],d=0,h=l.length;d<h;d++)(a=o("string"==typeof l[d]?i.trim(l[d]):l[d]))&&a.length&&f.push.apply(f,a);if(e=Ye.selector[e],e.length)for(c=0,u=e.length;c<u;c++)f=e[c](r,s,f);return f},Et=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),i.extend({search:"none",order:"current",page:"all"},e)},Tt=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},kt=function(e,t){var n,o,r,s=[],a=e.aiDisplay;n=e.aiDisplayMaster;var l=t.search;if(o=t.order,r=t.page,"ssp"==ze(e))return"removed"===l?[]:ut(0,n.length);if("current"==r)for(n=e._iDisplayStart,o=e.fnDisplayEnd();n<o;n++)s.push(a[n]);else if("current"==o||"applied"==o)s="none"==l?n.slice():"applied"==l?a.slice():i.map(n,function(e){return-1===i.inArray(e,a)?e:null});else if("index"==o||"original"==o)for(n=0,o=e.aoData.length;n<o;n++)"none"==l?s.push(n):(r=i.inArray(n,a),(-1===r&&"removed"==l||0<=r&&"applied"==l)&&s.push(n));return s};Xe("rows()",function(e,t){e===n?e="":i.isPlainObject(e)&&(t=e,e="");var t=Et(t),o=this.iterator("table",function(o){var r=t;return St("row",e,function(e){var t=ot(e);if(null!==t&&!r)return[t];var s=kt(o,r);return null!==t&&i.inArray(t,s)!==-1?[t]:e?"function"==typeof e?i.map(s,function(t){var n=o.aoData[t];return e(t,n._aData,n.nTr)?t:null}):(t=dt(ct(o.aoData,s,"nTr")),e.nodeName&&i.inArray(e,t)!==-1?[e._DT_RowIndex]:"string"==typeof e&&"#"===e.charAt(0)&&(s=o.aIds[e.replace(/^#/,"")],s!==n)?[s.idx]:i(t).filter(e).map(function(){return this._DT_RowIndex}).toArray()):s},o,r)},1);return o.selector.rows=e,o.selector.opts=t,o}),Xe("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||n},1)}),Xe("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return ct(e.aoData,t,"_aData")},1)}),Ke("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),Ke("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){_(t,n,e)})}),Ke("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Ke("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,o=n.length;i<o;i++)for(var r=0,s=this[i].length;r<s;r++){var a=n[i].rowIdFn(n[i].aoData[this[i][r]]._aData);t.push((!0===e?"#":"")+a)}return new Ve(n,t)}),Ke("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,i){var o=t.aoData;o.splice(n,1);for(var r=0,s=o.length;r<s;r++)null!==o[r].nTr&&(o[r].nTr._DT_RowIndex=r);N(t.aiDisplayMaster,n),N(t.aiDisplay,n),N(e[i],n,!1),Ue(t)}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),Xe("rows.add()",function(e){var t=this.iterator("table",function(t){var n,i,o,r=[];for(i=0,o=e.length;i<o;i++)n=e[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(x(t,n)[0]):r.push(w(t,n));return r},1),n=this.rows(-1);return n.pop(),n.push.apply(n,t.toArray()),n}),Xe("row()",function(e,t){return Tt(this.rows(e,t))}),Xe("row().data()",function(e){var t=this.context;return e===n?t.length&&this.length?t[0].aoData[this[0]]._aData:n:(t[0].aoData[this[0]]._aData=e,_(t[0],this[0],"data"),this)}),Xe("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Xe("row.add()",function(e){e instanceof i&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?x(t,e)[0]:w(t,e)});return this.row(t[0])});var Dt=function(e,t){var i=e.context;i.length&&(i=i[0].aoData[t!==n?t:e[0]])&&i._details&&(i._details.remove(),i._detailsShow=n,i._details=n)},At=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];if(i._details){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var o=n[0],r=new Ve(o),s=o.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<lt(s,"_details").length&&(r.on("draw.dt.DT_details",function(e,t){o===t&&r.rows({page:"current"}).eq(0).each(function(e){e=s[e],e._detailsShow&&e._details.insertAfter(e.nTr)})}),r.on("column-visibility.dt.DT_details",function(e,t){if(o===t)for(var n,i=g(t),r=0,a=s.length;r<a;r++)n=s[r],n._details&&n._details.children("td[colspan]").attr("colspan",i)}),r.on("destroy.dt.DT_details",function(e,t){if(o===t)for(var n=0,i=s.length;n<i;n++)s[n]._details&&Dt(r,n)}))}}};Xe("row().child()",function(e,t){var o=this.context;if(e===n)return o.length&&this.length?o[0].aoData[this[0]]._details:n;if(!0===e)this.child.show();else if(!1===e)Dt(this);else if(o.length&&this.length){var r=o[0],o=o[0].aoData[this[0]],s=[],a=function(e,t){if(i.isArray(e)||e instanceof i)for(var n=0,o=e.length;n<o;n++)a(e[n],t);else e.nodeName&&"tr"===e.nodeName.toLowerCase()?s.push(e):(n=i("<tr><td/></tr>").addClass(t),i("td",n).addClass(t).html(e)[0].colSpan=g(r),s.push(n[0]))};a(e,t),o._details&&o._details.remove(),o._details=i(s),o._detailsShow&&o._details.insertAfter(o.nTr)}return this}),Xe(["row().child.show()","row().child().show()"],function(){return At(this,!0),this}),Xe(["row().child.hide()","row().child().hide()"],function(){return At(this,!1),this}),Xe(["row().child.remove()","row().child().remove()"],function(){return Dt(this),this}),Xe("row().child.isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var Nt=/^(.+):(name|visIdx|visible)$/,_t=function(e,t,n,i,o){for(var n=[],i=0,r=o.length;i<r;i++)n.push(C(e,o[i],t));return n};Xe("columns()",function(e,t){e===n?e="":i.isPlainObject(e)&&(t=e,e="");var t=Et(t),o=this.iterator("table",function(n){var o=e,r=t,s=n.aoColumns,a=lt(s,"sName"),l=lt(s,"nTh");return St("column",o,function(e){var t=ot(e);if(""===e)return ut(s.length);if(null!==t)return[t>=0?t:s.length+t];if("function"==typeof e){var o=kt(n,r);return i.map(s,function(t,i){return e(i,_t(n,i,0,0,o),l[i])?i:null})}var c="string"==typeof e?e.match(Nt):"";if(!c)return i(l).filter(e).map(function(){return i.inArray(this,l)}).toArray();switch(c[2]){case"visIdx":case"visible":if(t=parseInt(c[1],10),t<0){var u=i.map(s,function(e,t){return e.bVisible?t:null});return[u[u.length+t]]}return[p(n,t)];case"name":return i.map(a,function(e,t){return e===c[1]?t:null})}},n,r)},1);return o.selector.cols=e,o.selector.opts=t,o}),Ke("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Ke("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Ke("columns().data()","column().data()",function(){return this.iterator("column-rows",_t,1)}),Ke("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Ke("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,o,r){return ct(t.aoData,r,"search"===e?"_aFilterData":"_aSortData",n)},1)}),Ke("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,o){return ct(e.aoData,o,"anCells",t)},1)}),Ke("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(o,r){if(e===n)return o.aoColumns[r].bVisible;var s,a,l,c=o.aoColumns,u=c[r],d=o.aoData;if(e!==n&&u.bVisible!==e){if(e){var h=i.inArray(!0,lt(c,"bVisible"),r+1);for(s=0,a=d.length;s<a;s++)l=d[s].nTr,c=d[s].anCells,l&&l.insertBefore(c[r],c[h]||null)}else i(lt(o.aoData,"anCells",r)).detach();u.bVisible=e,I(o,o.aoHeader),I(o,o.aoFooter),(t===n||t)&&(f(o),(o.oScroll.sX||o.oScroll.sY)&&pe(o)),Pe(o,null,"column-visibility",[o,r,e]),_e(o)}})}),Ke("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),Xe("columns.adjust()",function(){return this.iterator("table",function(e){f(e)},1)}),Xe("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),Xe("column()",function(e,t){return Tt(this.columns(e,t))}),Xe("cells()",function(e,t,o){if(i.isPlainObject(e)&&(e.row===n?(o=e,e=null):(o=t,t=null)),i.isPlainObject(t)&&(o=t,t=null),null===t||t===n)return this.iterator("table",function(t){var r,s,a,l,c,u,d,h=e,f=Et(o),p=t.aoData,m=kt(t,f),g=dt(ct(p,m,"anCells")),v=i([].concat.apply([],g)),b=t.aoColumns.length;return St("cell",h,function(e){var o="function"==typeof e;if(null===e||e===n||o){for(s=[],a=0,l=m.length;a<l;a++)for(r=m[a],c=0;c<b;c++)u={row:r,column:c},o?(d=t.aoData[r],e(u,C(t,r,c),d.anCells?d.anCells[c]:null)&&s.push(u)):s.push(u);return s}return i.isPlainObject(e)?[e]:v.filter(e).map(function(e,t){return r=t.parentNode._DT_RowIndex,{row:r,column:i.inArray(t,p[r].anCells)}}).toArray()},t,f)});var r,s,a,l,c,u=this.columns(t,o),d=this.rows(e,o),h=this.iterator("table",function(e,t){for(r=[],s=0,a=d[t].length;s<a;s++)for(l=0,c=u[t].length;l<c;l++)r.push({row:d[t][s],column:u[t][l]});return r},1);return i.extend(h.selector,{cols:t,rows:e,opts:o}),h}),Ke("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,i){return(e=e.aoData[t].anCells)?e[i]:n},1)}),Xe("cells().data()",function(){return this.iterator("cell",function(e,t,n){return C(e,t,n)},1)}),Ke("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),Ke("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return C(t,n,i,e)},1)}),Ke("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),Ke("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){_(t,n,e,i)})}),Xe("cell()",function(e,t,n){return Tt(this.cells(e,t,n))}),Xe("cell().data()",function(e){var t=this.context,i=this[0];return e===n?t.length&&i.length?C(t[0],i[0].row,i[0].column):n:(S(t[0],i[0].row,i[0].column,e),_(t[0],i[0].row,"data",i[0].column),this)}),Xe("order()",function(e,t){var o=this.context;return e===n?0!==o.length?o[0].aaSorting:n:("number"==typeof e?e=[[e,t]]:i.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Xe("order.listener()",function(e,t,n){return this.iterator("table",function(i){De(i,e,t,n)})}),Xe(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(n,o){var r=[];i.each(t[o],function(t,n){r.push([n,e])}),n.aaSorting=r})}),Xe("search()",function(e,t,o,r){var s=this.context;return e===n?0!==s.length?s[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&V(n,i.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==t&&t,bSmart:null===o||o,bCaseInsensitive:null===r||r}),1)})}),Ke("columns().search()","column().search()",function(e,t,o,r){return this.iterator("column",function(s,a){var l=s.aoPreSearchCols;return e===n?l[a].sSearch:void(s.oFeatures.bFilter&&(i.extend(l[a],{sSearch:e+"",bRegex:null!==t&&t,bSmart:null===o||o,bCaseInsensitive:null===r||r}),V(s,s.oPreviousSearch,1)))})}),Xe("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Xe("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Xe("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Xe("state.save()",function(){return this.iterator("table",function(e){_e(e)})}),qe.versionCheck=qe.fnVersionCheck=function(e){for(var t,n,i=qe.version.split("."),e=e.split("."),o=0,r=e.length;o<r;o++)if(t=parseInt(i[o],10)||0,n=parseInt(e[o],10)||0,t!==n)return t>n;return!0},qe.isDataTable=qe.fnIsDataTable=function(e){var t=i(e).get(0),n=!1;return i.each(qe.settings,function(e,o){var r=o.nScrollHead?i("table",o.nScrollHead)[0]:null,s=o.nScrollFoot?i("table",o.nScrollFoot)[0]:null;o.nTable!==t&&r!==t&&s!==t||(n=!0)}),n},qe.tables=qe.fnTables=function(e){var t=!1;i.isPlainObject(e)&&(t=e.api,e=e.visible);var n=i.map(qe.settings,function(t){if(!e||e&&i(t.nTable).is(":visible"))return t.nTable});return t?new Ve(n):n},qe.util={throttle:ve,escapeRegex:Z},qe.camelToHungarian=r,Xe("$()",function(e,t){var n=this.rows(t).nodes(),n=i(n);return i([].concat(n.filter(e).toArray(),n.find(e).toArray()))}),i.each(["on","one","off"],function(e,t){Xe(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=i(this.tables().nodes());return n[t].apply(n,e),this})}),Xe("clear()",function(){
return this.iterator("table",function(e){A(e)})}),Xe("settings()",function(){return new Ve(this.context,this.context)}),Xe("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Xe("data()",function(){return this.iterator("table",function(e){return lt(e.aoData,"_aData")}).flatten()}),Xe("destroy()",function(t){return t=t||!1,this.iterator("table",function(n){var o,r=n.nTableWrapper.parentNode,s=n.oClasses,a=n.nTable,l=n.nTBody,c=n.nTHead,u=n.nTFoot,d=i(a),l=i(l),h=i(n.nTableWrapper),f=i.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,Pe(n,"aoDestroyCallback","destroy",[n]),t||new Ve(n).columns().visible(!0),h.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(e).unbind(".DT-"+n.sInstance),a!=c.parentNode&&(d.children("thead").detach(),d.append(c)),u&&a!=u.parentNode&&(d.children("tfoot").detach(),d.append(u)),n.aaSorting=[],n.aaSortingFixed=[],Ae(n),i(f).removeClass(n.asStripeClasses.join(" ")),i("th, td",c).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),n.bJUI&&(i("th span."+s.sSortIcon+", td span."+s.sSortIcon,c).detach(),i("th, td",c).each(function(){var e=i("div."+s.sSortJUIWrapper,this);i(this).append(e.contents()),e.detach()})),l.children().detach(),l.append(f),c=t?"remove":"detach",d[c](),h[c](),!t&&r&&(r.insertBefore(a,n.nTableReinsertBefore),d.css("width",n.sDestroyWidth).removeClass(s.sTable),(o=n.asDestroyStripes.length)&&l.children().each(function(e){i(this).addClass(n.asDestroyStripes[e%o])})),r=i.inArray(n,qe.settings),-1!==r&&qe.settings.splice(r,1)})}),i.each(["column","row","cell"],function(e,t){Xe(t+"s().every()",function(e){return this.iterator(t,function(i,o,r,s,a){e.call(new Ve(i)[t](o,"cell"===t?r:n),o,r,s,a)})})}),Xe("i18n()",function(e,t,o){var r=this.context[0],e=T(e)(r.oLanguage);return e===n&&(e=t),o!==n&&i.isPlainObject(e)&&(e=e[o]!==n?e[o]:e._),e.replace("%d",o)}),qe.version="1.10.9-dev",qe.settings=[],qe.models={},qe.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qe.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},qe.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qe.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},qe.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},o(qe.defaults),qe.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},o(qe.defaults.column),qe.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ze(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ze(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,o=this.oFeatures,r=o.bPaginate;return o.bServerSide?!1===r||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!r||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},qe.ext=Ye={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qe.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qe.version},i.extend(Ye,{afnFiltering:Ye.search,aTypes:Ye.type.detect,ofnSearch:Ye.type.search,oSort:Ye.type.order,afnSortData:Ye.order,aoFeatures:Ye.feature,oApi:Ye.internal,oStdClasses:Ye.classes,oPagination:Ye.pager}),i.extend(qe.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Mt="",Mt="",Ft=Mt+"ui-state-default",Ot=Mt+"css_right ui-icon ui-icon-",$t=Mt+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";i.extend(qe.ext.oJUIClasses,qe.ext.classes,{sPageButton:"fg-button ui-button "+Ft,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Ft+" sorting_asc",sSortDesc:Ft+" sorting_desc",sSortable:Ft+" sorting",sSortableAsc:Ft+" sorting_asc_disabled",sSortableDesc:Ft+" sorting_desc_disabled",sSortableNone:Ft+" sorting_disabled",sSortJUIAsc:Ot+"triangle-1-n",sSortJUIDesc:Ot+"triangle-1-s",sSortJUI:Ot+"carat-2-n-s",sSortJUIAscAllowed:Ot+"carat-1-n",sSortJUIDescAllowed:Ot+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Ft,sScrollFoot:"dataTables_scrollFoot "+Ft,sHeaderTH:Ft,sFooterTH:Ft,sJUIHeader:$t+" ui-corner-tl ui-corner-tr",sJUIFooter:$t+" ui-corner-bl ui-corner-br"});var It=qe.ext.pager;i.extend(It,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[He(e,t)]},simple_numbers:function(e,t){return["previous",He(e,t),"next"]},full_numbers:function(e,t){return["first","previous",He(e,t),"next","last"]},_numbers:He,numbers_length:7}),i.extend(!0,qe.ext.renderer,{pageButton:{_:function(e,n,o,r,s,a){var l,c,u,d=e.oClasses,h=e.oLanguage.oPaginate,f=0,p=function(t,n){var r,u,m,g,v=function(t){ue(e,t.data.action,!0)};for(r=0,u=n.length;r<u;r++)if(g=n[r],i.isArray(g))m=i("<"+(g.DT_el||"div")+"/>").appendTo(t),p(m,g);else{switch(l=null,c="",g){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=h.sFirst,c=g+(s>0?"":" "+d.sPageButtonDisabled);break;case"previous":l=h.sPrevious,c=g+(s>0?"":" "+d.sPageButtonDisabled);break;case"next":l=h.sNext,c=g+(s<a-1?"":" "+d.sPageButtonDisabled);break;case"last":l=h.sLast,c=g+(s<a-1?"":" "+d.sPageButtonDisabled);break;default:l=g+1,c=s===g?d.sPageButtonActive:""}null!==l&&(m=i("<a>",{"class":d.sPageButton+" "+c,"aria-controls":e.sTableId,"data-dt-idx":f,tabindex:e.iTabIndex,id:0===o&&"string"==typeof g?e.sTableId+"_"+g:null}).html(l).appendTo(t),Le(m,{action:g},v),f++)}};try{u=i(n).find(t.activeElement).data("dt-idx")}catch(m){}p(i(n).empty(),r),u&&i(n).find("[data-dt-idx="+u+"]").focus()}}}),i.extend(qe.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return st(e,n)?"num"+n:null},function(e){if(e&&!(e instanceof Date)&&(!Je.test(e)||!et.test(e)))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||it(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return st(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return at(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return at(e,n,!0)?"html-num-fmt"+n:null},function(e){return it(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),i.extend(qe.ext.type.search,{html:function(e){return it(e)?e:"string"==typeof e?e.replace(Qe," ").replace(Ze,""):""},string:function(e){return it(e)?e:"string"==typeof e?e.replace(Qe," "):e}});var Lt=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=rt(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-(1/0)};return i.extend(Ye.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return it(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return it(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),je(""),i.extend(!0,qe.ext.renderer,{header:{_:function(e,t,n,o){i(e.nTable).on("order.dt.DT",function(i,r,s,a){e===r&&(i=n.idx,t.removeClass(n.sSortingClass+" "+o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[i]?o.sSortAsc:"desc"==a[i]?o.sSortDesc:n.sSortingClass))})},jqueryui:function(e,t,n,o){i("<div/>").addClass(o.sSortJUIWrapper).append(t.contents()).append(i("<span/>").addClass(o.sSortIcon+" "+n.sSortingClassJUI)).appendTo(t),i(e.nTable).on("order.dt.DT",function(i,r,s,a){e===r&&(i=n.idx,t.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[i]?o.sSortAsc:"desc"==a[i]?o.sSortDesc:n.sSortingClass),t.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==a[i]?o.sSortJUIAsc:"desc"==a[i]?o.sSortJUIDesc:n.sSortingClassJUI))})}}}),qe.render={number:function(e,t,n,i,o){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var s=0>r?"-":"",r=Math.abs(parseFloat(r)),a=parseInt(r,10),r=n?t+(r-a).toFixed(n).substring(2):"";return s+(i||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+r+(o||"")}}}},i.extend(qe.ext.internal,{_fnExternApiFunc:We,_fnBuildAjax:z,_fnAjaxUpdate:H,_fnAjaxParameters:j,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:q,_fnAddColumn:d,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:o,_fnCamelToHungarian:r,_fnLanguageCompat:s,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:x,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,t,n){return i.inArray(n,e.aoData[t].anCells)},_fnGetCellData:C,_fnSetCellData:S,_fnSplitObjNotation:E,_fnGetObjectDataFn:T,_fnSetObjectDataFn:k,_fnGetDataMaster:D,_fnClearTable:A,_fnDeleteIndex:N,_fnInvalidate:_,_fnGetRowElements:M,_fnCreateTr:F,_fnBuildHead:$,_fnDrawHead:I,_fnDraw:L,_fnReDraw:R,_fnAddOptionsHtml:P,_fnDetectHeader:U,_fnGetUniqueThs:B,_fnFeatureHtmlFilter:Y,_fnFilterComplete:V,_fnFilterCustom:X,_fnFilterColumn:K,_fnFilter:G,_fnFilterCreateSearch:Q,_fnEscapeRegex:Z,_fnFilterData:J,_fnFeatureHtmlInfo:ne,_fnUpdateInfo:ie,_fnInfoMacros:oe,_fnInitialise:re,_fnInitComplete:se,_fnLengthChange:ae,_fnFeatureHtmlLength:le,_fnFeatureHtmlPaginate:ce,_fnPageChange:ue,_fnFeatureHtmlProcessing:de,_fnProcessingDisplay:he,_fnFeatureHtmlTable:fe,_fnScrollDraw:pe,_fnApplyToChildren:me,_fnCalculateColumnWidths:ge,_fnThrottle:ve,_fnConvertToWidth:be,_fnGetWidestNode:ye,_fnGetMaxLenString:we,_fnStringToCss:xe,_fnScrollBarWidth:Ce,_fnSortFlatten:Se,_fnSort:Ee,_fnSortAria:Te,_fnSortListener:ke,_fnSortAttachListener:De,_fnSortingClasses:Ae,_fnSortData:Ne,_fnSaveState:_e,_fnLoadState:Me,_fnSettingsFromNode:Fe,_fnLog:Oe,_fnMap:$e,_fnBindAction:Le,_fnCallbackReg:Re,_fnCallbackFire:Pe,_fnLengthOverflow:Ue,_fnRenderer:Be,_fnDataSource:ze,_fnRowAttributes:O,_fnCalculateEnd:function(){}}),i.fn.dataTable=qe,i.fn.dataTableSettings=qe.settings,i.fn.dataTableExt=qe.ext,i.fn.DataTable=function(e){return i(this).dataTable(e).api()},i.each(qe,function(e,t){i.fn.DataTable[e]=t}),i.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):jQuery&&!jQuery.fn.dataTable&&i(jQuery)}(window,document),function(e,t,n){var i=function(e,t){"use strict";e.extend(!0,t.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-6'i><'col-sm-6'p>>",renderer:"bootstrap"}),e.extend(t.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),t.ext.renderer.pageButton.bootstrap=function(n,i,o,r,s,a){var l,c,u=new t.Api(n),d=n.oClasses,h=n.oLanguage.oPaginate,f=function(t,i){var r,p,m,g,v=function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||u.page(t.data.action).draw(!1)};for(r=0,p=i.length;r<p;r++)if(g=i[r],e.isArray(g))f(t,g);else{switch(l="",c="",g){case"ellipsis":l="&hellip;",c="disabled";break;case"first":l=h.sFirst,c=g+(s>0?"":" disabled");break;case"previous":l=h.sPrevious,c=g+(s>0?"":" disabled");break;case"next":l=h.sNext,c=g+(s<a-1?"":" disabled");break;case"last":l=h.sLast,c=g+(s<a-1?"":" disabled");break;default:l=g+1,c=s===g?"active":""}l&&(m=e("<li>",{"class":d.sPageButton+" "+c,"aria-controls":n.sTableId,tabindex:n.iTabIndex,id:0===o&&"string"==typeof g?n.sTableId+"_"+g:null}).append(e("<a>",{href:"#"}).html(l)).appendTo(t),n.oApi._fnBindAction(m,{action:g},v))}};f(e(i).empty().html('<ul class="pagination"/>').children("ul"),r)},t.TableTools&&(e.extend(!0,t.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),e.extend(!0,t.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],i):"object"==typeof exports?i(require("jquery"),require("datatables")):jQuery&&i(jQuery,jQuery.fn.dataTable)}(window,document),!function(e,t,n){"use strict";!function i(e,t,n){function o(s,a){if(!t[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n?n:t)},u,u.exports,i,e,t,n)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(i){var o,r,s,a,l=function(e){return e&&e.__esModule?e:{"default":e}},c=i("./modules/handle-dom"),u=i("./modules/utils"),d=i("./modules/handle-swal-dom"),h=i("./modules/handle-click"),f=i("./modules/handle-key"),p=l(f),m=i("./modules/default-params"),g=l(m),v=i("./modules/set-params"),b=l(v);s=a=function(){function i(e){var t=s;return t[e]===n?g["default"][e]:t[e]}var s=arguments[0];if(c.addClass(t.body,"stop-scrolling"),d.resetInput(),s===n)return u.logStr("SweetAlert expects at least 1 attribute!"),!1;var l=u.extend({},g["default"]);switch(typeof s){case"string":l.title=s,l.text=arguments[1]||"",l.type=arguments[2]||"";break;case"object":if(s.title===n)return u.logStr('Missing "title" argument!'),!1;l.title=s.title;for(var f in g["default"])l[f]=i(f);l.confirmButtonText=l.showCancelButton?"Confirm":g["default"].confirmButtonText,l.confirmButtonText=i("confirmButtonText"),l.doneFunction=arguments[1]||null;break;default:return u.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof s),!1}b["default"](l),d.fixVerticalPosition(),d.openModal(arguments[1]);for(var m=d.getModal(),v=m.querySelectorAll("button"),y=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],w=function(e){return h.handleButton(e,l,m)},x=0;x<v.length;x++)for(var C=0;C<y.length;C++){var S=y[C];v[x][S]=w}d.getOverlay().onclick=w,o=e.onkeydown;var E=function(e){return p["default"](e,l,m)};e.onkeydown=E,e.onfocus=function(){setTimeout(function(){r!==n&&(r.focus(),r=n)},0)},a.enableButtons()},s.setDefaults=a.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");u.extend(g["default"],e)},s.close=a.close=function(){var i=d.getModal();c.fadeOut(d.getOverlay(),5),c.fadeOut(i,5),c.removeClass(i,"showSweetAlert"),c.addClass(i,"hideSweetAlert"),c.removeClass(i,"visible");var s=i.querySelector(".sa-icon.sa-success");c.removeClass(s,"animate"),c.removeClass(s.querySelector(".sa-tip"),"animateSuccessTip"),c.removeClass(s.querySelector(".sa-long"),"animateSuccessLong");var a=i.querySelector(".sa-icon.sa-error");c.removeClass(a,"animateErrorIcon"),c.removeClass(a.querySelector(".sa-x-mark"),"animateXMark");var l=i.querySelector(".sa-icon.sa-warning");return c.removeClass(l,"pulseWarning"),c.removeClass(l.querySelector(".sa-body"),"pulseWarningIns"),c.removeClass(l.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=i.getAttribute("data-custom-class");c.removeClass(i,e)},300),c.removeClass(t.body,"stop-scrolling"),e.onkeydown=o,e.previousActiveElement&&e.previousActiveElement.focus(),r=n,clearTimeout(i.timeout),!0},s.showInputError=a.showInputError=function(e){var t=d.getModal(),n=t.querySelector(".sa-input-error");c.addClass(n,"show");var i=t.querySelector(".sa-error-container");c.addClass(i,"show"),i.querySelector("p").innerHTML=e,setTimeout(function(){s.enableButtons()},1),t.querySelector("input").focus()},s.resetInputError=a.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=d.getModal(),n=t.querySelector(".sa-input-error");c.removeClass(n,"show");var i=t.querySelector(".sa-error-container");c.removeClass(i,"show")},s.disableButtons=a.disableButtons=function(){var e=d.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},s.enableButtons=a.enableButtons=function(){var e=d.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=s:u.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n["default"]=i,t.exports=n["default"]},{}],3:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var o=t("./utils"),r=(t("./handle-swal-dom"),t("./handle-dom")),s=function(t,n,i){function s(e){p&&n.confirmButtonColor&&(f.style.backgroundColor=e)}var c,u,d,h=t||e.event,f=h.target||h.srcElement,p=-1!==f.className.indexOf("confirm"),m=-1!==f.className.indexOf("sweet-overlay"),g=r.hasClass(i,"visible"),v=n.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(p&&n.confirmButtonColor&&(c=n.confirmButtonColor,u=o.colorLuminance(c,-.04),d=o.colorLuminance(c,-.14)),h.type){case"mouseover":s(u);break;case"mouseout":s(c);break;case"mousedown":s(d);break;case"mouseup":s(u);break;case"focus":var b=i.querySelector("button.confirm"),y=i.querySelector("button.cancel");p?y.style.boxShadow="none":b.style.boxShadow="none";break;case"click":var w=i===f,x=r.isDescendant(i,f);if(!w&&!x&&g&&!n.allowOutsideClick)break;p&&v&&g?a(i,n):v&&g||m?l(i,n):r.isDescendant(i,f)&&"BUTTON"===f.tagName&&sweetAlert.close()}},a=function(e,t){var n=!0;r.hasClass(e,"show-input")&&(n=e.querySelector("input").value,n||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var n=String(t.doneFunction).replace(/\s/g,""),i="function("===n.substring(0,9)&&")"!==n.substring(9,10);i&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};i["default"]={handleButton:s,handleConfirm:a,handleCancel:l},n.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,i,o){Object.defineProperty(o,"__esModule",{value:!0});var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},s=function(e,t){r(e,t)||(e.className+=" "+t)},a=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},l=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},c=function(e){e.style.opacity="",e.style.display="block"},u=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},d=function(e){e.style.opacity="",e.style.display="none"},h=function(e){if(e&&!e.length)return d(e);for(var t=0;t<e.length;++t)d(e[t])},f=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},p=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},m=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(i,t)});i()}e.style.display="block"},g=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(i,t):e.style.display="none"});i()},v=function(n){if("function"==typeof MouseEvent){var i=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(i)}else if(t.createEvent){var o=t.createEvent("MouseEvents");o.initEvent("click",!1,!1),n.dispatchEvent(o)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},b=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};o.hasClass=r,o.addClass=s,o.removeClass=a,o.escapeHtml=l,o._show=c,o.show=u,o._hide=d,o.hide=h,o.isDescendant=f,o.getTopMargin=p,o.fadeIn=m,o.fadeOut=g,o.fireClick=v,o.stopEventPropagation=b},{}],5:[function(t,i,o){Object.defineProperty(o,"__esModule",{value:!0});var r=t("./handle-dom"),s=t("./handle-swal-dom"),a=function(t,i,o){var a=t||e.event,l=a.keyCode||a.which,c=o.querySelector("button.confirm"),u=o.querySelector("button.cancel"),d=o.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=a.target||a.srcElement,f=-1,p=0;p<d.length;p++)if(h===d[p]){f=p;break}9===l?(h=-1===f?c:f===d.length-1?d[0]:d[f+1],r.stopEventPropagation(a),h.focus(),i.confirmButtonColor&&s.setFocusStyle(h,i.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=c,c.focus()),h=-1===f?c:n):27===l&&i.allowEscapeKey===!0?(h=u,r.fireClick(h,a)):h=n}};o["default"]=a,i.exports=o["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,i,o){var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(o,"__esModule",{value:!0});var s=n("./utils"),a=n("./handle-dom"),l=n("./default-params"),c=r(l),u=n("./injected-html"),d=r(u),h=".sweet-alert",f=".sweet-overlay",p=function(){var e=t.createElement("div");for(e.innerHTML=d["default"];e.firstChild;)t.body.appendChild(e.firstChild)},m=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(h);return e||(p(),e=m()),e}),g=function(){var e=m();return e?e.querySelector("input"):void 0},v=function(){return t.querySelector(f)},b=function(e,t){var n=s.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},y=function(n){var i=m();a.fadeIn(v(),10),a.show(i),a.addClass(i,"showSweetAlert"),a.removeClass(i,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var o=i.querySelector("button.confirm");o.focus(),setTimeout(function(){a.addClass(i,"visible")},500);var r=i.getAttribute("data-timer");if("null"!==r&&""!==r){var s=n;i.timeout=setTimeout(function(){var e=(s||null)&&"true"===i.getAttribute("data-has-done-function");e?s(null):sweetAlert.close()},r)}},w=function(){var e=m(),t=g();a.removeClass(e,"show-input"),t.value=c["default"].inputValue,t.setAttribute("type",c["default"].inputType),t.setAttribute("placeholder",c["default"].inputPlaceholder),x()},x=function(e){if(e&&13===e.keyCode)return!1;var t=m(),n=t.querySelector(".sa-input-error");a.removeClass(n,"show");var i=t.querySelector(".sa-error-container");a.removeClass(i,"show")},C=function(){var e=m();e.style.marginTop=a.getTopMargin(m())};o.sweetAlertInitialize=p,o.getModal=m,o.getOverlay=v,o.getInput=g,o.setFocusStyle=b,o.openModal=y,o.resetInput=w,o.resetInputError=x,o.fixVerticalPosition=C},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n["default"]=i,t.exports=n["default"]},{}],8:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils"),r=e("./handle-swal-dom"),s=e("./handle-dom"),a=["error","warning","info","success","input","prompt"],l=function(e){var t=r.getModal(),i=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),u=t.querySelector("button.confirm");if(i.innerHTML=e.html?e.title:s.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:s.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&s.show(l),e.customClass)s.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var d=t.getAttribute("data-custom-class");s.removeClass(t,d),t.setAttribute("data-custom-class","")}if(s.hide(t.querySelectorAll(".sa-icon")),e.type&&!o.isIE8()){var h=function(){for(var i=!1,o=0;o<a.length;o++)if(e.type===a[o]){i=!0;break}if(!i)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],c=n;-1!==l.indexOf(e.type)&&(c=t.querySelector(".sa-icon.sa-"+e.type),s.show(c));var u=r.getInput();switch(e.type){case"success":s.addClass(c,"animate"),s.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),s.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":s.addClass(c,"animateErrorIcon"),s.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":s.addClass(c,"pulseWarning"),s.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),s.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":u.setAttribute("type",e.inputType),u.value=e.inputValue,u.setAttribute("placeholder",e.inputPlaceholder),s.addClass(t,"show-input"),setTimeout(function(){u.focus(),u.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var f=t.querySelector(".sa-icon.sa-custom");
f.style.backgroundImage="url("+e.imageUrl+")",s.show(f);var p=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],b=g[1];v&&b?(p=v,m=b):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+p+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":s.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?u.style.display="inline-block":s.hide(u),e.cancelButtonText&&(c.innerHTML=s.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(u.innerHTML=s.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(u.style.backgroundColor=e.confirmButtonColor,u.style.borderLeftColor=e.confirmLoadingButtonColor,u.style.borderRightColor=e.confirmLoadingButtonColor,r.setFocusStyle(u,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var y=!!e.doneFunction;t.setAttribute("data-has-done-function",y),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};i["default"]=l,t.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},s=function(){return e.attachEvent&&!e.addEventListener},a=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,i,o="#";for(i=0;3>i;i++)n=parseInt(e.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),o+=("00"+n).substr(n.length);return o};i.extend=o,i.hexToRgb=r,i.isIE8=s,i.logStr=a,i.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),!function(e){"use strict";function t(e,t){return e+".touchspin_"+t}function n(n,i){return e.map(n,function(e){return t(e,i)})}var i=0;e.fn.TouchSpin=function(t){if("destroy"===t)return void this.each(function(){var t=e(this),i=t.data();e(document).off(n(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],i.spinnerid).join(" "))});var o={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default"},r={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class"};return this.each(function(){function s(){if(!I.data("alreadyinitialized")){if(I.data("alreadyinitialized",!0),i+=1,I.data("spinnerid",i),!I.is("input"))return void console.log("Must be an input.");c(),a(),w(),h(),m(),g(),v(),b(),N.input.css("display","block")}}function a(){""!==D.initval&&""===I.val()&&I.val(D.initval)}function l(e){d(e),w();var t=N.input.val();""!==t&&(t=Number(N.input.val()),N.input.val(t.toFixed(D.decimals)))}function c(){D=e.extend({},o,L,u(),t)}function u(){var t={};return e.each(r,function(e,n){var i="bts-"+n;I.is("[data-"+i+"]")&&(t[e]=I.data(i))}),t}function d(t){D=e.extend({},D,t)}function h(){var e=I.val(),t=I.parent();""!==e&&(e=Number(e).toFixed(D.decimals)),I.data("initvalue",e).val(e),I.addClass("form-control"),t.hasClass("input-group")?f(t):p()}function f(t){t.addClass("bootstrap-touchspin");var n,i,o=I.prev(),r=I.next(),s='<span class="input-group-addon bootstrap-touchspin-prefix">'+D.prefix+"</span>",a='<span class="input-group-addon bootstrap-touchspin-postfix">'+D.postfix+"</span>";o.hasClass("input-group-btn")?(n='<button class="'+D.buttondown_class+' bootstrap-touchspin-down" type="button">-</button>',o.append(n)):(n='<span class="input-group-btn"><button class="'+D.buttondown_class+' bootstrap-touchspin-down" type="button">-</button></span>',e(n).insertBefore(I)),r.hasClass("input-group-btn")?(i='<button class="'+D.buttonup_class+' bootstrap-touchspin-up" type="button">+</button>',r.prepend(i)):(i='<span class="input-group-btn"><button class="'+D.buttonup_class+' bootstrap-touchspin-up" type="button">+</button></span>',e(i).insertAfter(I)),e(s).insertBefore(I),e(a).insertAfter(I),A=t}function p(){var t;t=D.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+D.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+D.postfix+'</span><span class="input-group-btn-vertical"><button class="'+D.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+D.verticalupclass+'"></i></button><button class="'+D.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+D.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+D.buttondown_class+' bootstrap-touchspin-down" type="button">-</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+D.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+D.postfix+'</span><span class="input-group-btn"><button class="'+D.buttonup_class+' bootstrap-touchspin-up" type="button">+</button></span></div>',A=e(t).insertBefore(I),e(".bootstrap-touchspin-prefix",A).after(I),I.hasClass("input-sm")?A.addClass("input-group-sm"):I.hasClass("input-lg")&&A.addClass("input-group-lg")}function m(){N={down:e(".bootstrap-touchspin-down",A),up:e(".bootstrap-touchspin-up",A),input:e("input",A),prefix:e(".bootstrap-touchspin-prefix",A).addClass(D.prefix_extraclass),postfix:e(".bootstrap-touchspin-postfix",A).addClass(D.postfix_extraclass)}}function g(){""===D.prefix&&N.prefix.hide(),""===D.postfix&&N.postfix.hide()}function v(){I.on("keydown",function(e){var t=e.keyCode||e.which;38===t?("up"!==P&&(C(),T()),e.preventDefault()):40===t&&("down"!==P&&(S(),E()),e.preventDefault())}),I.on("keyup",function(e){var t=e.keyCode||e.which;38===t?k():40===t&&k()}),I.on("blur",function(){w()}),N.down.on("keydown",function(e){var t=e.keyCode||e.which;(32===t||13===t)&&("down"!==P&&(S(),E()),e.preventDefault())}),N.down.on("keyup",function(e){var t=e.keyCode||e.which;(32===t||13===t)&&k()}),N.up.on("keydown",function(e){var t=e.keyCode||e.which;(32===t||13===t)&&("up"!==P&&(C(),T()),e.preventDefault())}),N.up.on("keyup",function(e){var t=e.keyCode||e.which;(32===t||13===t)&&k()}),N.down.on("mousedown.touchspin",function(e){N.down.off("touchstart.touchspin"),I.is(":disabled")||(S(),E(),e.preventDefault(),e.stopPropagation())}),N.down.on("touchstart.touchspin",function(e){N.down.off("mousedown.touchspin"),I.is(":disabled")||(S(),E(),e.preventDefault(),e.stopPropagation())}),N.up.on("mousedown.touchspin",function(e){N.up.off("touchstart.touchspin"),I.is(":disabled")||(C(),T(),e.preventDefault(),e.stopPropagation())}),N.up.on("touchstart.touchspin",function(e){N.up.off("mousedown.touchspin"),I.is(":disabled")||(C(),T(),e.preventDefault(),e.stopPropagation())}),N.up.on("mouseout touchleave touchend touchcancel",function(e){P&&(e.stopPropagation(),k())}),N.down.on("mouseout touchleave touchend touchcancel",function(e){P&&(e.stopPropagation(),k())}),N.down.on("mousemove touchmove",function(e){P&&(e.stopPropagation(),e.preventDefault())}),N.up.on("mousemove touchmove",function(e){P&&(e.stopPropagation(),e.preventDefault())}),e(document).on(n(["mouseup","touchend","touchcancel"],i).join(" "),function(e){P&&(e.preventDefault(),k())}),e(document).on(n(["mousemove","touchmove","scroll","scrollstart"],i).join(" "),function(e){P&&(e.preventDefault(),k())}),I.on("mousewheel DOMMouseScroll",function(e){if(D.mousewheel&&I.is(":focus")){var t=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),0>t?S():C()}})}function b(){I.on("touchspin.uponce",function(){k(),C()}),I.on("touchspin.downonce",function(){k(),S()}),I.on("touchspin.startupspin",function(){T()}),I.on("touchspin.startdownspin",function(){E()}),I.on("touchspin.stopspin",function(){k()}),I.on("touchspin.updatesettings",function(e,t){l(t)})}function y(e){switch(D.forcestepdivisibility){case"round":return(Math.round(e/D.step)*D.step).toFixed(D.decimals);case"floor":return(Math.floor(e/D.step)*D.step).toFixed(D.decimals);case"ceil":return(Math.ceil(e/D.step)*D.step).toFixed(D.decimals);default:return e}}function w(){var e,t,n;e=I.val(),""!==e&&(D.decimals>0&&"."===e||(t=parseFloat(e),isNaN(t)&&(t=0),n=t,t.toString()!==e&&(n=t),t<D.min&&(n=D.min),t>D.max&&(n=D.max),n=y(n),Number(e).toString()!==n.toString()&&(I.val(n),I.trigger("change"))))}function x(){if(D.booster){var e=Math.pow(2,Math.floor(R/D.boostat))*D.step;return D.maxboostedstep&&e>D.maxboostedstep&&(e=D.maxboostedstep,_=Math.round(_/e)*e),Math.max(D.step,e)}return D.step}function C(){w(),_=parseFloat(N.input.val()),isNaN(_)&&(_=0);var e=_,t=x();_+=t,_>D.max&&(_=D.max,I.trigger("touchspin.on.max"),k()),N.input.val(Number(_).toFixed(D.decimals)),e!==_&&I.trigger("change")}function S(){w(),_=parseFloat(N.input.val()),isNaN(_)&&(_=0);var e=_,t=x();_-=t,_<D.min&&(_=D.min,I.trigger("touchspin.on.min"),k()),N.input.val(_.toFixed(D.decimals)),e!==_&&I.trigger("change")}function E(){k(),R=0,P="down",I.trigger("touchspin.on.startspin"),I.trigger("touchspin.on.startdownspin"),O=setTimeout(function(){M=setInterval(function(){R++,S()},D.stepinterval)},D.stepintervaldelay)}function T(){k(),R=0,P="up",I.trigger("touchspin.on.startspin"),I.trigger("touchspin.on.startupspin"),$=setTimeout(function(){F=setInterval(function(){R++,C()},D.stepinterval)},D.stepintervaldelay)}function k(){switch(clearTimeout(O),clearTimeout($),clearInterval(M),clearInterval(F),P){case"up":I.trigger("touchspin.on.stopupspin"),I.trigger("touchspin.on.stopspin");break;case"down":I.trigger("touchspin.on.stopdownspin"),I.trigger("touchspin.on.stopspin")}R=0,P=!1}var D,A,N,_,M,F,O,$,I=e(this),L=I.data(),R=0,P=!1;s()})}}(jQuery),$(function(){$.fn.editableform.buttons='<button type="submit" class="btn btn-primary editable-submit btn-sm waves-effect waves-light"><i class="md md-done"></i></button><button type="button" class="btn editable-cancel btn-sm waves-effect waves-light"><i class="md md-clear"></i></button>',$("#username").editable({type:"text",pk:1,name:"username",title:"Enter username"}),$("#firstname").editable({validate:function(e){if(""==$.trim(e))return"This field is required"}}),$("#sex").editable({prepend:"not selected",source:[{value:1,text:"Male"},{value:2,text:"Female"}],display:function(e,t){var n={"":"gray",1:"green",2:"blue"},i=$.grep(t,function(t){return t.value==e});i.length?$(this).text(i[0].text).css("color",n[e]):$(this).empty()}}),$("#status").editable(),$("#group").editable({showbuttons:!1}),$("#dob").editable(),$("#comments").editable({showbuttons:"bottom"}),$("#inline-username").editable({type:"text",pk:1,name:"username",title:"Enter username",mode:"inline"}),$("#inline-firstname").editable({validate:function(e){if(""==$.trim(e))return"This field is required"},mode:"inline"}),$("#inline-sex").editable({prepend:"not selected",mode:"inline",source:[{value:1,text:"Male"},{value:2,text:"Female"}],display:function(e,t){var n={"":"gray",1:"green",2:"blue"},i=$.grep(t,function(t){return t.value==e});i.length?$(this).text(i[0].text).css("color",n[e]):$(this).empty()}}),$("#inline-status").editable({mode:"inline"}),$("#inline-group").editable({showbuttons:!1,mode:"inline"}),$("#inline-dob").editable({mode:"inline"}),$("#inline-comments").editable({showbuttons:"bottom",mode:"inline"})}),function(e){"use strict";var t={options:{addButton:"#addToTable",table:"#datatable-editable",dialog:{wrapper:"#dialog",cancelButton:"#dialogCancel",confirmButton:"#dialogConfirm"}},initialize:function(){this.setVars().build().events()},setVars:function(){return this.$table=e(this.options.table),this.$addButton=e(this.options.addButton),this.dialog={},this.dialog.$wrapper=e(this.options.dialog.wrapper),this.dialog.$cancel=e(this.options.dialog.cancelButton),this.dialog.$confirm=e(this.options.dialog.confirmButton),this},build:function(){return this.datatable=this.$table.DataTable({aoColumns:[null,null,null,{bSortable:!1}]}),window.dt=this.datatable,this},events:function(){var t=this;return this.$table.on("click","a.save-row",function(n){n.preventDefault(),t.rowSave(e(this).closest("tr"))}).on("click","a.cancel-row",function(n){n.preventDefault(),t.rowCancel(e(this).closest("tr"))}).on("click","a.edit-row",function(n){n.preventDefault(),t.rowEdit(e(this).closest("tr"))}).on("click","a.remove-row",function(n){n.preventDefault();var i=e(this).closest("tr");e.magnificPopup.open({items:{src:t.options.dialog.wrapper,type:"inline"},preloader:!1,modal:!0,callbacks:{change:function(){t.dialog.$confirm.on("click",function(n){n.preventDefault(),t.rowRemove(i),e.magnificPopup.close()})},close:function(){t.dialog.$confirm.off("click")}}})}),this.$addButton.on("click",function(e){e.preventDefault(),t.rowAdd()}),this.dialog.$cancel.on("click",function(t){t.preventDefault(),e.magnificPopup.close()}),this},rowAdd:function(){this.$addButton.attr({disabled:"disabled"});var e,t,n;e=['<a href="#" class="hidden on-editing save-row"><i class="fa fa-save"></i></a>','<a href="#" class="hidden on-editing cancel-row"><i class="fa fa-times"></i></a>','<a href="#" class="on-default edit-row"><i class="fa fa-pencil"></i></a>','<a href="#" class="on-default remove-row"><i class="fa fa-trash-o"></i></a>'].join(" "),t=this.datatable.row.add(["","","",e]),n=this.datatable.row(t[0]).nodes().to$(),n.addClass("adding").find("td:last").addClass("actions"),this.rowEdit(n),this.datatable.order([0,"asc"]).draw()},rowCancel:function(e){var t,n;e.hasClass("adding")?this.rowRemove(e):(n=this.datatable.row(e.get(0)).data(),this.datatable.row(e.get(0)).data(n),t=e.find("td.actions"),t.get(0)&&this.rowSetActionsDefault(e),this.datatable.draw())},rowEdit:function(t){var n,i=this;n=this.datatable.row(t.get(0)).data(),t.children("td").each(function(o){var r=e(this);r.hasClass("actions")?i.rowSetActionsEditing(t):r.html('<input type="text" class="form-control input-block" value="'+n[o]+'"/>')})},rowSave:function(t){var n,i=this,o=[];t.hasClass("adding")&&(this.$addButton.removeAttr("disabled"),t.removeClass("adding")),o=t.find("td").map(function(){var n=e(this);return n.hasClass("actions")?(i.rowSetActionsDefault(t),i.datatable.cell(this).data()):e.trim(n.find("input").val())}),this.datatable.row(t.get(0)).data(o),n=t.find("td.actions"),n.get(0)&&this.rowSetActionsDefault(t),this.datatable.draw()},rowRemove:function(e){e.hasClass("adding")&&this.$addButton.removeAttr("disabled"),this.datatable.row(e.get(0)).remove().draw()},rowSetActionsEditing:function(e){e.find(".on-editing").removeClass("hidden"),e.find(".on-default").addClass("hidden")},rowSetActionsDefault:function(e){e.find(".on-editing").addClass("hidden"),e.find(".on-default").removeClass("hidden")}};e(function(){t.initialize()})}.apply(this,[jQuery]);var handleDataTableButtons=function(){"use strict";0!==$("#datatable-buttons").length&&$("#datatable-buttons").DataTable({dom:"Bfrtip",buttons:[{extend:"copy",className:"btn-sm"},{extend:"csv",className:"btn-sm"},{extend:"excel",className:"btn-sm"},{extend:"pdf",className:"btn-sm"},{extend:"print",className:"btn-sm"}],responsive:!0})},TableManageButtons=function(){"use strict";return{init:function(){handleDataTableButtons()}}}();!function(e){"use strict";var t=function(){this.$commentForm=e("#commentForm"),this.$signupForm=e("#signupForm")};t.prototype.init=function(){e.validator.setDefaults({submitHandler:function(){alert("submitted!")}}),this.$commentForm.validate(),this.$signupForm.validate({rules:{firstname:"required",lastname:"required",username:{required:!0,minlength:2},password:{required:!0,minlength:5},confirm_password:{required:!0,minlength:5,equalTo:"#password"},email:{required:!0,email:!0},topic:{required:"#newsletter:checked",minlength:2},agree:"required"},messages:{firstname:"Please enter your firstname",lastname:"Please enter your lastname",username:{required:"Please enter a username",minlength:"Your username must consist of at least 2 characters"},password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},confirm_password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"},email:"Please enter a valid email address",agree:"Please accept our policy"}}),e("#username").focus(function(){var t=e("#firstname").val(),n=e("#lastname").val();t&&n&&!this.value&&(this.value=t+"."+n)});var t=e("#newsletter"),n=t.is(":checked"),i=e("#newsletter_topics")[n?"removeClass":"addClass"]("gray"),o=i.find("input").attr("disabled",!n);t.click(function(){i[this.checked?"removeClass":"addClass"]("gray"),o.attr("disabled",!this.checked)})},e.FormValidator=new t,e.FormValidator.Constructor=t}(window.jQuery),function(e){"use strict";e.FormValidator.init()}(window.jQuery),!function(e){"use strict";var t=function(){};t.prototype.init=function(){e("#sa-basic").click(function(){swal("Here's a message!")}),e("#sa-title").click(function(){swal("Here's a message!","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed lorem erat, tincidunt vitae ipsum et, pellentesque maximus enim. Mauris eleifend ex semper, lobortis purus sed, pharetra felis")}),e("#sa-success").click(function(){swal("Good job!","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed lorem erat, tincidunt vitae ipsum et, pellentesque maximus enim. Mauris eleifend ex semper, lobortis purus sed, pharetra felis","success")}),e("#sa-warning").click(function(){swal({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(){swal("Deleted!","Your imaginary file has been deleted.","success")})}),e("#sa-params").click(function(){swal({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel plx!",closeOnConfirm:!1,closeOnCancel:!1},function(e){e?swal("Deleted!","Your imaginary file has been deleted.","success"):swal("Cancelled","Your imaginary file is safe :)","error")})}),e("#sa-image").click(function(){swal({title:"Sweet!",text:"Here's a custom image.",imageUrl:"assets/vendor/sweetalert/example/images/thumbs-up.jpg"})}),e("#sa-close").click(function(){swal({title:"Auto close alert!",text:"I will close in 2 seconds.",timer:2e3,showConfirmButton:!1})})},e.SweetAlert=new t,e.SweetAlert.Constructor=t}(window.jQuery),function(e){"use strict";e.SweetAlert.init()}(window.jQuery),function(e){e.fn.toggles=function(t){function n(e,t,n,a){var l=e.toggleClass("active").hasClass("active");if(a!==l){var c=e.find(".toggle-inner").css(r);if(e.find(".toggle-off").toggleClass("active"),e.find(".toggle-on").toggleClass("active"),i.checkbox.prop("checked",l),!o){var u=l?0:-t+n;c.css("margin-left",u),setTimeout(function(){c.css(s),c.css("margin-left",u)},i.animate)}}}t=t||{};var i=e.extend({drag:!0,click:!0,text:{on:"ON",off:"OFF"},on:!1,animate:250,transition:"ease-in-out",checkbox:null,clicker:null,width:50,height:20,type:"compact"},t),o="select"==i.type;i.checkbox=e(i.checkbox),i.clicker&&(i.clicker=e(i.clicker)),t="margin-left "+i.animate+"ms "+i.transition;var r={"-webkit-transition":t,"-moz-transition":t,transition:t},s={"-webkit-transition":"","-moz-transition":"",transition:""};return this.each(function(){var t=e(this),r=t.height(),s=t.width();r&&s||(t.height(r=i.height),t.width(s=i.width));var a=e('<div class="toggle-slide">'),l=e('<div class="toggle-inner">'),c=e('<div class="toggle-on">'),u=e('<div class="toggle-off">'),d=e('<div class="toggle-blob">'),h=r/2,f=s-h;if(c.css({height:r,width:f,textAlign:"center",textIndent:o?"":-h,lineHeight:r+"px"}).html(i.text.on),u.css({height:r,width:f,marginLeft:o?"":-h,textAlign:"center",textIndent:o?"":h,lineHeight:r+"px"}).html(i.text.off).addClass("active"),d.css({height:r,width:r,marginLeft:-h}),l.css({width:2*s-r,marginLeft:o?0:-s+r}),o&&(a.addClass("toggle-select"),t.css("width",2*f),d.hide()),t.html(a.html(l.append(c,d,u))),a.on("toggle",function(e,i){e&&e.stopPropagation(),n(a,s,r),t.trigger("toggle",!i)}),t.on("toggleOn",function(){n(a,s,r,!1)}),t.on("toggleOff",function(){n(a,s,r,!0)}),i.on&&n(a,s,r),!i.click||i.clicker&&i.clicker.has(t).length||t.on("click",function(e){(e.target!=d[0]||!i.drag)&&a.trigger("toggle",a.hasClass("active"))}),i.clicker&&i.clicker.on("click",function(e){(e.target!=d[0]||!i.drag)&&a.trigger("toggle",a.hasClass("active"))}),i.drag&&!o){var p,m=(s-r)/4,g=function(e){t.off("mousemove"),a.off("mouseleave"),d.off("mouseup");var n=a.hasClass("active");!p&&i.click&&"mouseleave"!==e.type?a.trigger("toggle",n):n?p<-m?a.trigger("toggle",n):l.animate({marginLeft:0},i.animate/2):p>m?a.trigger("toggle",n):l.animate({marginLeft:-s+r},i.animate/2)},v=-s+r;d.on("mousedown",function(e){p=0,d.off("mouseup"),a.off("mouseleave");var n=e.pageX;t.on("mousemove",d,function(e){p=e.pageX-n,a.hasClass("active")?(e=p,0<p&&(e=0),p<v&&(e=v)):(e=p+v,0>p&&(e=v),p>-v&&(e=0)),l.css("margin-left",e)}),d.on("mouseup",g),a.on("mouseleave",g)})}})}}(jQuery),function(e,t,n){"use strict";var i=function(t,n){this.widget="",this.$element=e(t),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.disableMousewheel=n.disableMousewheel,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.orientation=n.orientation,this.secondStep=n.secondStep,this.snapToStep=n.snapToStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this.showWidgetOnAddonClick=n.showWidgetOnAddonClick,this.icons=n.icons,this.maxHours=n.maxHours,this.explicitMode=n.explicitMode,this.handleDocumentClick=function(e){var t=e.data.scope;t.$element.parent().find(e.target).length||t.$widget.is(e.target)||t.$widget.find(e.target).length||t.hideWidget()},this._init()};i.prototype={constructor:i,_init:function(){var t=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")?(this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":e.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":e.proxy(this.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)}),this.template!==!1?this.$widget=e(this.getTemplate()).on("click",e.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t),"keyup.timepicker":e.proxy(t.widgetKeyup,t)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(e){var t;t=e?this.minute-e:this.minute-this.minuteStep,t<0?(this.decrementHour(),this.minute=t+60):this.minute=t},decrementSecond:function(){var e=this.second-this.secondStep;e<0?(this.decrementMinute(!0),this.second=e+60):this.second=e},elementKeydown:function(e){switch(e.which){case 9:if(e.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}e.preventDefault(),this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:e.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:e.preventDefault(),this.highlightNextUnit(),this.updateFromElementVal();break;case 40:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(n.selection){e.focus();var t=n.selection.createRange(),i=n.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},getTemplate:function(){var e,t,n,i,o,r;switch(this.showInputs?(t='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',o='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',i='<span class="bootstrap-timepicker-second"></span>',o='<span class="bootstrap-timepicker-meridian"></span>'),r='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+t+'</td> <td class="separator">:</td><td>'+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+o+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>",this.template){case"modal":e='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+r+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+r+"</div>"}return e},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),e(n).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="hour",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(0,1):e.setSelectionRange(0,2)},0)},highlightMinute:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="minute",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(2,4):e.setSelectionRange(3,5)},0)},highlightSecond:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="second",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0)},highlightMeridian:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="meridian",e.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.hour<10?e.setSelectionRange(8,10):e.setSelectionRange(9,11);
},0):setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return this.hour===this.maxHours-1?void(this.hour=0):void this.hour++},incrementMinute:function(e){var t;t=e?this.minute+e:this.minute+this.minuteStep-this.minute%this.minuteStep,t>59?(this.incrementHour(),this.minute=t-60):this.minute=t},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;e>59?(this.incrementMinute(!0),this.second=e-60):this.second=e},mousewheel:function(t){if(!this.disableMousewheel){t.preventDefault(),t.stopPropagation();var n=t.originalEvent.wheelDelta||-t.originalEvent.detail,i=null;switch("mousewheel"===t.type?i=t.originalEvent.wheelDelta*-1:"DOMMouseScroll"===t.type&&(i=40*t.originalEvent.detail),i&&(t.preventDefault(),e(this).scrollTop(i+e(this).scrollTop())),this.highlightedUnit){case"minute":n>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":n>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:n>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function(e,t){return e%t===0?e:Math.round(e%t/t)?(e+(t-e%t))%60:e-e%t},place:function(){if(!this.isInline){var n=this.$widget.outerWidth(),i=this.$widget.outerHeight(),o=10,r=e(t).width(),s=e(t).height(),a=e(t).scrollTop(),l=parseInt(this.$element.parents().filter(function(){return"auto"!==e(this).css("z-index")}).first().css("z-index"),10)+10,c=this.component?this.component.parent().offset():this.$element.offset(),u=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),h=c.left,f=c.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(h-=n-d)):(this.$widget.addClass("timepicker-orient-left"),c.left<0?h-=c.left-o:c.left+n>r&&(h=r-n-o));var p,m,g=this.orientation.y;"auto"===g&&(p=-a+c.top-i,m=a+s-(c.top+u+i),g=Math.max(p,m)===m?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+g),"top"===g?f+=u:f-=i+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:f,left:h,zIndex:l})}},remove:function(){e("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(e){if(this.$element.val())this.updateFromElementVal();else if("current"===e){var t=new Date,n=t.getHours(),i=t.getMinutes(),o=t.getSeconds(),r="AM";0!==o&&(o=Math.ceil(t.getSeconds()/this.secondStep)*this.secondStep,60===o&&(i+=1,o=0)),0!==i&&(i=Math.ceil(t.getMinutes()/this.minuteStep)*this.minuteStep,60===i&&(n+=1,i=0)),this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),r="PM"):r="AM"),this.hour=n,this.minute=i,this.second=o,this.meridian=r,this.update()}else e===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(e)},setTime:function(e,t){if(!e)return void this.clear();var n,i,o,r,s,a;if("object"==typeof e&&e.getMonth)o=e.getHours(),r=e.getMinutes(),s=e.getSeconds(),this.showMeridian&&(a="AM",o>12&&(a="PM",o%=12),12===o&&(a="PM"));else{if(n=(/a/i.test(e)?1:0)+(/p/i.test(e)?2:0),n>2)return void this.clear();if(i=e.replace(/[^0-9\:]/g,"").split(":"),o=i[0]?i[0].toString():i.toString(),this.explicitMode&&o.length>2&&o.length%2!==0)return void this.clear();r=i[1]?i[1].toString():"",s=i[2]?i[2].toString():"",o.length>4&&(s=o.slice(-2),o=o.slice(0,-2)),o.length>2&&(r=o.slice(-2),o=o.slice(0,-2)),r.length>2&&(s=r.slice(-2),r=r.slice(0,-2)),o=parseInt(o,10),r=parseInt(r,10),s=parseInt(s,10),isNaN(o)&&(o=0),isNaN(r)&&(r=0),isNaN(s)&&(s=0),s>59&&(s=59),r>59&&(r=59),o>=this.maxHours&&(o=this.maxHours-1),this.showMeridian?(o>12&&(n=2,o-=12),n||(n=1),0===o&&(o=12),a=1===n?"AM":"PM"):o<12&&2===n?o+=12:o>=this.maxHours?o=this.maxHours-1:(o<0||12===o&&1===n)&&(o=0)}this.hour=o,this.snapToStep?(this.minute=this.changeToNearestStep(r,this.minuteStep),this.second=this.changeToNearestStep(s,this.secondStep)):(this.minute=r,this.second=s),this.meridian=a,this.update(t)},showWidget:function(){this.isOpen||this.$element.is(":disabled")||(this.$widget.appendTo(this.appendWidgetTo),e(n).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(e){this.updateElement(),e||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var e=this.hour,t=1===this.minute.toString().length?"0"+this.minute:this.minute,n=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(e),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(e),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var e=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(e,!0)}},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var n=e(t.target),i=n.closest("a").data("action");i&&this[i](),this.update(),n.is("input")&&n.get(0).setSelectionRange(0,2)},widgetKeydown:function(t){var n=e(t.target),i=n.attr("class").replace("bootstrap-timepicker-","");switch(t.which){case 9:if(t.shiftKey){if("hour"===i)return this.hideWidget()}else if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(t.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2);break;case 40:switch(t.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2)}},widgetKeyup:function(e){(65===e.which||77===e.which||80===e.which||46===e.which||8===e.which||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105)&&this.updateFromWidgetInputs()}},e.fn.timepicker=function(t){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var o=e(this),r=o.data("timepicker"),s="object"==typeof t&&t;r||o.data("timepicker",r=new i(this,e.extend({},e.fn.timepicker.defaults,s,e(this).data()))),"string"==typeof t&&r[t].apply(r,n)})},e.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1},e.fn.timepicker.Constructor=i,e(n).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(t){var n=e(this);n.data("timepicker")||(t.preventDefault(),n.timepicker())})}(jQuery,window,document),function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function o(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function r(e){return function(){return this[e].apply(this,arguments)}}function s(t,n){function i(e,t){return t.toLowerCase()}var o,r=e(t).data(),s={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in r)n.test(l)&&(o=l.replace(a,i),s[o]=r[l]);return s}function a(t){var n={};if(m[t]||(t=t.split("-")[0],m[t])){var i=m[t];return e.each(p,function(e,t){t in i&&(n[t]=i[t])}),n}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),c=function(t,n){this._process_options(n),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(o){this._o=e.extend({},this._o,o);var r=this.o=e.extend({},this._o),s=r.language;switch(m[s]||(s=s.split("-")[0],m[s]||(s=f.language)),r.language=s,r.startView){case 2:case"decade":r.startView=2;break;case 1:case"year":r.startView=1;break;default:r.startView=0}switch(r.minViewMode){case 1:case"months":r.minViewMode=1;break;case 2:case"years":r.minViewMode=2;break;default:r.minViewMode=0}r.startView=Math.max(r.startView,r.minViewMode),r.multidate!==!0&&(r.multidate=Number(r.multidate)||!1,r.multidate!==!1&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=g.parseFormat(r.format);if(r.startDate!==-(1/0)&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=g.parseDate(r.startDate,a,r.language):r.startDate=-(1/0)),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=g.parseDate(r.endDate,a,r.language):r.endDate=1/0),r.daysOfWeekDisabled=r.daysOfWeekDisabled||[],e.isArray(r.daysOfWeekDisabled)||(r.daysOfWeekDisabled=r.daysOfWeekDisabled.split(/[,\s]*/)),r.daysOfWeekDisabled=e.map(r.daysOfWeekDisabled,function(e){return parseInt(e,10)}),r.datesDisabled=r.datesDisabled||[],!e.isArray(r.datesDisabled)){var l=[];l.push(g.parseDate(r.datesDisabled,a,r.language)),r.datesDisabled=l}r.datesDisabled=e.map(r.datesDisabled,function(e){return g.parseDate(e,a,r.language)});var c=String(r.orientation).toLowerCase().split(/\s+/g),u=r.orientation.toLowerCase();if(c=e.grep(c,function(e){return/^auto|left|right|top|bottom$/.test(e)}),r.orientation={x:"auto",y:"auto"},u&&"auto"!==u)if(1===c.length)switch(c[0]){case"top":case"bottom":r.orientation.y=c[0];break;case"left":case"right":r.orientation.x=c[0]}else u=e.grep(c,function(e){return/^left|right$/.test(e)}),r.orientation.x=u[0]||"auto",u=e.grep(c,function(e){return/^top|bottom$/.test(e)}),r.orientation.y=u[0]||"auto";else;if(r.defaultViewDate){var d=r.defaultViewDate.year||(new Date).getFullYear(),h=r.defaultViewDate.month||0,p=r.defaultViewDate.day||1;r.defaultViewDate=n(d,h,p)}else r.defaultViewDate=i();r.showOnFocus=r.showOnFocus===t||r.showOnFocus},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n,i,o,r=0;r<e.length;r++)n=e[r][0],2===e[r].length?(i=t,o=e[r][1]):3===e[r].length&&(i=e[r][1],o=e[r][2]),n.on(o,i)},_unapplyEvents:function(e){for(var n,i,o,r=0;r<e.length;r++)n=e[r][0],2===e[r].length?(o=t,i=e[r][1]):3===e[r].length&&(o=e[r][1],i=e[r][2]),n.off(i,o)},_buildEvents:function(){var t={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.dates.get(-1),o=this._utc_to_local(i);this.element.trigger({type:t,date:o,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return g.formatDate(n,t,this.o.language)},this)})},show:function(){if(!this.element.attr("readonly")||this.o.enableOnReadonly!==!1)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var i=this.o.language;return e.map(this.dates,function(e){return g.formatDate(e,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,o=e(this.o.container).width(),r=e(this.o.container).height(),s=e(this.o.container).scrollTop(),a=e(this.o.container).offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var c=Math.max.apply(Math,l)+10,u=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=u.left-a.left,p=u.top-a.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(f-=t-h)):u.left<0?(this.picker.addClass("datepicker-orient-left"),f-=u.left-i):f+t>o?(this.picker.addClass("datepicker-orient-right"),f=u.left+h-t):this.picker.addClass("datepicker-orient-left");var m,g,v=this.o.orientation.y;if("auto"===v&&(m=-s+p-n,g=s+r-(p+d+n),v=Math.max(m,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?p+=d:p-=n+parseInt(this.picker.css("padding-top")),this.o.rtl){var b=o-(f+h);this.picker.css({top:p,right:b,zIndex:c})}else this.picker.css({top:p,left:f,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],i=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return g.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1});var n='<th class="cw">&#160;</th>';t+=n}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+m[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+m[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<r?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>r)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&n.push("today"),this.dates.contains(t)!==-1&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return o(t,e)}).length>0&&n.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&n.push("selected")),n},fill:function(){var i,o=new Date(this.viewDate),r=o.getUTCFullYear(),s=o.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=m[this.o.language].today||m.en.today||"",h=m[this.o.language].clear||m.en.clear||"";if(!isNaN(r)&&!isNaN(s)){this.picker.find(".datepicker-days thead .datepicker-switch").text(m[this.o.language].months[s]+" "+r),this.picker.find("tfoot .today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=n(r,s-1,28),p=g.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(p),f.setUTCDate(p-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var b,y=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),C=new Date(Number(C=n(x.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),S=(x-C)/864e5/7+1;y.push('<td class="cw">'+S+"</td>")}if(b=this.getClassNames(f),b.push("day"),this.o.beforeShowDay!==e.noop){var E=this.o.beforeShowDay(this._utc_to_local(f));E===t?E={}:"boolean"==typeof E?E={enabled:E}:"string"==typeof E&&(E={classes:E}),E.enabled===!1&&b.push("disabled"),E.classes&&(b=b.concat(E.classes.split(/\s+/))),E.tooltip&&(i=E.tooltip)}b=e.unique(b),y.push('<td class="'+b.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+f.getUTCDate()+"</td>"),i=null,f.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var T=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===r&&T.eq(t.getUTCMonth()).addClass("active")}),(r<a||r>c)&&T.addClass("disabled"),r===a&&T.slice(0,l).addClass("disabled"),r===c&&T.slice(u+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var k=this;e.each(T,function(t,n){if(!e(n).hasClass("disabled")){var i=new Date(r,t,1),o=k.o.beforeShowMonth(i);o===!1&&e(n).addClass("disabled")}})}y="",r=10*parseInt(r/10,10);var D=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var A,N=e.map(this.dates,function(e){return e.getUTCFullYear()}),_=-1;_<11;_++)A=["year"],_===-1?A.push("old"):10===_&&A.push("new"),e.inArray(r,N)!==-1&&A.push("active"),(r<a||r>c)&&A.push("disabled"),y+='<span class="'+A.join(" ")+'">'+r+"</span>",r+=1;D.html(y)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var i,o,r,s=e(t.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=g.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(r=1,o=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,o,r))):(r=1,o=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,o,r))),this.showMode(-1),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(r=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s.hasClass("old")?0===o?(o=11,i-=1):o-=1:s.hasClass("new")&&(11===o?(o=0,i+=1):o+=1),this._setDate(n(i,o,r)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var i,o,r=new Date(e.valueOf()),s=r.getUTCDate(),a=r.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)o=n===-1?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==i},i=a+n,r.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var c=0;c<l;c++)r=this.moveMonth(r,n);i=r.getUTCMonth(),r.setUTCDate(s),o=function(){return i!==r.getUTCMonth()}}for(;o();)r.setUTCDate(--s),r.setUTCMonth(i);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(27===e.keyCode&&this.show());var t,n,o,r=!1,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),o=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),o=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+t),o=new Date(s),o.setUTCDate(s.getUTCDate()+t)),this.dateWithinRange(o)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),o=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),o=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*t),o=new Date(s),o.setUTCDate(s.getUTCDate()+7*t)),this.dateWithinRange(o)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,h.call(e(this.inputs),n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker"),i=n.getUTCDate(),o=e.inArray(t.target,this.inputs),r=o-1,s=o+1,a=this.inputs.length;
if(o!==-1){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[s])for(;s<a&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var d=e.fn.datepicker,h=function(n){var i=Array.apply(null,arguments);i.shift();var o;return this.each(function(){var r=e(this),l=r.data("datepicker"),d="object"==typeof n&&n;if(!l){var h=s(this,"date"),p=e.extend({},f,h,d),m=a(p.language),g=e.extend({},f,m,h,d);if(r.hasClass("input-daterange")||g.inputs){var v={inputs:g.inputs||r.find("input").toArray()};r.data("datepicker",l=new u(this,e.extend(g,v)))}else r.data("datepicker",l=new c(this,g))}if("string"==typeof n&&"function"==typeof l[n]&&(o=l[n].apply(l,i),o!==t))return!1}),o!==t?o:this};e.fn.datepicker=h;var f=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},p=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,g.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(i,o,r){function s(){var e=this.slice(0,h[u].length),t=h[u].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!i)return t;if(i instanceof Date)return i;"string"==typeof o&&(o=g.parseFormat(o));var a,l,u,d=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<h.length;u++)switch(a=d.exec(h[u]),l=parseInt(a[1]),a[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var f,p,v={},b=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=o.parts.slice();if(h.length!==w.length&&(w=e(w).filter(function(t,n){return e.inArray(n,b)!==-1}).toArray()),h.length===w.length){var x;for(u=0,x=w.length;u<x;u++){if(f=parseInt(h[u],10),a=w[u],isNaN(f))switch(a){case"MM":p=e(m[r].months).filter(s),f=e.inArray(p[0],m[r].months)+1;break;case"M":p=e(m[r].monthsShort).filter(s),f=e.inArray(p[0],m[r].monthsShort)+1}v[a]=f}var C,S;for(u=0;u<b.length;u++)S=b[u],S in v&&!isNaN(v[S])&&(C=new Date(i),y[S](C,v[S]),isNaN(C)||(i=C))}return i},formatDate:function(t,n,i){if(!t)return"";"string"==typeof n&&(n=g.parseFormat(n));var o={d:t.getUTCDate(),D:m[i].daysShort[t.getUTCDay()],DD:m[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[i].monthsShort[t.getUTCMonth()],MM:m[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,t=[];for(var r=e.extend([],n.separators),s=0,a=n.parts.length;s<=a;s++)r.length&&t.push(r.shift()),t.push(o[n.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=g,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=d,this},e.fn.datepicker.version="1.4.0",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),h.call(n,"show"))}),e(function(){h.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$container=e("<div/>",{"class":"ms-container"}),this.$selectableContainer=e("<div/>",{"class":"ms-selectable"}),this.$selectionContainer=e("<div/>",{"class":"ms-selection"}),this.$selectableUl=e("<ul/>",{"class":"ms-list",tabindex:"-1"}),this.$selectionUl=e("<ul/>",{"class":"ms-list",tabindex:"-1"}),this.scrollTo=0,this.sanitizeRegexp=new RegExp("\\W+","gi"),this.elemsSelector="li:visible:not(.ms-optgroup-label,.ms-optgroup-container,."+n.disabledClass+")"};t.prototype={constructor:t,init:function(){var t=this,n=this.$element;if(0===n.next(".ms-container").length){n.css({position:"absolute",left:"-9999px"}),n.attr("id",n.attr("id")?n.attr("id"):Math.ceil(1e3*Math.random())+"multiselect"),this.$container.attr("id","ms-"+n.attr("id")),n.find("option").each(function(){t.generateLisFromOption(this)}),this.$selectionUl.find(".ms-optgroup-label").hide(),t.options.selectableHeader&&t.$selectableContainer.append(t.options.selectableHeader),t.$selectableContainer.append(t.$selectableUl),t.options.selectableFooter&&t.$selectableContainer.append(t.options.selectableFooter),t.options.selectionHeader&&t.$selectionContainer.append(t.options.selectionHeader),t.$selectionContainer.append(t.$selectionUl),t.options.selectionFooter&&t.$selectionContainer.append(t.options.selectionFooter),t.$container.append(t.$selectableContainer),t.$container.append(t.$selectionContainer),n.after(t.$container),t.activeMouse(t.$selectableUl),t.activeKeyboard(t.$selectableUl);var i=t.options.dblClick?"dblclick":"click";t.$selectableUl.on(i,".ms-elem-selectable",function(){t.select(e(this).data("ms-value"))}),t.$selectionUl.on(i,".ms-elem-selection",function(){t.deselect(e(this).data("ms-value"))}),t.activeMouse(t.$selectionUl),t.activeKeyboard(t.$selectionUl),n.on("focus",function(){t.$selectableUl.focus()})}var o=n.find("option:selected").map(function(){return e(this).val()}).get();t.select(o,"init"),"function"==typeof t.options.afterInit&&t.options.afterInit.call(this,this.$container)},generateLisFromOption:function(t){for(var n=this,i=n.$element,o="",r=e(t),s=0;s<t.attributes.length;s++){var a=t.attributes[s];"value"!==a.name&&"disabled"!==a.name&&(o+=a.name+'="'+a.value+'" ')}var l=e("<li "+o+"><span>"+r.text()+"</span></li>"),c=l.clone(),u=r.val(),d=n.sanitize(u,n.sanitizeRegexp);l.data("ms-value",u).addClass("ms-elem-selectable").attr("id",d+"-selectable"),c.data("ms-value",u).addClass("ms-elem-selection").attr("id",d+"-selection").hide(),(r.prop("disabled")||i.prop("disabled"))&&(c.addClass(n.options.disabledClass),l.addClass(n.options.disabledClass));var h=r.parent("optgroup");if(h.length>0){var f=h.attr("label"),p=n.sanitize(f,n.sanitizeRegexp),m=n.$selectableUl.find("#optgroup-selectable-"+p),g=n.$selectionUl.find("#optgroup-selection-"+p);if(0===m.length){var v='<li class="ms-optgroup-container"></li>',b='<ul class="ms-optgroup"><li class="ms-optgroup-label"><span>'+f+"</span></li></ul>";m=e(v),g=e(v),m.attr("id","optgroup-selectable-"+p),g.attr("id","optgroup-selection-"+p),m.append(e(b)),g.append(e(b)),n.options.selectableOptgroup&&(m.find(".ms-optgroup-label").on("click",function(){var t=h.children(":not(:selected)").map(function(){return e(this).val()}).get();n.select(t)}),g.find(".ms-optgroup-label").on("click",function(){var t=h.children(":selected").map(function(){return e(this).val()}).get();n.deselect(t)})),n.$selectableUl.append(m),n.$selectionUl.append(g)}m.children().append(l),g.children().append(c)}else n.$selectableUl.append(l),n.$selectionUl.append(c)},activeKeyboard:function(t){var n=this;t.on("focus",function(){e(this).addClass("ms-focus")}).on("blur",function(){e(this).removeClass("ms-focus")}).on("keydown",function(i){switch(i.which){case 40:case 38:return i.preventDefault(),i.stopPropagation(),void n.moveHighlight(e(this),38===i.which?-1:1);case 32:return i.preventDefault(),i.stopPropagation(),void n.selectHighlighted(t);case 37:case 39:return i.preventDefault(),i.stopPropagation(),void n.switchList(t)}})},moveHighlight:function(e,t){var n=e.find(this.elemsSelector),i=n.filter(".ms-hover"),o=null,r=n.first().outerHeight(),s=e.height();"#"+this.$container.prop("id");if(n.off("mouseenter"),n.removeClass("ms-hover"),1===t){if(o=i.nextAll(this.elemsSelector).first(),0===o.length){var a=i.parent();if(a.hasClass("ms-optgroup")){var l=a.parent(),c=l.next(":visible");o=c.length>0?c.find(this.elemsSelector).first():n.first()}else o=n.first()}}else if(t===-1&&(o=i.prevAll(this.elemsSelector).first(),0===o.length)){var a=i.parent();if(a.hasClass("ms-optgroup")){var l=a.parent(),u=l.prev(":visible");o=u.length>0?u.find(this.elemsSelector).last():n.last()}else o=n.last()}if(o.length>0){o.addClass("ms-hover");var d=e.scrollTop()+o.position().top-s/2+r/2;e.scrollTop(d)}},selectHighlighted:function(e){var t=e.find(this.elemsSelector),n=t.filter(".ms-hover").first();n.length>0&&(e.parent().hasClass("ms-selectable")?this.select(n.data("ms-value")):this.deselect(n.data("ms-value")),t.removeClass("ms-hover"))},switchList:function(e){e.blur(),e.parent().hasClass("ms-selectable")?this.$selectionUl.focus():this.$selectableUl.focus()},activeMouse:function(t){var n=this;t.on("mousemove",function(){var i=t.find(n.elemsSelector);i.on("mouseenter",function(){i.removeClass("ms-hover"),e(this).addClass("ms-hover")})})},refresh:function(){this.destroy(),this.$element.multiSelect(this.options)},destroy:function(){e("#ms-"+this.$element.attr("id")).remove(),this.$element.removeData("multiselect")},select:function(t,n){"string"==typeof t&&(t=[t]);var i=this,o=this.$element,r=e.map(t,function(e){return i.sanitize(e,i.sanitizeRegexp)}),s=this.$selectableUl.find("#"+r.join("-selectable, #")+"-selectable").filter(":not(."+i.options.disabledClass+")"),a=this.$selectionUl.find("#"+r.join("-selection, #")+"-selection").filter(":not(."+i.options.disabledClass+")"),l=o.find("option:not(:disabled)").filter(function(){return e.inArray(this.value,t)>-1});if(s.length>0){s.addClass("ms-selected").hide(),a.addClass("ms-selected").show(),l.prop("selected",!0);var c=i.$selectableUl.children(".ms-optgroup-container");if(c.length>0){c.each(function(){var t=e(this).find(".ms-elem-selectable");t.length===t.filter(".ms-selected").length&&e(this).find(".ms-optgroup-label").hide()});var u=i.$selectionUl.children(".ms-optgroup-container");u.each(function(){var t=e(this).find(".ms-elem-selection");t.filter(".ms-selected").length>0&&e(this).find(".ms-optgroup-label").show()})}else if(i.options.keepOrder){var d=i.$selectionUl.find(".ms-selected");d.length>1&&d.last().get(0)!=a.get(0)&&a.insertAfter(d.last())}"init"!==n&&(o.trigger("change"),"function"==typeof i.options.afterSelect&&i.options.afterSelect.call(this,t))}},deselect:function(t){"string"==typeof t&&(t=[t]);var n=this,i=this.$element,o=e.map(t,function(e){return n.sanitize(e,n.sanitizeRegexp)}),r=this.$selectableUl.find("#"+o.join("-selectable, #")+"-selectable"),s=this.$selectionUl.find("#"+o.join("-selection, #")+"-selection").filter(".ms-selected"),a=i.find("option").filter(function(){return e.inArray(this.value,t)>-1});if(s.length>0){r.removeClass("ms-selected").show(),s.removeClass("ms-selected").hide(),a.prop("selected",!1);var l=n.$selectableUl.children(".ms-optgroup-container");if(l.length>0){l.each(function(){var t=e(this).find(".ms-elem-selectable");t.filter(":not(.ms-selected)").length>0&&e(this).find(".ms-optgroup-label").show()});var c=n.$selectionUl.children(".ms-optgroup-container");c.each(function(){var t=e(this).find(".ms-elem-selection");0===t.filter(".ms-selected").length&&e(this).find(".ms-optgroup-label").hide()})}i.trigger("change"),"function"==typeof n.options.afterDeselect&&n.options.afterDeselect.call(this,t)}},select_all:function(){var t=this.$element,n=t.val();if(t.find('option:not(":disabled")').prop("selected",!0),this.$selectableUl.find(".ms-elem-selectable").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").hide(),this.$selectionUl.find(".ms-optgroup-label").show(),this.$selectableUl.find(".ms-optgroup-label").hide(),this.$selectionUl.find(".ms-elem-selection").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").show(),this.$selectionUl.focus(),t.trigger("change"),"function"==typeof this.options.afterSelect){var i=e.grep(t.val(),function(t){return e.inArray(t,n)<0});this.options.afterSelect.call(this,i)}},deselect_all:function(){var e=this.$element,t=e.val();e.find("option").prop("selected",!1),this.$selectableUl.find(".ms-elem-selectable").removeClass("ms-selected").show(),this.$selectionUl.find(".ms-optgroup-label").hide(),this.$selectableUl.find(".ms-optgroup-label").show(),this.$selectionUl.find(".ms-elem-selection").removeClass("ms-selected").hide(),this.$selectableUl.focus(),e.trigger("change"),"function"==typeof this.options.afterDeselect&&this.options.afterDeselect.call(this,t)},sanitize:function(e,t){return e.replace(t,"_")}},e.fn.multiSelect=function(){var n=arguments[0],i=arguments;return this.each(function(){var o=e(this),r=o.data("multiselect"),s=e.extend({},e.fn.multiSelect.defaults,o.data(),"object"==typeof n&&n);r||o.data("multiselect",r=new t(this,s)),"string"==typeof n?r[n](i[1]):r.init()})},e.fn.multiSelect.defaults={selectableOptgroup:!1,disabledClass:"disabled",dblClick:!1,keepOrder:!1},e.fn.multiSelect.Constructor=t}(window.jQuery),function(e,t,n,i){e.fn.quicksearch=function(n,i){var o,r,s,a,l="",c=this,u=e.extend({delay:100,selector:null,stripeRows:null,loader:null,noResults:"",matchedResultsCount:0,bind:"keyup",onBefore:function(){},onAfter:function(){},show:function(){this.style.display=""},hide:function(){this.style.display="none"},prepareQuery:function(e){return e.toLowerCase().split(" ")},testQuery:function(e,t,n){for(var i=0;i<e.length;i+=1)if(t.indexOf(e[i])===-1)return!1;return!0}},i);return this.go=function(){for(var e=0,t=0,n=!0,i=u.prepareQuery(l),o=0===l.replace(" ","").length,e=0,a=s.length;e<a;e++)o||u.testQuery(i,r[e],s[e])?(u.show.apply(s[e]),n=!1,t++):u.hide.apply(s[e]);return n?this.results(!1):(this.results(!0),this.stripe()),this.matchedResultsCount=t,this.loader(!1),u.onAfter(),this},this.search=function(e){l=e,c.trigger()},this.currentMatchedResults=function(){return this.matchedResultsCount},this.stripe=function(){if("object"==typeof u.stripeRows&&null!==u.stripeRows){var t=u.stripeRows.join(" "),n=u.stripeRows.length;a.not(":hidden").each(function(i){e(this).removeClass(t).addClass(u.stripeRows[i%n])})}return this},this.strip_html=function(t){var n=t.replace(new RegExp("<[^<]+>","g"),"");return n=e.trim(n.toLowerCase())},this.results=function(t){return"string"==typeof u.noResults&&""!==u.noResults&&(t?e(u.noResults).hide():e(u.noResults).show()),this},this.loader=function(t){return"string"==typeof u.loader&&""!==u.loader&&(t?e(u.loader).show():e(u.loader).hide()),this},this.cache=function(){a=e(n),"string"==typeof u.noResults&&""!==u.noResults&&(a=a.not(u.noResults));var t="string"==typeof u.selector?a.find(u.selector):e(n).not(u.noResults);return r=t.map(function(){return c.strip_html(this.innerHTML)}),s=a.map(function(){return this}),l=l||this.val()||"",this.go()},this.trigger=function(){return this.loader(!0),u.onBefore(),t.clearTimeout(o),o=t.setTimeout(function(){c.go()},u.delay),this},this.cache(),this.results(!0),this.stripe(),this.loader(!1),this.each(function(){e(this).on(u.bind,function(){l=e(this).val(),c.trigger()})})}}(jQuery,this,document),!function(e){var t=void 0!==window.orientation,n=navigator.userAgent.toLowerCase().indexOf("android")>-1,i=function(t,i){n||(this.$element=e(t),this.options=e.extend({},e.fn.inputmask.defaults,i),this.mask=String(i.mask),this.init(),this.listen(),this.checkVal())};i.prototype={init:function(){var t=this.options.definitions,n=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,e.each(this.mask.split(""),e.proxy(function(e,i){"?"==i?(n--,this.partialPosition=e):t[i]?(this.tests.push(new RegExp(t[i])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=e.map(this.mask.split(""),e.proxy(function(e,n){if("?"!=e)return t[e]?this.options.placeholder:e},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",e.proxy(function(){return e.map(this.buffer,function(e,t){return this.tests[t]&&e!=this.options.placeholder?e:null}).join("")},this))},listen:function(){if(!this.$element.attr("readonly")){var t=(navigator.userAgent.match(/msie/i)?"paste":"input")+".mask";this.$element.on("unmask",e.proxy(this.unmask,this)).on("focus.mask",e.proxy(this.focusEvent,this)).on("blur.mask",e.proxy(this.blurEvent,this)).on("keydown.mask",e.proxy(this.keydownEvent,this)).on("keypress.mask",e.proxy(this.keypressEvent,this)).on(t,e.proxy(this.pasteEvent,this))}},caret:function(e,t){if(0!==this.$element.length){if("number"==typeof e)return t="number"==typeof t?t:e,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(e,t);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}});if(this.$element[0].setSelectionRange)e=this.$element[0].selectionStart,t=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var n=document.selection.createRange();e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length}return{begin:e,end:t}}},seekNext:function(e){for(var t=this.mask.length;++e<=t&&!this.tests[e];);return e},seekPrev:function(e){for(;--e>=0&&!this.tests[e];);return e},shiftL:function(e,t){var n=this.mask.length;if(!(e<0)){for(var i=e,o=this.seekNext(t);i<n;i++)if(this.tests[i]){if(!(o<n&&this.tests[i].test(this.buffer[o])))break;this.buffer[i]=this.buffer[o],this.buffer[o]=this.options.placeholder,o=this.seekNext(o)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}},shiftR:function(e){for(var t=this.mask.length,n=e,i=this.options.placeholder;n<t;n++)if(this.tests[n]){var o=this.seekNext(n),r=this.buffer[n];if(this.buffer[n]=i,!(o<t&&this.tests[o].test(r)))break;i=r}},unmask:function(){this.$element.unbind(".mask").removeData("inputmask")},focusEvent:function(){this.focusText=this.$element.val();var t=this.mask.length,n=this.checkVal();this.writeBuffer();var i=this,o=function(){n==t?i.caret(0,n):i.caret(n)};e.browser.msie?o():setTimeout(o,0)},blurEvent:function(){this.checkVal(),this.$element.val()!=this.focusText&&this.$element.trigger("change")},keydownEvent:function(e){var n=e.which;if(8==n||46==n||t&&127==n){var i=this.caret(),o=i.begin,r=i.end;return r-o===0&&(o=46!=n?this.seekPrev(o):r=this.seekNext(o-1),r=46==n?this.seekNext(r):r),this.clearBuffer(o,r),this.shiftL(o,r-1),!1}if(27==n)return this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1},keypressEvent:function(e){var t=this.mask.length,n=e.which,i=this.caret();if(e.ctrlKey||e.altKey||e.metaKey||n<32)return!0;if(n){i.end-i.begin!==0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1));var o=this.seekNext(i.begin-1);if(o<t){var r=String.fromCharCode(n);if(this.tests[o].test(r)){this.shiftR(o),this.buffer[o]=r,this.writeBuffer();var s=this.seekNext(o);this.caret(s)}}return!1}},pasteEvent:function(){var e=this;setTimeout(function(){e.caret(e.checkVal(!0))},0)},clearBuffer:function(e,t){for(var n=this.mask.length,i=e;i<t&&i<n;i++)this.tests[i]&&(this.buffer[i]=this.options.placeholder)},writeBuffer:function(){return this.$element.val(this.buffer.join("")).val()},checkVal:function(e){for(var t=this.mask.length,n=this.$element.val(),i=-1,o=0,r=0;o<t;o++)if(this.tests[o]){for(this.buffer[o]=this.options.placeholder;r++<n.length;){var s=n.charAt(r-1);if(this.tests[o].test(s)){this.buffer[o]=s,i=o;break}}if(r>n.length)break}else this.buffer[o]==n.charAt(r)&&o!=this.partialPosition&&(r++,i=o);return!e&&i+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,t)):(e||i+1>=this.partialPosition)&&(this.writeBuffer(),e||this.$element.val(this.$element.val().substring(0,i+1))),this.partialPosition?o:this.firstNonMaskPos}},e.fn.inputmask=function(t){return this.each(function(){var n=e(this),o=n.data("inputmask");o||n.data("inputmask",o=new i(this,t))})},e.fn.inputmask.defaults={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}},e.fn.inputmask.Constructor=i,e(document).on("focus.inputmask.data-api","[data-mask]",function(t){var n=e(this);n.data("inputmask")||(t.preventDefault(),n.inputmask(n.data()))})}(window.jQuery);